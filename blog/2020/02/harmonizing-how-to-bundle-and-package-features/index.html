<!doctype html>
<html data-n-head-ssr class="layout--default zone__sandwich light-mode" lang="en-CA" data-n-head="%7B%22class%22:%7B%22ssr%22:%5B%22layout--default%22,%22zone__sandwich%22,%22light-mode%22%5D%7D,%22lang%22:%7B%22ssr%22:%22en-CA%22%7D%7D">
  <head>
    <title>Harmonizing how to bundle and package JavaScript/ECMAScript features - Renoir Boulanger</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" property="og:image" content="https://secure.gravatar.com/avatar/cbf8c9036c204fe85e15155f9d70faec?s=400"><meta data-n-head="ssr" property="twitter:card" content="summary_large_image"><meta data-n-head="ssr" property="twitter:site" content="@renoirb"><meta data-n-head="ssr" data-hid="description-research-summar" name="description" content="Research summary on experiments made in 2018 and 2019 about related to ECMASCript/JavaScript packaging, publishing and bundling"><base href="/site/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="alternate" type="application/rss+xml" title="Renoir Boulanger‚Äôs Page Updates RSS Feed" href="https://renoirboulanger.com/feed.xml"><link data-n-head="ssr" rel="alternate" type="application/feed+json" title="Renoir Boulanger‚Äôs Page Updates Feed" href="https://renoirboulanger.com/feed.json"><link rel="preload" href="/_nuxt/runtime.js" as="script"><link rel="preload" href="/_nuxt/commons/app.js" as="script"><link rel="preload" href="/_nuxt/vendors/app.css" as="style"><link rel="preload" href="/_nuxt/vendors/app.js" as="script"><link rel="preload" href="/_nuxt/app.css" as="style"><link rel="preload" href="/_nuxt/app.js" as="script"><link rel="preload" href="/_nuxt/pages/blog.css" as="style"><link rel="preload" href="/_nuxt/pages/blog.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/_year.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/_year/_month.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/_year/_month/_slug.css" as="style"><link rel="preload" href="/_nuxt/pages/blog/_year/_month/_slug.js" as="script"><link rel="stylesheet" href="/_nuxt/vendors/app.css"><link rel="stylesheet" href="/_nuxt/app.css"><link rel="stylesheet" href="/_nuxt/pages/blog.css"><link rel="stylesheet" href="/_nuxt/pages/blog/_year/_month/_slug.css"><link rel="preload" href="/site/_nuxt/static/1729800241/blog/2020/02/harmonizing-how-to-bundle-and-package-features/state.js" as="script"><link rel="preload" href="/site/_nuxt/static/1729800241/blog/2020/02/harmonizing-how-to-bundle-and-package-features/payload.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function (){"use strict";var e=window,t=document,s=t.documentElement,n=["dark","light"],a=function(e){for(var s=e+"=",n=t.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(s))return o.substring(s.length,o.length)}return null}("nuxt-color-mode")||"light",o="system"===a?i():a;function r(e){var t=e+"-mode";s.classList?s.classList.add(t):s.className+=" "+t}function c(t){return e.matchMedia("(prefers-color-scheme"+t+")")}function i(){if(e.matchMedia&&"not all"!==c("").media)for(var t of n)if(c(":"+t).matches)return t;return"light"}r(o),e["__NUXT_COLOR_MODE__"]={preference:a,value:o,getColorScheme:i,addClass:r,removeClass:function(e){var t=e+"-mode";s.classList?s.classList.remove(t):s.className=s.className.replace(new RegExp(t,"g"),"")}}}();
</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="layouts--default"><!----> <nav class="app-side-bar--component fixed z-40 w-full top z-50" data-v-cf57f860 data-v-2b2f37b3><div class="zone__sandwich__top container flex items-center justify-between py-4 mx-auto" style="position:relative" data-v-cf57f860><!----> <div class="app-side-bar__identity md:px-5 flex items-center" data-v-cf57f860><button aria-label="Open Menu" class="md:hidden ml-5 mr-2" data-v-cf57f860><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-8 h-8" data-v-cf57f860><path d="M4 6h16M4 12h16M4 18h16" data-v-cf57f860></path></svg></button> <a href="/" data-wip="components/global/AppSideBar.vue" class="identity__text font-semibold nuxt-link-active" data-v-cf57f860>
        Renoir Boulanger
      </a></div> <div class="app-side-bar__nav flex items-center" data-v-cf57f860><div class="md:flex md:justify-between md:bg-transparent text-is-italicized hidden" data-v-cf57f860><a href="/blog" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded nuxt-link-active" data-v-2b2f37b3>
      Blog
    </a><a href="/projects" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded" data-v-2b2f37b3>
      Projects
    </a><a href="/resume/as-code" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded" data-v-2b2f37b3>
      Resume
    </a><a href="/hello" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded" data-v-2b2f37b3>
      About
    </a></div></div></div> <aside class="md:invisible app-side-bar__aside fixed top-0 left-0 visible w-64 h-full overflow-auto transition-all duration-500 ease-in-out transform -translate-x-full" data-v-cf57f860><div class="app-side-bar__identity flex items-center w-full h-16 p-4 border-b" data-v-cf57f860><a href="/" class="identity__text nuxt-link-active" data-v-cf57f860>Renoir Boulanger</a></div> <div data-v-cf57f860><a href="/blog" class="hover:bg-teal-500 hover:text-white flex items-center p-4 nuxt-link-active" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          Blog
        </span></a><a href="/projects" class="hover:bg-teal-500 hover:text-white flex items-center p-4" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          Projects
        </span></a><a href="/resume/as-code" class="hover:bg-teal-500 hover:text-white flex items-center p-4" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          Resume
        </span></a><a href="/hello" class="hover:bg-teal-500 hover:text-white flex items-center p-4" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          About
        </span></a></div></aside></nav> <div class="fixed inset-0 z-40 transition-opacity" style="display:none"><div class="absolute inset-0 bg-black opacity-75"></div></div> <main class="zone__sandwich__meat middle container z-40 mx-auto"><div data-wip="layout/default.vue" class="md:m-10 grid grid-cols-1 m-5"><section data-wip="pages/blog.vue" class="pages__blog--parent"><div class="pages-blog--parent--top justify-items-stretch sm:grid-cols-2 sm:grid-flow-row md:grid-flow-col-dense grid grid-cols-1 gap-4"><nav class="breadcrumb" data-v-ede238bc><ol class="list-none p-0 inline-flex" data-v-ede238bc><li class="flex items-center" data-v-ede238bc><a href="/blog" class="nuxt-link-active" data-v-ede238bc>blog</a></li><li class="flex items-center" data-v-ede238bc><a href="/blog/2020" class="nuxt-link-active" data-v-ede238bc>2020</a></li><li class="flex items-center" data-v-ede238bc><a href="/blog/2020/02" class="nuxt-link-active" data-v-ede238bc>02</a></li></ol></nav></div> <!----> <div class="pages-blog--parent--bottom"><div q=""><!----> <div><div class="pages__blog__year__month--parent"><div class="pages__blog__year__month__slug--item" data-v-79a168f2><div data-v-79a168f2><rb-notice-box variant="warn" role="alert" class="disposition-parent app-alert-box my-4" data-v-79a168f2 data-v-79a168f2><!----> <!----> <div class="nuxt-content" data-v-79a168f2></div></rb-notice-box></div> <div class="document document--item z-30" data-v-79a168f2><div data-wip="pages/blog/_year/_month/_slug.vue" class="title page-title lg:pr-64 mb-4 font-serif text-2xl italic" data-v-79a168f2><h1 data-v-79a168f2>Harmonizing how to bundle and package JavaScript/ECMAScript features</h1></div> <div class="mt-0 mb-5 font-serif text-sm italic" data-v-79a168f2><time datetime="2020-02-04" data-v-79a168f2>
        Tuesday, February 4, 2020
      </time> <!----></div> <div class="taxonomy mt-0 mb-5 taxonomy-hoverizable" data-v-79a168f2><strong id="tags__198" class="taxonomy-label">
    Tags
  </strong> <ul aria-labelled-by="tags__198" class="taxonomy-items"><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/frontend" class="no-underline">frontend</nuxtlink></li><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/packaging" class="no-underline">packaging</nuxtlink></li><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/architecture" class="no-underline">architecture</nuxtlink></li> <li class="category px-2 py-1 mb-3 mr-3 is-hoverizable"><a href="/blog/category/experiments" class="no-underline">üìÅ experiments</a></li></ul></div> <div class="body mt-10" data-v-79a168f2><!----> <div class="nuxt-content" data-v-79a168f2 data-v-79a168f2><p data-v-79a168f2 data-v-79a168f2>Part of my time has been spent on finding a flexible way to organize code and
make it reusable between projects.</p>
<p data-v-79a168f2 data-v-79a168f2>I enjoy writing in TypeScript, but not all projects are always the same. Some
projects are written as a component library, sometimes they aren‚Äôt written in
TypeScript. We wanted a way to tell an entry-point, and flexibility to re-use
the same configuration even when we have many build output targets.</p>
<p data-v-79a168f2 data-v-79a168f2>I‚Äôve found a way to harmonize how to bundle JavaScript projects following
closely NPM‚Äôs packaging conventions. To do so, I‚Äôve found and successfully been
able to manage many small projects, each with their respective way of testing
and bundling. All of this, without imposing choices when using them.</p>
<p data-v-79a168f2 data-v-79a168f2>The objective was that we can write modern ECMAScript, and leverage polyfills
that Babel,Rollup and core-js can give us.</p>
<p data-v-79a168f2 data-v-79a168f2>For example, a library can be written in TypeScript, but is known to be destined
to be used in an Express middleware in ECMAScript 5 on a legacy Node.js service
at v8.0.0 LTS. We can have a build target for this. We could equally have a
build target to be transpiled to run on Node.js v12.0.0 too.</p>
<p data-v-79a168f2 data-v-79a168f2>In this example below you‚Äôll see that I use the same "convention enforcement"
tool would be used between many small modules.</p>
<p data-v-79a168f2 data-v-79a168f2>I called that tool "<code data-v-79a168f2 data-v-79a168f2>@renoirb/conventions-use-bili</code>", it‚Äôs a micro package
<a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/conventions/use-bili/package.json" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>inside a monorepo</a> (using Microsoft <a href="https://rushjs.io/" rel="nofollow noopener noreferrer" target="_blank" title="Rush.js a scalable monorepo manager for the web" data-v-79a168f2 data-v-79a168f2>Rush.js</a>, <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/rush.json#L357-L386" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>link to monorepo‚Äôs
<code data-v-79a168f2 data-v-79a168f2>rush.json</code></a>), and <a href="https://www.npmjs.com/package/@renoirb/conventions-use-bili" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>published on NPM</a>.</p>
<p data-v-79a168f2 data-v-79a168f2>Notice that "<code data-v-79a168f2 data-v-79a168f2>@renoirb/...</code>" packages shown here are public copies (my employer
allowed me sharing publicly) of our internal packages namespaced as
"<code data-v-79a168f2 data-v-79a168f2>@frontend-bindings/...</code>" that I‚Äôve been working on in the last months. The
original package name is <em data-v-79a168f2 data-v-79a168f2>@frontend-bindings/conventions-use-bili</em> and is
effectively the same as shown throught this document. In the following <a href="https://youtu.be/NHJiCwLUakE" rel="nofollow noopener noreferrer" target="_blank" title="Video on YouTube" data-v-79a168f2 data-v-79a168f2>Video is
on YouTube <em data-v-79a168f2 data-v-79a168f2>Publishing and importing vue-app-layout into a Nuxt.js
project</em></a> shown in "Data-Driven UI" document, we can also see
<em data-v-79a168f2 data-v-79a168f2>conventions-use-bili</em> in use.</p>
<p data-v-79a168f2 data-v-79a168f2>(Aside: I‚Äôm showing code maintained on two distinct projects, one hosted on
GitLab, and a library maintained on GitHub, published on NPM.)</p>
<h2 id="introduction" data-v-79a168f2 data-v-79a168f2><a href="#introduction" aria-hidden="true" tabindex="-1" data-v-79a168f2 data-v-79a168f2><span class="icon icon-link" data-v-79a168f2 data-v-79a168f2></span></a>Introduction</h2>
<p data-v-79a168f2 data-v-79a168f2>Before this library, I was regularly copy-pasting Babel+Rollup.js configuration
code around resulting about 50 lines and more of code that would sometimes be
the same, or with just slight modifications.¬† Making it hard to peers to see the
difference. Copy-Pasting 50 lines for a project or two is OK, but when we have
more than 30 packages, it becomes wild, quickly. Even more so when we know we‚Äôll
have many more small packages coming up.</p>
<p data-v-79a168f2 data-v-79a168f2>It‚Äôs been useful to me on many occasions. I would have to copy-paste many lines
and tweaks around, until I created that module.</p>
<p data-v-79a168f2 data-v-79a168f2>I‚Äôd like to make this example an illustration of code publicly visible of
infrastructure package and a few example modules leveraging that infrastructure
package.</p>
<p data-v-79a168f2 data-v-79a168f2>Design:</p>
<ol data-v-79a168f2 data-v-79a168f2>
<li data-v-79a168f2 data-v-79a168f2>Simplest usage surface (i.e. one file, a handful of lines)</li>
<li data-v-79a168f2 data-v-79a168f2>Support modern ESM module in <code data-v-79a168f2 data-v-79a168f2>src/*</code></li>
<li data-v-79a168f2 data-v-79a168f2>Support loading tests system</li>
<li data-v-79a168f2 data-v-79a168f2>Support using TypeScript, but not mandatory</li>
<li data-v-79a168f2 data-v-79a168f2>Support multiple build targets</li>
</ol>
<h2 id="scenario" data-v-79a168f2 data-v-79a168f2><a href="#scenario" aria-hidden="true" tabindex="-1" data-v-79a168f2 data-v-79a168f2><span class="icon icon-link" data-v-79a168f2 data-v-79a168f2></span></a>Scenario</h2>
<p data-v-79a168f2 data-v-79a168f2><a href="https://github.com/egoist/bili" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>egoist/bili</a> is a tool written by a popular Vue.js contributor¬†@egoist which
helps setting Rollup.js, and Babel, and TypeScript together. It helps with
managing configuration but had a few options missing (notice that there are
other packages that helps with missing features mentioned here, but won‚Äôt be
covered here).</p>
<p data-v-79a168f2 data-v-79a168f2>The module mostly piggy-back on <code data-v-79a168f2 data-v-79a168f2>BROWSERSLIST</code>, <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/conventions/use-bili/src/plugins.ts#L74" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>whether or not to add
node_modules dependencies as part of the build output
(<code data-v-79a168f2 data-v-79a168f2>hasBiliBundleNodeModulesOption</code>)</a>, and with core-js.</p>
<p data-v-79a168f2 data-v-79a168f2><em data-v-79a168f2 data-v-79a168f2>@renoirb/conventions-use-bili</em> is used in a project with simplest usage surface
(e.g. <a href="https://gitlab.com/renoirb/renoirb-particles/blob/master/libraries/jsonschema-aware-loader/bili.config.ts#L4" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>jsonschema-aware-loader</code></a>, <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/packages/date-epoch/bili.config.ts#L4" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>date-epoch</code></a>, <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/packages/validatable/bili.config.ts#L4" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>validatable</code></a> in
their respective <code data-v-79a168f2 data-v-79a168f2>bili.config.js</code>‚Äô <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/conventions/use-bili/src/main.ts#L13" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2><em data-v-79a168f2 data-v-79a168f2>conventions-use-bili</em>‚Äôs
config</a>). Then the rest is handled by <a href="https://gitlab.com/renoirb/renoirb-particles/blob/master/libraries/jsonschema-aware-loader/package.json#L34" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>build CLI
arguments</a>. <em data-v-79a168f2 data-v-79a168f2>convention-use-bili</em> is a package that is published through NPM
(<a href="https://www.npmjs.com/package/@renoirb/conventions-use-bili" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>public copy</a>), and is <a href="https://www.npmjs.com/search?q=renoirb%2Fconventions-use" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>part of many other
packaging</a> (see <em data-v-79a168f2 data-v-79a168f2>conventions-use-bili</em>‚Äôs
<a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/conventions/use-bili/package.json#L46-L50" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>package.json</a>) specialized packages. See the
<em data-v-79a168f2 data-v-79a168f2>conventions-use-bili</em>‚Äôs top-level <a href="https://rushjs.io/" rel="nofollow noopener noreferrer" target="_blank" title="Rush.js a scalable monorepo manager for the web" data-v-79a168f2 data-v-79a168f2>Rush.js</a> <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/rush.json#L357-L386" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>rush.json</code> monorepo
configuration</a>.</p>
<p data-v-79a168f2 data-v-79a168f2>Breaking into smaller packages doesn‚Äôt make us forced to put ALL projects
together, for example <em data-v-79a168f2 data-v-79a168f2>JSONSchema Aware Loader</em> is maintained <a href="https://gitlab.com/renoirb/renoirb-particles/-/tree/master/" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>in a separate
monorepo hosted on GitLab</a>. So we have full
flexibility in where we maintain and in what language packages are written in.</p>
<p data-v-79a168f2 data-v-79a168f2>Notice that <code data-v-79a168f2 data-v-79a168f2>@renoirb/validatable</code> <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/e1e5a43e/packages/validatable/bili.config.ts#L4" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>validatable</a> isn‚Äôt maintained in
TypeScript, yet it is managed using the same tooling.</p>
<p data-v-79a168f2 data-v-79a168f2>In the case of <em data-v-79a168f2 data-v-79a168f2>JSONSchema Aware Loader</em>, a utility I‚Äôm using to enforce JSON
schema validation BEFORE importing, we won‚Äôt need many build variants.</p>
<p data-v-79a168f2 data-v-79a168f2>But what if we do need many variants.</p>
<p data-v-79a168f2 data-v-79a168f2>Let‚Äôs say we have a bit of code that uses for-of ECMAScript 2015 iteration
(<a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/2c040828/polyfill/for-of-example/src/index.ts#L7" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>for-of-example module</a>), and we want the same code, with same tests, to be
deployed on both modern and legacy.</p>
<p data-v-79a168f2 data-v-79a168f2>We‚Äôd need two build outputs <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/2c040828/polyfill/for-of-example/dist/index.esm.js#L39" rel="nofollow noopener noreferrer" target="_blank" title="Notice the code is copied as-is" data-v-79a168f2 data-v-79a168f2>for-of-example module as ESM module</a> (notice the
code is used as-is), <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/2c040828/polyfill/for-of-example/dist/index.browser.ie6to9.js" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>for-of-example module to work on Internet Explorer 6 up to
9</a>.</p>
<p data-v-79a168f2 data-v-79a168f2>Notice in the case of Internet Explorer‚Äôs version, <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/2c04082/polyfill/for-of-example/dist/index.browser.ie6to9.js#L475" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>we are
inlining</a> automatically from <a href="https://github.com/zloirock/core-js/blob/6929d43/packages/core-js/internals/iterators-core.js#L15" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>publicly maintained
list of "polyfills" (see <code data-v-79a168f2 data-v-79a168f2>core-js</code> source)</a>. All of which
is possible because <a href="https://github.com/renoirb/experiments-201908-rush-typescript-just-bili-monorepo/blob/2c040828/polyfill/for-of-example/package.json#L25-L32" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2>one of the build target <em data-v-79a168f2 data-v-79a168f2>is specifically targetted for
Internet Explorer</em></a></p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>use-cross-env <span class="token assign-left variable" data-v-79a168f2 data-v-79a168f2>BROWSERSLIST</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>'ie 6-9'</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
    use-bili <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
       <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--target</span> browser <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
       <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--format</span> iife <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
       --module-name ForOfExample <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
       --file-name index.browser.ie6to9.js <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
       --bundle-node-modules
</code></pre></div>
<p data-v-79a168f2 data-v-79a168f2>With all of this in place, we can write modern code with all testing and
maintenance tooling and have multiple bundles of the same tested code to run in
different run-time conditions.</p>

</div> <div class="clearfix" data-v-79a168f2></div></div> <div class="text-md grid grid-cols-2 my-10" style="display:none" data-v-4d2003f9 data-v-79a168f2><div class="text-left" data-v-4d2003f9><a href="/blog/2020/02/data-driven-ui" lang="en-CA" class="hover:underline item-prev" data-v-4d2003f9>
      Data Driven UI
    </a></div> <div class="text-right" data-v-4d2003f9><a href="/blog/2020/09/porting-all-my-content" lang="en-CA" class="hover:underline item-next" data-v-4d2003f9>
      Porting all my content into a static-site
    </a></div></div></div></div></div></div></div></div></section></div></main> <div timezone="America/New_York" class="app-footer--component disposition-parent w-full bottom" data-v-7116e49f><footer class="zone__sandwich__bottom container flex items-center justify-between p-10 mx-auto" style="position:relative" data-v-7116e49f><dl class="contact items-item disposition-item" data-v-7116e49f><dt class="mb-4 font-serif text-2xl" data-v-7116e49f><a href="/contact" class="underline" data-v-7116e49f>Contact</a></dt> <dd data-v-7116e49f>Fascinated By The Open Web Platform</dd> <dd aria-errormessage="why-fou-de-la-pouitte" data-v-7116e49f>
        Send your remarks using
        <em data-fou-de-la-pouitte title="Please type this manually" class="underline" data-v-7116e49f><span id="why-fou-de-la-pouitte" class="sr-only" data-v-7116e49f>
            An email address written using CSS, apologies for obfuscating
            this.
          </span></em></dd> <dd class="underline sr-only" data-v-7116e49f><a rel="me" href="https://mastodon.social/@renoirb" data-v-7116e49f>
          @renoirb@mastodon.social
        </a></dd> <dd class="underline sr-only" data-v-7116e49f><a rel="me" href="https://w3c.social/@renoirb" data-v-7116e49f>
          @renoirb@w3c.social
        </a></dd> <dd class="font-mono" data-v-7116e49f>v4.0.0-dev</dd> <span class="inline-flex" data-v-7116e49f><button aria-label="Color Mode" class="hover:text-primary-500 focus:outline-none transition duration-150 ease-in-out rounded-md"><!----> <!----></button></span></dl> <div class="items-item disposition-item" data-v-7116e49f><dl lang="fr-CA" class="see-also" data-v-7116e49f><dt data-v-7116e49f>Voir aussi‚Ä¶</dt> <dd data-v-7116e49f><a href="/ligne-editoriale" data-v-7116e49f> Ligne¬†√©ditoriale </a></dd> <dd data-v-7116e49f><a href="/projects" data-v-7116e49f> Projets </a></dd> <dd data-v-7116e49f><a href="/glossary" lang="en" data-v-7116e49f> Glossary </a></dd> <dd data-v-7116e49f><a href="/code-review" lang="en" data-v-7116e49f>
            Code-Review¬†notes
          </a></dd></dl></div></footer></div></div></div></div><script defer src="/site/_nuxt/static/1729800241/blog/2020/02/harmonizing-how-to-bundle-and-package-features/state.js"></script><script src="/_nuxt/runtime.js" defer></script><script src="/_nuxt/pages/blog.js" defer></script><script src="/_nuxt/pages/blog/_year.js" defer></script><script src="/_nuxt/pages/blog/_year/_month.js" defer></script><script src="/_nuxt/pages/blog/_year/_month/_slug.js" defer></script><script src="/_nuxt/commons/app.js" defer></script><script src="/_nuxt/vendors/app.js" defer></script><script src="/_nuxt/app.js" defer></script><script data-n-head="ssr" type="module" vmid="load-esm-modules-separately-please" data-body="true" defer>
/**
 * #WIP-Mingle-CustomElements-From-ESM-Modules: Added on 2024-09-18 during migration.
 */
import { registerCustomElement } from 'https://renoirb.com/esm-modules/element-utils.mjs'
import NoticeBoxElement from 'https://renoirb.com/esm-modules/notice-box-element.mjs'
try {
  registerCustomElement(window, 'rb-notice-box', NoticeBoxElement)
} catch (e) {
  // #XXX FIX ME because this gets loaded
  console.log('Already loaded', e)
}
        </script>
  </body>
</html>
