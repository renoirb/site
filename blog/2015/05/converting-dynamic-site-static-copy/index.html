<!doctype html>
<html data-n-head-ssr class="layout--default zone__sandwich light-mode" lang="en-CA" data-n-head="%7B%22class%22:%7B%22ssr%22:%5B%22layout--default%22,%22zone__sandwich%22,%22light-mode%22%5D%7D,%22lang%22:%7B%22ssr%22:%22en-CA%22%7D%7D">
  <head>
    <title>Converting a dynamic site into static HTML documents - Renoir Boulanger</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" property="og:image" content="https://secure.gravatar.com/avatar/cbf8c9036c204fe85e15155f9d70faec?s=400"><meta data-n-head="ssr" property="twitter:card" content="summary_large_image"><meta data-n-head="ssr" property="twitter:site" content="@renoirb"><meta data-n-head="ssr" data-hid="keywords-curl-wget-stati" name="keywords" content="curl, wget, static site, convert from cms"><base href="/site/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" rel="alternate" type="application/rss+xml" title="Renoir Boulanger‚Äôs Page Updates RSS Feed" href="https://renoirboulanger.com/feed.xml"><link data-n-head="ssr" rel="alternate" type="application/feed+json" title="Renoir Boulanger‚Äôs Page Updates Feed" href="https://renoirboulanger.com/feed.json"><link rel="preload" href="/_nuxt/runtime.js" as="script"><link rel="preload" href="/_nuxt/commons/app.js" as="script"><link rel="preload" href="/_nuxt/vendors/app.css" as="style"><link rel="preload" href="/_nuxt/vendors/app.js" as="script"><link rel="preload" href="/_nuxt/app.css" as="style"><link rel="preload" href="/_nuxt/app.js" as="script"><link rel="preload" href="/_nuxt/pages/blog.css" as="style"><link rel="preload" href="/_nuxt/pages/blog.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/_year.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/_year/_month.js" as="script"><link rel="preload" href="/_nuxt/pages/blog/_year/_month/_slug.css" as="style"><link rel="preload" href="/_nuxt/pages/blog/_year/_month/_slug.js" as="script"><link rel="stylesheet" href="/_nuxt/vendors/app.css"><link rel="stylesheet" href="/_nuxt/app.css"><link rel="stylesheet" href="/_nuxt/pages/blog.css"><link rel="stylesheet" href="/_nuxt/pages/blog/_year/_month/_slug.css"><link rel="preload" href="/site/_nuxt/static/1729800241/blog/2015/05/converting-dynamic-site-static-copy/state.js" as="script"><link rel="preload" href="/site/_nuxt/static/1729800241/blog/2015/05/converting-dynamic-site-static-copy/payload.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function (){"use strict";var e=window,t=document,s=t.documentElement,n=["dark","light"],a=function(e){for(var s=e+"=",n=t.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(s))return o.substring(s.length,o.length)}return null}("nuxt-color-mode")||"light",o="system"===a?i():a;function r(e){var t=e+"-mode";s.classList?s.classList.add(t):s.className+=" "+t}function c(t){return e.matchMedia("(prefers-color-scheme"+t+")")}function i(){if(e.matchMedia&&"not all"!==c("").media)for(var t of n)if(c(":"+t).matches)return t;return"light"}r(o),e["__NUXT_COLOR_MODE__"]={preference:a,value:o,getColorScheme:i,addClass:r,removeClass:function(e){var t=e+"-mode";s.classList?s.classList.remove(t):s.className=s.className.replace(new RegExp(t,"g"),"")}}}();
</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div class="layouts--default"><!----> <nav class="app-side-bar--component fixed z-40 w-full top z-50" data-v-cf57f860 data-v-2b2f37b3><div class="zone__sandwich__top container flex items-center justify-between py-4 mx-auto" style="position:relative" data-v-cf57f860><!----> <div class="app-side-bar__identity md:px-5 flex items-center" data-v-cf57f860><button aria-label="Open Menu" class="md:hidden ml-5 mr-2" data-v-cf57f860><svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" class="w-8 h-8" data-v-cf57f860><path d="M4 6h16M4 12h16M4 18h16" data-v-cf57f860></path></svg></button> <a href="/" data-wip="components/global/AppSideBar.vue" class="identity__text font-semibold nuxt-link-active" data-v-cf57f860>
        Renoir Boulanger
      </a></div> <div class="app-side-bar__nav flex items-center" data-v-cf57f860><div class="md:flex md:justify-between md:bg-transparent text-is-italicized hidden" data-v-cf57f860><a href="/blog" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded nuxt-link-active" data-v-2b2f37b3>
      Blog
    </a><a href="/projects" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded" data-v-2b2f37b3>
      Projects
    </a><a href="/resume/as-code" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded" data-v-2b2f37b3>
      Resume
    </a><a href="/hello" class="hover:opacity-100 opacity-80 hover:underline flex items-center p-3 px-4 py-2 mr-2 font-medium text-center rounded" data-v-2b2f37b3>
      About
    </a></div></div></div> <aside class="md:invisible app-side-bar__aside fixed top-0 left-0 visible w-64 h-full overflow-auto transition-all duration-500 ease-in-out transform -translate-x-full" data-v-cf57f860><div class="app-side-bar__identity flex items-center w-full h-16 p-4 border-b" data-v-cf57f860><a href="/" class="identity__text nuxt-link-active" data-v-cf57f860>Renoir Boulanger</a></div> <div data-v-cf57f860><a href="/blog" class="hover:bg-teal-500 hover:text-white flex items-center p-4 nuxt-link-active" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          Blog
        </span></a><a href="/projects" class="hover:bg-teal-500 hover:text-white flex items-center p-4" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          Projects
        </span></a><a href="/resume/as-code" class="hover:bg-teal-500 hover:text-white flex items-center p-4" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          Resume
        </span></a><a href="/hello" class="hover:bg-teal-500 hover:text-white flex items-center p-4" data-v-cf57f860><span class="mr-2" data-v-cf57f860>
          About
        </span></a></div></aside></nav> <div class="fixed inset-0 z-40 transition-opacity" style="display:none"><div class="absolute inset-0 bg-black opacity-75"></div></div> <main class="zone__sandwich__meat middle container z-40 mx-auto"><div data-wip="layout/default.vue" class="md:m-10 grid grid-cols-1 m-5"><section data-wip="pages/blog.vue" class="pages__blog--parent"><div class="pages-blog--parent--top justify-items-stretch sm:grid-cols-2 sm:grid-flow-row md:grid-flow-col-dense grid grid-cols-1 gap-4"><nav class="breadcrumb" data-v-ede238bc><ol class="list-none p-0 inline-flex" data-v-ede238bc><li class="flex items-center" data-v-ede238bc><a href="/blog" class="nuxt-link-active" data-v-ede238bc>blog</a></li><li class="flex items-center" data-v-ede238bc><a href="/blog/2015" class="nuxt-link-active" data-v-ede238bc>2015</a></li><li class="flex items-center" data-v-ede238bc><a href="/blog/2015/05" class="nuxt-link-active" data-v-ede238bc>05</a></li></ol></nav></div> <!----> <div class="pages-blog--parent--bottom"><div q=""><!----> <div><div class="pages__blog__year__month--parent"><div class="pages__blog__year__month__slug--item" data-v-79a168f2><div data-v-79a168f2><rb-notice-box variant="warn" role="alert" class="disposition-parent app-alert-box my-4" data-v-79a168f2 data-v-79a168f2><!----> <!----> <div class="nuxt-content" data-v-79a168f2></div></rb-notice-box></div> <div class="document document--item z-30" data-v-79a168f2><div data-wip="pages/blog/_year/_month/_slug.vue" class="title page-title lg:pr-64 mb-4 font-serif text-2xl italic" data-v-79a168f2><h1 data-v-79a168f2>Converting a dynamic site into static <abbr lang="en" title="Hyper Text Markup Language">HTML</abbr> documents</h1></div> <div class="mt-0 mb-5 font-serif text-sm italic" data-v-79a168f2><time datetime="2015-05-20" data-v-79a168f2>
        Wednesday, May 20, 2015
      </time> <a href="https://renoirboulanger.com/blog/2015/05/converting-dynamic-site-static-copy/" lang="en" target="_blank" title="Canonical link, the URL it is meant to replace" class="canonical-link hidden" data-v-79a168f2>
        Canonical
      </a></div> <div class="taxonomy mt-0 mb-5 taxonomy-hoverizable" data-v-79a168f2><strong id="tags__227" class="taxonomy-label">
    Tags
  </strong> <ul aria-labelled-by="tags__227" class="taxonomy-items"><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/archiving" class="no-underline">archiving</nuxtlink></li><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/procedure" class="no-underline">procedure</nuxtlink></li><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/webplatform" class="no-underline">webplatform</nuxtlink></li><li class="px-2 py-1 mb-3 mr-3 is-hoverizable"><nuxtlink to="/blog/tag/techniques" class="no-underline">techniques</nuxtlink></li> <li class="category px-2 py-1 mb-3 mr-3 is-hoverizable"><a href="/blog/category/techniques" class="no-underline">üìÅ techniques</a></li></ul></div> <div class="body mt-10" data-v-79a168f2><figure class="document-cover md:float-right lg:w-1/3 md:pl-5 sm:w-1/2 relative z-30 float-none pb-5 pl-0 mx-auto mt-1 app-image is-loading has-image" data-v-33ff8cb7 data-v-79a168f2><img anonymous loading="lazy" src="https://renoirb.github.io/site-assets/assets/content/blog/2015/05/webat25-org-screen-capture.png" alt="Web 25th anniversary web site screenshot" data-remote="https://renoirb.github.io/site-assets/assets/content/blog/2015/05/webat25-org-screen-capture.png" class="object-cover w-full rounded" data-v-33ff8cb7> <figcaption class="relative z-30 p-4 mt-2 text-sm rounded-md shadow-md" data-v-33ff8cb7><span class="figcaption-contents" data-v-33ff8cb7> </span> <div class="nuxt-content" data-v-33ff8cb7 data-v-79a168f2><p data-v-33ff8cb7 data-v-79a168f2>In March 2014, the <abbr lang="en" title="World Wide Web Consortium, an international community where Member organizations, a full-time staff, and the public work together to develop Web standards." data-v-33ff8cb7 data-v-79a168f2>W3C</abbr> and the Web Foundation celebrated the World Wide Web 24th anniversary.
As a <abbr lang="en" title="World Wide Web Consortium, an international community where Member organizations, a full-time staff, and the public work together to develop Web standards." data-v-33ff8cb7 data-v-79a168f2>W3C</abbr> Team Member, I was asked to help the systems team and host the event‚Äôs web site.
After the event, I was asked to make the web site to become static <abbr lang="en" title="Hyper Text Markup Language" data-v-33ff8cb7 data-v-79a168f2>HTML</abbr> documents so the systems team wouldn‚Äôt have to maintain the <abbr lang="en" title="Content Management System" data-v-33ff8cb7 data-v-79a168f2>CMS</abbr> it was using.</p></div></figcaption></figure> <div class="nuxt-content" data-v-79a168f2 data-v-79a168f2><p data-v-79a168f2 data-v-79a168f2>Its been two times now that I've been asked to make a website that was running
on a CMS and make it static.</p>
<p data-v-79a168f2 data-v-79a168f2>This is an useful practice if you want to keep the site content for posterity
without having to maintain the underlying CMS. It makes it easier to migrate
sites since the sites that you know you won't add content to anymore becomes
simply a bunch of HTML files in a folder.</p>
<p data-v-79a168f2 data-v-79a168f2>My end goal was to make an EXACT copy of what the site is like when generated by
the CMS, BUT now stored as simple HTML files. When I say EXACT, I mean it, even
as to keep documents at their original location from the new static files. It
means that each HTML document had to keep their same value BUT that a file will
exist and the web server will find it. For example, if a link points to <code data-v-79a168f2 data-v-79a168f2>/foo</code>,
the link in the page remain as-is, even though its now a static file at
<code data-v-79a168f2 data-v-79a168f2>/foo.html</code>, but the web server will serve <code data-v-79a168f2 data-v-79a168f2>/foo.html</code> anyway.</p>
<p data-v-79a168f2 data-v-79a168f2>Here are a few steps I made to achieve just that. Notice that your mileage may
vary, I've done those steps and they worked for me.</p>
<p data-v-79a168f2 data-v-79a168f2>I've done this procedure a few times with WordPress blogs along with
<a href="https://www.w3.org/webat25/" rel="nofollow noopener noreferrer" target="_blank" data-v-79a168f2 data-v-79a168f2><strong data-v-79a168f2 data-v-79a168f2>webat25.org</strong> that is now hosted as <strong data-v-79a168f2 data-v-79a168f2>w3.org/webat25/</strong></a> website that was
running on ExpressionEngine.</p>
<h2 id="steps" data-v-79a168f2 data-v-79a168f2><a href="#steps" aria-hidden="true" tabindex="-1" data-v-79a168f2 data-v-79a168f2><span class="icon icon-link" data-v-79a168f2 data-v-79a168f2></span></a>Steps</h2>
<h2 id="1-browse-and-get-all-pages-you-think-could-be-lost-in-scraping" data-v-79a168f2 data-v-79a168f2><a href="#1-browse-and-get-all-pages-you-think-could-be-lost-in-scraping" aria-hidden="true" tabindex="-1" data-v-79a168f2 data-v-79a168f2><span class="icon icon-link" data-v-79a168f2 data-v-79a168f2></span></a>1. Browse and get all pages you think could be lost in scraping</h2>
<p data-v-79a168f2 data-v-79a168f2>We want a simple file with one web page per line with its full address. This
will help the crawler to not forget pages.</p>
<ul data-v-79a168f2 data-v-79a168f2>
<li data-v-79a168f2 data-v-79a168f2>Use a web browser developer tool Network inspector, keep it open with
"preserve log".</li>
<li data-v-79a168f2 data-v-79a168f2>Once you browsed the site a bit, from the network inspector tool, list all
documents and then export using the "Save as HAR" feature.</li>
<li data-v-79a168f2 data-v-79a168f2>Extract urls from har file using <code data-v-79a168f2 data-v-79a168f2>underscore-cli</code></li>
</ul>
<p data-v-79a168f2 data-v-79a168f2>npm install underscore-cli cat site.har | underscore select '.entries .request
.url' > workfile.txt</p>
<ul data-v-79a168f2 data-v-79a168f2>
<li data-v-79a168f2 data-v-79a168f2>Remove first and last lines (its a JSON array and we want one document per
line)</li>
<li data-v-79a168f2 data-v-79a168f2>Remove the trailing remove hostname from each line (i.e. start by /path), in
vim you can do <code data-v-79a168f2 data-v-79a168f2>%s/http:\/\/www\.example.org//g</code></li>
<li data-v-79a168f2 data-v-79a168f2>Remove <code data-v-79a168f2 data-v-79a168f2>"</code> and <code data-v-79a168f2 data-v-79a168f2>",</code> from each lines, in vim you can do <code data-v-79a168f2 data-v-79a168f2>%s/",$//g</code></li>
<li data-v-79a168f2 data-v-79a168f2>At the last line, make sure the <code data-v-79a168f2 data-v-79a168f2>"</code> is removed too because the last regex
missed it</li>
<li data-v-79a168f2 data-v-79a168f2>Remove duplicate lines, in vim you can do <code data-v-79a168f2 data-v-79a168f2>:sort u</code></li>
<li data-v-79a168f2 data-v-79a168f2>Save this file as <code data-v-79a168f2 data-v-79a168f2>list.txt</code> for the next step.</li>
</ul>
<h2 id="2-lets-scrape-everything" data-v-79a168f2 data-v-79a168f2><a href="#2-lets-scrape-everything" aria-hidden="true" tabindex="-1" data-v-79a168f2 data-v-79a168f2><span class="icon icon-link" data-v-79a168f2 data-v-79a168f2></span></a>2. Let's scrape everything</h2>
<p data-v-79a168f2 data-v-79a168f2>We'll do two scrapes. First one is to get all assets it can get, then we'll go
again with different options.</p>
<p data-v-79a168f2 data-v-79a168f2>The following are the commands I ran on the last successful attempt to replicate
the site I was working on. This is not a statement that this method is the most
efficient technique. Please feel free to improve the document as you see fit.</p>
<p data-v-79a168f2 data-v-79a168f2>First a quick TL;DR of <code data-v-79a168f2 data-v-79a168f2>wget</code> options</p>
<ul data-v-79a168f2 data-v-79a168f2>
<li data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>-m</code> is the same as <code data-v-79a168f2 data-v-79a168f2>--mirror</code></li>
<li data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>-k</code> is the same as <code data-v-79a168f2 data-v-79a168f2>--convert-links</code></li>
<li data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>-K</code> is the same as <code data-v-79a168f2 data-v-79a168f2>--backup-converted</code> which creates .orig files</li>
<li data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>-p</code> is the same as <code data-v-79a168f2 data-v-79a168f2>--page-requisites</code> makes a page to get ALL requirements</li>
<li data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>-nc</code> ensures we dont download the same file twice and end up with duplicates
(e.g. file.html AND file.1.html)</li>
<li data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2>--cut-dirs</code> would prevent creating directories and mix things around, do not
use.</li>
</ul>
<p data-v-79a168f2 data-v-79a168f2>Notice that we're sending headers as if we were a web browser. Its up to you.</p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2><span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>export</span> <span class="token assign-left variable" data-v-79a168f2 data-v-79a168f2>UA</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/40.0.2214.94 Safari/537.36'</span>
<span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>export</span> <span class="token assign-left variable" data-v-79a168f2 data-v-79a168f2>ACCEPTL</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>'Accept-Language: fr-FR,fr;q=0.8,fr-CA;q=0.6,en-US;q=0.4,en;q=0.2'</span>
<span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>export</span> <span class="token assign-left variable" data-v-79a168f2 data-v-79a168f2>ACCEPTT</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8'</span>
<span class="token function" data-v-79a168f2 data-v-79a168f2>wget</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-i</span> list.txt <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-nc</span> --random-wait <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--mirror</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-e</span> <span class="token assign-left variable" data-v-79a168f2 data-v-79a168f2>robots</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span>off <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     --no-cache <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-k</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-E</span> --page-requisites <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     --user-agent<span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>"<span class="token variable" data-v-79a168f2 data-v-79a168f2>$UA</span>"</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--header</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>"<span class="token variable" data-v-79a168f2 data-v-79a168f2>$ACCEPTT</span>"</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     http://www.example.org/
</code></pre></div>
<p data-v-79a168f2 data-v-79a168f2>Then, another pass</p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2><span class="token function" data-v-79a168f2 data-v-79a168f2>wget</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-i</span> list.txt <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--mirror</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-e</span> <span class="token assign-left variable" data-v-79a168f2 data-v-79a168f2>robots</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span>off <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-k</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-K</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-E</span> --no-cache --no-parent <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     --user-agent<span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>"<span class="token variable" data-v-79a168f2 data-v-79a168f2>$UA</span>"</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--header</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>"<span class="token variable" data-v-79a168f2 data-v-79a168f2>$ACCEPTL</span>"</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>--header</span><span class="token operator" data-v-79a168f2 data-v-79a168f2>=</span><span class="token string" data-v-79a168f2 data-v-79a168f2>"<span class="token variable" data-v-79a168f2 data-v-79a168f2>$ACCEPTT</span>"</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span>
     http://www.example.org/
</code></pre></div>
<h2 id="3-do-some-cleanup-on-the-fetched-files" data-v-79a168f2 data-v-79a168f2><a href="#3-do-some-cleanup-on-the-fetched-files" aria-hidden="true" tabindex="-1" data-v-79a168f2 data-v-79a168f2><span class="icon icon-link" data-v-79a168f2 data-v-79a168f2></span></a>3. Do some cleanup on the fetched files</h2>
<p data-v-79a168f2 data-v-79a168f2>Here are a few commands I ran to clean the files a bit</p>
<ul data-v-79a168f2 data-v-79a168f2>
<li data-v-79a168f2 data-v-79a168f2>
<p data-v-79a168f2 data-v-79a168f2>Remove empty lines in every .orig files. They're the ones we'll use in the end
after all</p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2><span class="token function" data-v-79a168f2 data-v-79a168f2>find</span> <span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>.</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-type</span> f <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-regextype</span> posix-egrep <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-regex</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>'.*\.orig$'</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-exec</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>sed</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-i</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>'s/\r//'</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>{</span><span class="token punctuation" data-v-79a168f2 data-v-79a168f2>}</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span><span class="token punctuation" data-v-79a168f2 data-v-79a168f2>;</span>
</code></pre></div>
</li>
<li data-v-79a168f2 data-v-79a168f2>
<p data-v-79a168f2 data-v-79a168f2>Rename the .orig file into html</p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2><span class="token function" data-v-79a168f2 data-v-79a168f2>find</span> <span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>.</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-name</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>'*orig'</span> <span class="token operator" data-v-79a168f2 data-v-79a168f2>|</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>sed</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-e</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>"p;s/orig/html/"</span> <span class="token operator" data-v-79a168f2 data-v-79a168f2>|</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>xargs</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-n2</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>mv</span>

<span class="token function" data-v-79a168f2 data-v-79a168f2>find</span> <span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>.</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-type</span> f <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-name</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>'*\.html\.html'</span> <span class="token operator" data-v-79a168f2 data-v-79a168f2>|</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>sed</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-e</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>"p;s/\.html//"</span> <span class="token operator" data-v-79a168f2 data-v-79a168f2>|</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>xargs</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-n2</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>mv</span>
</code></pre></div>
</li>
<li data-v-79a168f2 data-v-79a168f2>
<p data-v-79a168f2 data-v-79a168f2>Many folders might have only an index.html file in it. Let's just make them a
file without directory</p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2><span class="token function" data-v-79a168f2 data-v-79a168f2>find</span> <span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>.</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-type</span> f <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-name</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>'index.html'</span> <span class="token operator" data-v-79a168f2 data-v-79a168f2>|</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>sed</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-e</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>"p;s/\/index\.html/.html/"</span> <span class="token operator" data-v-79a168f2 data-v-79a168f2>|</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>xargs</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-n2</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>mv</span>
</code></pre></div>
</li>
<li data-v-79a168f2 data-v-79a168f2>
<p data-v-79a168f2 data-v-79a168f2>Remove files that has a <code data-v-79a168f2 data-v-79a168f2>.1</code> (or any number in them), they are most likely
duplicates anyway</p>
<div class="nuxt-content-highlight" data-v-79a168f2 data-v-79a168f2><pre class="language-bash line-numbers" data-v-79a168f2 data-v-79a168f2><code data-v-79a168f2 data-v-79a168f2><span class="token function" data-v-79a168f2 data-v-79a168f2>find</span> <span class="token builtin class-name" data-v-79a168f2 data-v-79a168f2>.</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-type</span> f <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-name</span> <span class="token string" data-v-79a168f2 data-v-79a168f2>'*\.1\.*'</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-exec</span> <span class="token function" data-v-79a168f2 data-v-79a168f2>rm</span> <span class="token parameter variable" data-v-79a168f2 data-v-79a168f2>-rf</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>{</span><span class="token punctuation" data-v-79a168f2 data-v-79a168f2>}</span> <span class="token punctuation" data-v-79a168f2 data-v-79a168f2>\</span><span class="token punctuation" data-v-79a168f2 data-v-79a168f2>;</span>
</code></pre></div>
</li>
</ul></div> <div class="clearfix" data-v-79a168f2></div></div> <div class="text-md grid grid-cols-2 my-10" style="display:none" data-v-4d2003f9 data-v-79a168f2><div class="text-left" data-v-4d2003f9><a href="/blog/2015/05/run-nodejs-process-forever-within-docker-container" lang="en-CA" class="hover:underline item-prev" data-v-4d2003f9>
      Run a NodeJS process through forever from within a Docker container
    </a></div> <div class="text-right" data-v-4d2003f9><a href="/blog/2015/05/add-openstack-instance-meta-data-info-salt-grains" lang="en-CA" class="hover:underline item-next" data-v-4d2003f9>
      Add OpenStack instance meta-data info in your salt grains
    </a></div></div></div></div></div></div></div></div></section></div></main> <div timezone="America/New_York" class="app-footer--component disposition-parent w-full bottom" data-v-7116e49f><footer class="zone__sandwich__bottom container flex items-center justify-between p-10 mx-auto" style="position:relative" data-v-7116e49f><dl class="contact items-item disposition-item" data-v-7116e49f><dt class="mb-4 font-serif text-2xl" data-v-7116e49f><a href="/contact" class="underline" data-v-7116e49f>Contact</a></dt> <dd data-v-7116e49f>Fascinated By The Open Web Platform</dd> <dd aria-errormessage="why-fou-de-la-pouitte" data-v-7116e49f>
        Send your remarks using
        <em data-fou-de-la-pouitte title="Please type this manually" class="underline" data-v-7116e49f><span id="why-fou-de-la-pouitte" class="sr-only" data-v-7116e49f>
            An email address written using CSS, apologies for obfuscating
            this.
          </span></em></dd> <dd class="underline sr-only" data-v-7116e49f><a rel="me" href="https://mastodon.social/@renoirb" data-v-7116e49f>
          @renoirb@mastodon.social
        </a></dd> <dd class="underline sr-only" data-v-7116e49f><a rel="me" href="https://w3c.social/@renoirb" data-v-7116e49f>
          @renoirb@w3c.social
        </a></dd> <dd class="font-mono" data-v-7116e49f>v4.0.0-dev</dd> <span class="inline-flex" data-v-7116e49f><button aria-label="Color Mode" class="hover:text-primary-500 focus:outline-none transition duration-150 ease-in-out rounded-md"><!----> <!----></button></span></dl> <div class="items-item disposition-item" data-v-7116e49f><dl lang="fr-CA" class="see-also" data-v-7116e49f><dt data-v-7116e49f>Voir aussi‚Ä¶</dt> <dd data-v-7116e49f><a href="/ligne-editoriale" data-v-7116e49f> Ligne¬†√©ditoriale </a></dd> <dd data-v-7116e49f><a href="/projects" data-v-7116e49f> Projets </a></dd> <dd data-v-7116e49f><a href="/glossary" lang="en" data-v-7116e49f> Glossary </a></dd> <dd data-v-7116e49f><a href="/code-review" lang="en" data-v-7116e49f>
            Code-Review¬†notes
          </a></dd></dl></div></footer></div></div></div></div><script defer src="/site/_nuxt/static/1729800241/blog/2015/05/converting-dynamic-site-static-copy/state.js"></script><script src="/_nuxt/runtime.js" defer></script><script src="/_nuxt/pages/blog.js" defer></script><script src="/_nuxt/pages/blog/_year.js" defer></script><script src="/_nuxt/pages/blog/_year/_month.js" defer></script><script src="/_nuxt/pages/blog/_year/_month/_slug.js" defer></script><script src="/_nuxt/commons/app.js" defer></script><script src="/_nuxt/vendors/app.js" defer></script><script src="/_nuxt/app.js" defer></script><script data-n-head="ssr" type="module" vmid="load-esm-modules-separately-please" data-body="true" defer>
/**
 * #WIP-Mingle-CustomElements-From-ESM-Modules: Added on 2024-09-18 during migration.
 */
import { registerCustomElement } from 'https://renoirb.com/esm-modules/element-utils.mjs'
import NoticeBoxElement from 'https://renoirb.com/esm-modules/notice-box-element.mjs'
try {
  registerCustomElement(window, 'rb-notice-box', NoticeBoxElement)
} catch (e) {
  // #XXX FIX ME because this gets loaded
  console.log('Already loaded', e)
}
        </script>
  </body>
</html>
