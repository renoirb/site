__NUXT_JSONP__("/blog/tag/securite", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx){return {data:[{},{},{contents:[{title:"Answers I gave for an article  about the impacts of Heartbleed",locale:"en-CA",created:ah,updated:ah,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2014\u002F07\u002Farticle-impacts-of-heartbleed\u002F",status:D,revising:p,migrateLinks:p,migrateImages:p,categories:[ai],tags:["favourites","published",v],coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2014\u002F07\u002Fheartbleed-247x300.png",alt:"Hand drawn shape of a heart on white background",text:"Logo representing [Heartbleed][wikipedia-heartbleed]. Awareness and media coverage of Heartbleed was unusually high for a software bug. **CVE**: [CVE-2014-0160][CVE] [CVE]: https:\u002F\u002Fcve.mitre.org\u002Fcgi-bin\u002Fcvename.cgi?name=cve-2014-0160 [wikipedia-heartbleed]: https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHeartbleed"},webarchiveSnapshots:[{key:"saltstack",orig:aj},{key:"new-at-webplatform",orig:ak},{key:"w3c-staff-me",orig:al},{key:"doug-schepers",orig:am},{key:"dell-techpageone",orig:"http:\u002F\u002Ftechpageone.dell.com\u002Ftechnology\u002Fprotecting-against-cyber-warfare\u002F",snapshots:[an]}],description:"Answers I gave for an article about the impacts of Heartbleed",excerpt:"Heartbleed was a tremendous threat because it hit at the epicenter of the Internet infrastructure and proven true every sysadmin worst nightmare. We heard about Heartbleed for a while. Some time ago, I had been asked to answer a few questions for an article for Dell.com Tech Page One blog, the following is the answers I gave.",toc:[{id:ao,depth:l,text:ap},{id:aq,depth:l,text:ar},{id:as,depth:l,text:at},{id:au,depth:l,text:av},{id:aw,depth:l,text:ax}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Last spring, I had been invited to answer questions for an article about\nHeartbleed. It was an invitation extended by my friends at\n"},{type:b,tag:g,props:{href:aj,rel:[s,t,u],target:q},children:[{type:a,value:"SaltStack"}]},{type:a,value:". Since I use extensively automated deployment techniques\nwith Salt Stack, they thought i'd have things to say."}]},{type:a,value:c},{type:a,value:c},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"I accepted to answer the questions on my personal time as the "},{type:b,tag:g,props:{href:ak,rel:[s,t,u],target:q},children:[{type:a,value:"DevOps lead of\n"},{type:b,tag:h,props:{},children:[{type:a,value:"WebPlatform.org"}]}]},{type:a,value:", rather than directly as a "},{type:b,tag:g,props:{href:al,rel:[s,t,u],target:q},children:[{type:b,tag:n,props:{},children:[{type:a,value:"W3C"}]},{type:a,value:" team\nmember"}]},{type:a,value:". And that, even though I had big help from my manager, "},{type:b,tag:g,props:{href:am,rel:[s,t,u],target:q},children:[{type:a,value:"Doug\nSchepers"}]},{type:a,value:", and a few colleagues from the team. Their help was\nmuch useful to review and add stats to my arguments."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The article has been published on "},{type:b,tag:g,props:{href:an,rel:[s,t,u],target:q},children:[{type:a,value:"Dell.com's Tech Page One\nblog"}]},{type:a,value:" but only quotes a few pieces of my original\ncontribution. Here is the full answers I gave to the questions."}]},{type:a,value:c},{type:b,tag:m,props:{id:ao},children:[{type:b,tag:g,props:{href:"#what-made-heartbleed-such-a-tremendous-threat",ariaHidden:x,tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:ap}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"It hit more than the epicenter of our whole Internet infrastructure, it proven\ntrue every sysadmin worst nightmare and on top of that, it impacted everybody."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:ay,props:{},children:[{type:a,value:"OpenSSL"}]},{type:a,value:" is so widely used (estimated 2\u002F3 of the web) that many\norganizations were impacted. This vulnerability has been introduced as a\nprogramming mistake for about 2 years. What gives the chills is that since the\nperson who is exploiting the fail do not need to be the \"man in the middle\" nor\nneed to gain terminal access to the servers, there are no traces left behind. We\ntherefore had no idea how much it was used and by who."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"It's important to remember that the attacker couldn't know what data he would\nget either, or if he would get anything interesting at all. And if the \"good\nguys\" didn't know about heartbleed for so long, probably not many \"bad guys\"\ndid, either."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"In consequence, the world had to make a major effort to update a lot of software\nand people to replace many passwords, but the major impact is probably more\npsychological: we don't know what was stolen and we don't know if there is\nanother \"heartbleed\" hidden in our servers."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"On the bright side, the old advice we give to end users: change your password\noften, is still valid. This was a nuisance, for sure, but at least heartbleed\ndidn't change anything there."}]},{type:a,value:c},{type:b,tag:m,props:{id:aq},children:[{type:b,tag:g,props:{href:"#is-there-anything-about-the-current-computing-landscape-that-made-the-threat-greater-than-it-might-have-been-in-the-past",ariaHidden:x,tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:ar}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The time it takes to gather infrormation through such vulnerability and the set\nof tools available today has increased dramatically. Ther are network port\nscanners, for instance, that can report with high 90-percent accuracy in less\nthan 10 minutes."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"When attackers gets insight of a vulnerability, its not hard to get the\ninformation they are searching for. In the case of heartbleed, it was as simple\nas searching for machines listening on TCP port 443 and keep a list of servers\nusing a given version of OpenSSL that is known to have the mistake. Not\nsomething hard to do at all for the attackers."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Todays' computing landscape has better tools, but so the tools to crack them. A\nbetter solution is to strenghten the infrastructure and educate end users.\nOtherwise, the chain will remain as strong as its weakest link."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"If there is a thing that our society should do more is to continue teaching sane\nprivacy techniques such as strong and varied passwords."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Hopefully we'll get to a point where companies would rely on \"harder to gain\"\ninformation than you mother maiden name or your date of birth."}]},{type:a,value:c},{type:b,tag:m,props:{id:as},children:[{type:b,tag:g,props:{href:"#what-were-the-most-important-things-that-companies-needed-to-do-in-the-face-of-heartbleed",ariaHidden:x,tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:at}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Companies that doesn't maintain adequate server management techniques and tools\nhad a lot of (manual) things to do."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The priority was to upgrade to the patched version all affected parts of the\ninfrastructure, ensure that all system that stores passwords gets new passwords\nas soon as possible."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Of course, the issue had to be fixed as quickly as possible, and without\ninterrupting the services... or belating deliverables that they were already\nworking on."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Therefore, one of the most appreciated thing a system admin has is a way to\nmanage his fleed of servers remotely. In the old days, we only had\n"},{type:b,tag:ay,props:{title:"Secure Shell or Secure Socket Shell"},children:[{type:a,value:"SSH —hopefully that one\ndoesn't have its own \"heartbleed\" problem too— but we now have tools to execute\nremotely such as Ansible and Salt stack that can help us quickly get the an\naccurate picture of the whole infrastructure."}]}]},{type:a,value:c},{type:b,tag:m,props:{id:au},children:[{type:b,tag:g,props:{href:"#could-a-heartbleed-levelstyle-hack-happen-again",ariaHidden:x,tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:av}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Before heartbleed, I was an optimistic person. Besides giving chills to\neverybody, what heartbleed did is a loud \"wake up\" call."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"It is only a matter of time before we learn something else to arise. Computer\nsecurity is still based on \"hard enough to crack\" secrets and an accepted set of\nannoyances. This is where education and better automation tools are of great\nhelp. It'd ease the justification of existence, maintenance, and deployment of\nsuch measures to everybody."}]},{type:a,value:c},{type:b,tag:m,props:{id:aw},children:[{type:b,tag:g,props:{href:"#how-can-companies-best-protect-themselves-and-their-customers-moving-forward",ariaHidden:x,tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:ax}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Education, and automation; in that order. Its better to have a good answer\n—ideally quickly— than a quick wrong answer."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"I hope to see training about security practices more often. Its not the lack of\ntraining that is the problem, but the people to take time to learn the\ntechniques. Organizations such as the OWASP, —a group who teaches common\nsecurity mistakes to web developers— is educating security vulnerabilities."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"There are dozens of other potential oops. One of the most common type of\nsecurity breach is what we call \"SQL injection\". That's yet another programming\nmistake that sends user input directly to the database server without filtering."}]},{type:a,value:c},{type:b,tag:"app-image",props:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2014\u002F07\u002Fexploits_of_a_mom.png",figcaption:az},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Credits: "},{type:b,tag:g,props:{href:"https:\u002F\u002Fxkcd.com\u002F327\u002F",rel:[s,t,u],target:q},children:[{type:b,tag:h,props:{},children:[{type:a,value:"XKCD #327"}]},{type:a,value:": Exploits of a mom"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"In the case of Heartbleed, it was a similar kind of programming error. A way to\nachieve peace of mind includes among others; Testing, proof techniques,\n\"sandboxing\" (protected memory), making software Open Source all helps to catch\nthose errors."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"While its still a hard problem to find the errors in all that code, using those\ntechniques has the merit to have more than a limited set of eyes on the code."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"But all security can be completely overcome by a small human mistake answering\nprivate information to the wrong person. Education about how to validate and\ndetect the real collaborator to the potential thief is another challenge in\nitself."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Many people are talking about it for ages. The recent events makes their\nteachings more relevant than ever."}]}]},dir:"\u002Fblog\u002F2014\u002F07",path:"\u002Fblog\u002F2014\u002F07\u002Farticle-impacts-of-heartbleed",extension:F,slug:"article-impacts-of-heartbleed",createdAt:aA,updatedAt:aA,category:ai,prettyfiedTemporalDate:{prettified:"Friday, July 4, 2014",temporalDate:"2014-07-04"}},{locale:I,title:"Créer un tunnel SSH inverse pour pouvoir supporter à distance un ami utilisant Linux",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2012\u002F02\u002Fcreer-un-tunnel-ssh-inverse-pour-pouvoir-supporter-a-distance-un-ami-utilisant-linux\u002F",status:D,revising:p,migrateCode:p,migrateLinks:p,created:"2012-02-29",updated:aB,tags:[J,aa,v,Q],categories:[],excerpt:w,toc:[{depth:l,text:aC},{depth:l,text:aD},{depth:l,text:aE},{depth:l,text:aF},{depth:l,text:aG},{depth:l,text:aH},{depth:l,text:aI},{depth:l,text:aJ}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Avez-vous déjà voulu accéder a votre ordinateur Unix\u002FLinux\u002FMacOS d'un ami, chez ou ailleurs, et que vous avez besoin de l'aider a distance?   En tant qu'utilisateur de Linux, si vous aider quelqu'un d'autre qui n'Est pas habitué, il peut vouloir votre aide. Cette procédure peut vous aider a l'aider, a distance."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ça vient de m'arriver. Je vais vous montrer comment j'ai fait."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ce que j'ai utilisé:"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Une machine avec OpenSSH que chaque personne à accès (une instance Amazon EC2?)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Créer un nouvel utilisateur temporaire pour la personne a aider"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ordinateur a réparer roulant Linux\u002FUnix\u002FMacOS\u002FCygwin (qui a OpenSSH serveur et client)"}]},{type:a,value:c}]},{type:a,value:"\nCe que j'avait fait avec, en plus de cette procédure, c'est "},{type:b,tag:g,props:{href:"https:\u002F\u002Fhelp.ubuntu.com\u002Fcommunity\u002FUbuntuBootupHowto"},children:[{type:a,value:"un script RC"}]},{type:a,value:" qui créait une connection permanente, avec "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian-administration.org\u002Farticles\u002F152"},children:[{type:a,value:"une connection SSH qui ne requiert pas de mot de passe"}]},{type:a,value:ab},{type:b,tag:f,props:{},children:[{type:a,value:"L'idée étaait que peu importe le lieu ou mon ami se trouve, dès qu'il\u002Felle a un lien à Internet, j'ai accès a son ordinateur portable."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ma procédure décrit comment créer un lien entre ces deux machines."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:aC}]},{type:a,value:"\nIl y a quelques années j'ai fait le cadeau a ma mère d'un vieil ordinateur portable. Étant donné qu'il était vieux et qu'elle n'a jamais vraiment utilisé d'ordinateur dans sa vie, j'ai pensé lui configurer un Ubuntu qui avait tout ce qui est nécessaire.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Elle l'a utilisée pendant environ 3 ans. Je crois que ma maman sait maintenant qu'un navigateur web n'est pas nécessairement Internet Explorer. Qu'un document n'est pas obligatoirement un fichier \"Word\".  Aujourd'hui elle roule sous Windows. Parce que quelqu'un d'autre lui a fait le cadeau et qu'il n'est pas porté a utiliser Linux comme moi."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Toujours est-il que pour l'aider j'utilisait ce processus pour entretenir son ordinateur sans qu'elle ait rien a faire."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:aD}]},{type:a,value:"\nSurnommons cette machine \""},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:"\".\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Il faut que vous et votre ami ayez accès a cette machine sur le port 22. Si c'est votre machine, vous pouvez forcément créer un nouveau compte pour votre ami qu'il utilisera pour initier le tunnel entre sa machine et cet machine."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:aE}]},{type:a,value:"\nDans mon exemple, son compte est \""},{type:b,tag:n,props:{},children:[{type:a,value:"user"}]},{type:a,value:"\", sa machine s'appelle \""},{type:b,tag:n,props:{},children:[{type:a,value:R}]},{type:a,value:"\".﻿\n"},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Prérequis"}]}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"OpenSSH"}]},{type:a,value:" qui est installé et qui roule.\nEn Mac OS, c'est dans Préférences, Partage, il y a une option Accès a distance \u003Crant rel=\"windows\"\u003E... ah ces changements de noms pour la même chose\u003C\u002Frant\u003E."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Un compte utilisateur"}]},{type:a,value:" pour vos propres besoins\n... Ou le même que votre ami, s'il vous donne un mot de passe \u003Ctruc\u003EPssiiit. "},{type:b,tag:n,props:{},children:[{type:a,value:"passwd"}]},{type:a,value:" sert a changer un mot de passe en terminal!\u003C\u002Ftruc\u003E"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:"Donc, assurez-vous que votre ami..."}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"vous fournit un compte pour vous connecter sur sa machine (\""},{type:b,tag:n,props:{},children:[{type:a,value:R}]},{type:a,value:"\")"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Assurer que OpenSSH  roule"}]},{type:a,value:c}]},{type:a,value:"\nJe vous écrit tout ça de mémoire. Une recherche sur comment activer OpenSSH et créer un utilisateur qui y aura accès sur cette  machine MacOS\u002FLinux vous aidera plus que cet article.\n"},{type:b,tag:m,props:{},children:[{type:a,value:aF}]},{type:a,value:"\nSi tout est fonctionnel, vous avez déjà passé le pire, lui expliquer c'est quoi un utilisateur, si l'accès a distance ou SSH c'est quoi, et pourquoi vous lui demandez d'y accéder.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Expliquez-lui de ne pas utiliesr de mot de passe simple.  Qu'il ne vous donne pas non plus son mot de passe... s'il l'utilise ailleeurs (ou partout, c'est bien d'enseigner ça a ses amis)."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Donc... lui faire taper la commande dans un terminal:"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Le BUT de cet article, LA commande, UNE LINGE!"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"user@friend-machine$ ssh -nNT -R 1103:localhost:22 friendusername@vm.somehost.com"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ce qui se passera c'est que l'ami (qui a une machine qui s'appelle \"friend-machine\" dans cet exemple) initie un tunnel SSH silencieux vers \"vm.somehost.com\" (le serveur accessible par vous et votre ami) qui s'y connecte avec l'usager temporaire (\"friendusername\")."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Les options utilisés:"}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"n"}]},{type:a,value:" Sert pour éviter d'afficher des choses sur son terminal n'affiche rien (envoie vers \u002Fdev\u002Fnull)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"N"}]},{type:a,value:" Sert pour préciser de ne pas utiliser la ligne de commande,   une fois connecté, il ne dira rien."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"T"}]},{type:a,value:" Sert à ne pas allouer de pseudo terminal (pseudo-tty)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"R"}]},{type:a,value:" Sert a préciser un Tunnel inversé (Reverse) qui servira a exposer "},{type:b,tag:n,props:{},children:[{type:a,value:"dans"}]},{type:a,value:" (\""},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:"\") au tunnel initié par (\""},{type:b,tag:n,props:{},children:[{type:a,value:R}]},{type:a,value:"\") au port "},{type:b,tag:n,props:{},children:[{type:a,value:aK}]},{type:a,value:" à partir du port "},{type:b,tag:n,props:{},children:[{type:a,value:"1103"}]},{type:a,value:" de (\""},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:"\")."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:aG}]},{type:a,value:"\nEnfin. Il ne reste qu'a vous, vous connecter a cette machine commune, pour accéder au tunnel que vous lui avez fait créer, et utiliser SA machine.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Il ne suffit que de se  connecter  sur "},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:" sous votre compte habituel, initialiser un "},{type:b,tag:n,props:{},children:[{type:a,value:aL}]},{type:a,value:" puis vous re-connecter sur le port spécial qui vous donnera accès au poste \""},{type:b,tag:n,props:{},children:[{type:a,value:R}]},{type:a,value:"\"."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Facile!!"}]},{type:a,value:c},{type:b,tag:aM,props:{},children:[{type:a,value:"En ordre:"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"renoirb@mon-laptop:~$  ssh vm.somehost.com\nrenoirb@vm:~$ screen\nrenoirb@vm: ~$ ssh user@localhost -p 1103\nuser@friend-machine:~$ uname -a\nDarwin friend-machine 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1\u002FRELEASE_I386 i386"}]},{type:a,value:"\nEn gros, je me connecte a "},{type:b,tag:n,props:{},children:[{type:a,value:M}]},{type:a,value:", j'y initie une session "},{type:b,tag:n,props:{},children:[{type:a,value:aL}]},{type:a,value:", puis je me re-connecte en SSH sur le port local 1103 ouvert par mon ami "},{type:b,tag:n,props:{},children:[{type:a,value:"user@friend-machine"}]},{type:a,value:" (vous suivez toujours?) et hop! Je suis sur la machine distante.\n"},{type:b,tag:m,props:{},children:[{type:a,value:aH}]},{type:a,value:"\nAvec Screen, je peut ainsi me détacher du terminal et m'y reconnecter plus tard sans arrêter les choses en cours.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Pour se déconnecter et se reconnecter je fais ainsi"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Connecter\u002Freconnecter:   screen -dd -R"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Détacher (combinaison de touches):  ctrl+a d"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:aI}]},{type:a,value:"\nNous aurons entré quelques lignes de terminal et hop, nous avons accès a la machine de notre ami.  C'est sûr que vous pouvez jouer avec les tunnels et accéder aux autres services, mais je ne vous expliquerai pas comment spécifiquement utiliser chaque cas.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Je vous laisse imaginer les cas de figure possible:"}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Faire une mise a jour de paquets"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Réinstaller des programmes"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Accéder a un service qu'il a localement, comme un serveur web, etc."}]},{type:a,value:c}]},{type:a,value:"\n... J'aime linux!\n"},{type:b,tag:m,props:{},children:[{type:a,value:aJ}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.techrepublic.com\u002Farticle\u002Fsetting-up-a-reverse-ssh-tunnel\u002F5779944"},children:[{type:a,value:"TechRepublic article Setting up a reverse SSH tunnel"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.howtoforge.com\u002Freverse-ssh-tunneling"},children:[{type:a,value:"HowTo Forge: Reverse SSH Tunneling"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.linuxjournal.com\u002Farticle\u002F6340"},children:[{type:a,value:"LinuxJournal: Power sessions with Screen"}]}]},{type:a,value:c}]}]},dir:"\u002Fblog\u002F2012\u002F02",path:"\u002Fblog\u002F2012\u002F02\u002Fcreer-un-tunnel-ssh-inverse-pour-pouvoir-supporter-a-distance-un-ami-utilisant-linux",extension:F,slug:"creer-un-tunnel-ssh-inverse-pour-pouvoir-supporter-a-distance-un-ami-utilisant-linux",createdAt:aN,updatedAt:aN,category:w,prettyfiedTemporalDate:{prettified:"mercredi 29 février 2012",temporalDate:"2012-02-29"}},{locale:I,title:"Procédure pour créer un serveur FTP sécurisé SSL forcé avec usager virtuels sous Ubuntu Linux avec vsFTPd",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd\u002F",status:D,revising:p,created:"2010-04-30",updated:aB,tags:[J,aa,v,S,Q],categories:[],excerpt:w,toc:[{depth:l,text:aO},{depth:l,text:T},{depth:l,text:ac},{depth:l,text:aP},{depth:l,text:aQ},{depth:l,text:N},{depth:l,text:aR},{depth:l,text:aS},{depth:l,text:aT}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Je ne sais pas si vous êtes comme moi mais je n'aime pas laisser non crypté l'accès a un service qui me demande un mot de passe. Je devait monter un serveur cette semaine qui doit avoir les accès FTP."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"J'ai pris l'initiative de sécuriser la machine avec du SSL car je crois qu'aujourd'hui c'est notre devoir de faire ce genre de chose. Ce n'est pas la première fois que je configure un serveur FTP over SSL mais je n'avait jamais pris de notes vraiment à ce jour. Je l'ai fait cette fois-ci!"}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Cequecetteproc%C3%A9durefait..."},children:[]},{type:a,value:aO}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Pouvoir créer des comptes FTP sans avoir a créer un utilisateur local (donc pas accès shell (SSH))."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Permet les connections FTP over SSL de façon EXPLICITE sur un port non standard  (cet exemple utilisera le port "},{type:b,tag:k,props:{},children:[{type:a,value:"6123"}]},{type:a,value:")"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ne permet pas d'utilisateur ni de connexions anonymes"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Bannit les hôtes qui tentent de se connecter (LOGIN FAILED)\tvia "},{type:b,tag:h,props:{},children:[{type:a,value:aU}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Utilise le system PAM interne pour l'authentification"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ne requiert pas d'usager local (pas de risque de tentative de connection SSH, usager séparés)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Le serveur FTP roule sur son propre usager"}]},{type:a,value:c}]},{type:a,value:c},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Proc%C3%A9dure"},children:[]},{type:a,value:T}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Vérifier quelle version de serveur FTP est installé\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# dpkg --list | grep ftp\n~\nii  ftp                               0.17-19                      The FTP client\nii  lftp                              3.7.15-1ubuntu2              Sophisticated command-line FTP\u002FHTTP client p\nii  vsftpd                            2.2.0-1ubuntu1               lightweight, efficient FTP server written fo"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" vsftpd est ce qu'on veut. Dans ce cas-ci il est déjà installé (ii)."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Assurer que les prérequis sont installés\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# aptitude install vsftpd libpam-pwdfile openssl"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier le fichier de config "},{type:b,tag:h,props:{},children:[{type:a,value:"vsftpd.conf"}]},{type:a,value:ab},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" Modifiez pour ces valeurs (ci-bas) et conservez les autres valeurs par défaut.\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# vi \u002Fetc\u002Fvsftpd.conf\n~\nanonymous_enable=NO\nlocal_enable=YES\nwrite_enable=YES\nlocal_umask=022\nchroot_local_user=YES\nftpd_banner=Un nom Quelconque FTP\nnopriv_user=vsftpd\n"},{type:b,tag:O,props:{id:"renoirboulangercom-2010-04-29-we-will-force-usage-on-an-other-port"},children:[{type:b,tag:g,props:{ariaHidden:x,href:"#renoirboulangercom-2010-04-29-we-will-force-usage-on-an-other-port",tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:"renoirboulanger.com 2010-04-29 we will force usage on an other port"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"#connect_from_port_20=YES"}]}]},{type:b,tag:f,props:{},children:[]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter ou corriger (étaient pas présents lorsque j'ai crée la procédure)\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# 2010-04-28 accès usager\nvirtual_use_local_privs=YES\nguest_enable=YES\nuser_sub_token=$USER\nlocal_root=\u002Fhome\u002Fibottin\u002FFTP\u002F$USER\nhide_ids=YES"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" Ajuster le "},{type:b,tag:k,props:{},children:[{type:a,value:"local_root"}]},{type:a,value:" a l'endroit\tou envoyer les fichiers."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Activer le SSL\n"},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le certificat\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# cd \u002Fetc\u002Fssl\n# \u002Fusr\u002Fbin\u002Fopenssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout vsftpd.pem -out vsftpd.pem"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter au "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fetc\u002Fvsftpd.conf"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# vi \u002Fetc\u002Fvsftpd.conf\n~\n# renoirboulanger.com 2010-04-30 SSL configuration\nlisten_port=6123\nftp_data_port=6122\npasv_min_port=6000\npasv_max_port=6100\n"},{type:b,tag:f,props:{},children:[{type:a,value:"ssl_enable=YES"}]},{type:a,value:c},{type:b,tag:O,props:{id:"allow-anonymous-users-to-use-secured-ssl-connections"},children:[{type:b,tag:g,props:{ariaHidden:x,href:"#allow-anonymous-users-to-use-secured-ssl-connections",tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:"Allow anonymous users to use secured SSL connections"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"allow_anon_ssl=YES"}]},{type:a,value:c},{type:b,tag:O,props:{id:"all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to"},children:[{type:b,tag:g,props:{ariaHidden:x,href:"#all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to",tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:"All non-anonymous logins are forced to use a secure SSL connection in order to"}]},{type:a,value:c},{type:b,tag:O,props:{id:"send-and-receive-data-on-data-connections"},children:[{type:b,tag:g,props:{ariaHidden:x,href:"#send-and-receive-data-on-data-connections",tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:"send and receive data on data connections."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"force_local_data_ssl=NO"}]},{type:a,value:c},{type:b,tag:O,props:{id:"all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to-send-the-password"},children:[{type:b,tag:g,props:{ariaHidden:x,href:"#all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to-send-the-password",tabIndex:y},children:[{type:b,tag:z,props:{className:[A,B]},children:[]}]},{type:a,value:"All non-anonymous logins are forced to use a secure SSL connection in order to send the password."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"force_local_logins_ssl=YES\nssl_tlsv1=YES\nssl_sslv2=YES\nssl_sslv3=YES\nrsa_cert_file=\u002Fetc\u002Fssl\u002Fvsftpd.pem"}]}]},{type:b,tag:f,props:{},children:[]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:aV}]},{type:a,value:" le contenu du fichier "},{type:b,tag:k,props:{},children:[{type:a,value:"pam.d\u002Fvsftpd"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# vi \u002Fetc\u002Fpam.d\u002Fvsftpd\n~\nauth required pam_pwdfile.so pwdfile \u002Fetc\u002Fvsftpd.passwd\naccount required pam_permit.so"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" Il est important de remplacer le reste du fichier par ce contenu ci-haut."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier permissions sur le fichier .pem\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# chown vsftpd \u002Fetc\u002Fssl\u002Fvsftpd.pem"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:aW},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# \u002Fetc\u002Finit.d\u002Fvsftpd restart"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le unix user qui va rouler le démon\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# adduser --system --no-create-home --disabled-login -s \u002Fusr\u002Fsbin\u002Fnologin --home \u002Fvar\u002Fftp vsftpd"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier les permissions pour l'utilisateur qui roule vsftpd (ajuster)\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# chown -R ftp:ftp \u002Fvar\u002Fftp\u002F\n# chmod -R 740 \u002Fvar\u002Fftp"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:b,tag:P,props:{to:"\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd#ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-AjouterunutilisateurFTP"},children:[{type:a,value:ac}]}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ajuster "},{type:b,tag:k,props:{},children:[{type:a,value:aU}]},{type:a,value:c},{type:b,tag:H,props:{className:[K,aX],style:aY},children:[{type:a,value:c},{type:b,tag:H,props:{className:["codeHeader","panelHeader"],style:"border-bottom-width: 1px;"},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Ajuster le bloc [vsftpd]"}]}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# vi \u002Fetc\u002Ffail2ban\u002Fjail.conf\n~\n[vsftpd]\n"},{type:b,tag:f,props:{},children:[{type:a,value:"enabled  = true"}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" par defaut "},{type:b,tag:k,props:{},children:[{type:a,value:"enabled"}]},{type:a,value:" est a false...\til faut l'activer."},{type:b,tag:f,props:{},children:[]},{type:a,value:c}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:aW},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# \u002Fetc\u002Finit.d\u002Fvsftpd restart\n * Stopping FTP server: vsftpd\n   ...done.\n * Starting FTP server: vsftpd\n   ...done.\n# ps aux|grep vsftpd\nvsftpd   18771  0.0  0.0  28904  1300 ?        Ss   17:09   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\nvsftpd   18772  0.0  0.0  29100  1608 ?        S    17:09   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\nftp      18773  0.0  0.0  28928   924 ?        S    17:09   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\nroot     18795  0.0  0.0  22628  1712 ?        S    17:14   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\n..."}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" les deux premiers "},{type:b,tag:k,props:{},children:[{type:a,value:"vsftpd"}]},{type:a,value:" est le résultat attendu"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Nous allons forcer le FTP over SSL sur le port "},{type:b,tag:h,props:{},children:[{type:a,value:"6122"}]},{type:a,value:", pour ça il faut autoriser le Firewall\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# iptables -A INPUT -m state --state ESTABLISHED,RELATED\n# iptables -A INPUT -m tcp -p tcp --dport 6122 -j ACCEPT\n# iptables -A INPUT -m state --state NEW,ESTABLISHED\n# iptables -A INPUT -m tcp -p tcp --dport 6123 -j ACCEPT\n# iptables -A INPUT -p tcp --dport 6000:6100 -j ACCEPT"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:aZ}]},{type:a,value:": "},{type:b,tag:g,props:{href:a_},children:[{type:a,value:a$}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Sauvegarder le Firewall\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# iptables-save \u003E \u002Fetc\u002Fiptables.rules"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Tester de l'extérieur avec un client FTP (Filezilla, etc)\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Voir les options suivantes a la connection"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"port: 6123"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Forcer le SSL"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-AjouterunutilisateurFTP"},children:[]},{type:a,value:ac}]},{type:a,value:"\nOn utilise le truc simple de htpasswd pour l'authentification. Pas de gossage :-)\n"},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Cr%C3%A9erunnouveaucompte"},children:[]},{type:a,value:aP}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le "},{type:b,tag:n,props:{},children:[{type:a,value:"premier compte"}]},{type:a,value:", sinon, "},{type:b,tag:h,props:{},children:[{type:a,value:"passer\ta la directive suivante"}]},{type:a,value:"! ou Utiliser mon script "},{type:b,tag:P,props:{to:ad},children:[{type:a,value:N}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# htpasswd -c \u002Fetc\u002Fvsftpd.passwd ftpuser\nNew password:\nRe-type new password:\nAdding password for user ftpuser"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" l'option "},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"-c"}]}]},{type:a,value:" est\tpour créer le fichier la première fois."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Voir les directives de *"},{type:b,tag:P,props:{to:ad},children:[{type:a,value:N}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Ajouteroumodifierunutilisateur"},children:[]},{type:b,tag:h,props:{},children:[{type:a,value:aQ}]}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Utiliser le script "},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"evo-vsftpd-user"}]}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"$ sudo evo-vsftpd-user foo\nCréation d'un nouvel usager dans \u002Fetc\u002Fvsftpd.passwd ...\nNew password:\nRe-type new password:\nAdding password for user foo\n ... OK\n * Création du dossier \u002Fhome\u002Fibottin\u002FFTP\u002Ffoo ...  OK\n * Changement des permissions du dossier ...  OK\nTerminé!"}]},{type:a,value:"\nVoir les directives de "},{type:b,tag:h,props:{},children:[{type:b,tag:P,props:{to:ad},children:[{type:a,value:N}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Scriptpourcr%C3%A9eruncompteutilisateur"},children:[]},{type:a,value:N}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le fichier\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# vi \u002Fusr\u002Fsbin\u002Fevo-vsftpd-user"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Coller le contenu\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"#!\u002Fbin\u002Fbash\nif [ -z $1 ]; then\n  echo \"Aucun argument usager fourni\"\n  echo \"usage: sudo evo-vsftpd-user foo\"\n  exit 1;\nfi\n"},{type:b,tag:f,props:{},children:[{type:a,value:"if [ \"$(whoami)\" != 'root' ]; then\necho \"Vous n'avez pas les permisions utilisateur requises.\"\nexit 1;\nfi"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"echo \"Création d'un nouvel usager dans \u002Fetc\u002Fvsftpd.passwd ... \"\nhtpasswd \u002Fetc\u002Fvsftpd.passwd $1\necho \" ... OK \"\necho -n \" "},{type:b,tag:n,props:{},children:[{type:a,value:" Création du dossier \u002Fhome\u002Fibottin\u002FFTP\u002F$1 ... \"\nmkdir \u002Fhome\u002Fibottin\u002FFTP\u002F$1\necho \" OK\"\necho -n \" "}]},{type:a,value:" Changement des permissions du dossier ... \"\nchown -R ftp:ftp \u002Fhome\u002Fibottin\u002FFTP\u002F$1\nchmod -R 740 \u002Fhome\u002Fibottin\u002FFTP\u002F$1\necho \" OK\"\necho \"Terminé!\""}]}]},{type:b,tag:f,props:{},children:[]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Rendre exécutable\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# chmod +x \u002Fusr\u002Fsbin\u002Fevo-vsftpd-user"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Tester"},children:[]},{type:a,value:aR}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Installer le paquet pour tester\n"},{type:b,tag:H,props:{className:[K,aX],style:aY},children:[{type:a,value:c},{type:b,tag:H,props:{className:["codeContent","panelContent"]},children:[{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# aptitude install ftp-ssl"}]},{type:a,value:c}]},{type:a,value:c}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Tester\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# ftp-ssl someserver.net 6123\nConnected to someserver.net.\n220 Un nom Quelconque FTP\nName (someserver.net:renoirboulanger): ftpuser\n234 Proceed with negotiation.\n[SSL Cipher DES-XXXX-SHA]\n331 Please specify the password.\nPassword:\n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp\u003E"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" [SSL Cipher DES-XXXX-SHA] est ce qu'on attend :-)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Pourd%C3%A9boguer"},children:[]},{type:a,value:aS}]},{type:a,value:"\nLe feedback est assez difficile a avoir de la part de vsftpd, mais pour en voir plus:\n"},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Pour le debug\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# vi \u002Fetc\u002Fvsftpd.conf\n~\n# for debuging\nlog_ftp_protocol=YES"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Ressources"},children:[]},{type:a,value:aT}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwjholden.com\u002Fvsftpd-help.html"},children:[{type:a,value:"vsftpd help"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fvsftpd.beasts.org\u002Fvsftpd_conf.html"},children:[{type:a,value:"vsftpd.conf manpages"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:a_},children:[{type:a,value:a$}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.ubuntututorials.net\u002Finstalling-vsftpd-using-text-file-for-virtual-users\u002F"},children:[{type:a,value:"Installing vsftpd using text file for virtual users"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.cyberciti.biz\u002Ftips\u002Fconfigure-vsfptd-secure-connections-via-ssl-tls.html"},children:[{type:a,value:"Vsftpd SSL \u002F TLS FTP Server Configuration"}]}]},{type:a,value:c}]}]},dir:ba,path:"\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd",extension:F,slug:"procedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd",createdAt:"2024-10-24T19:50:04.907Z",updatedAt:"2024-10-24T19:50:04.908Z",category:w,prettyfiedTemporalDate:{prettified:"vendredi 30 avril 2010",temporalDate:"2010-04-30"}},{locale:I,title:"Comment dire à Apache le mime-type d'un document Office 2007",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2010\u002F04\u002Fcomment-dire-a-apache-le-mime-type-dun-document-office-2007\u002F",status:D,revising:p,migrateLinks:p,migrateCode:p,created:"2010-04-21",updated:L,tags:[J,v,Q,"web"],categories:[C],excerpt:w,toc:[{depth:l,text:T}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"J'ai entendu parler de certains Problèmes avec les documents "},{type:b,tag:h,props:{},children:[{type:a,value:".docx"}]},{type:a,value:" qui son considérés comme étant des fichiers zip. J'ai pensé partager avec vous comment j'ai réparé la situation."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Il est possible que le serveur apache ne considère pas les fichiers doc sur le serveur comme étant des fichiers office. Normalement un navigateur téléchargera le fichier et ouvrira avec le programme qu'il considère comme étant le bon."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"A moins que l'ordinateur du visiteur ait pas de bonne association de fichier, dans ce cas, on peut rien y faire."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pour aider, on peut annoncer au serveur web les associations MIME."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Le problème avec cette méthode qui ne sert presque a rien, c'est que ça ne changera rien si"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Le visiteur n'a pas de bonne association sur son système d'exploitation"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Le visiteur n'a pas Microsoft Office 2007 ou Open Office"}]},{type:a,value:c}]},{type:a,value:c},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:T}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Copier-coller ce bloc dans un ou encore dans l'un ou l'autre:"}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bb},{type:b,tag:k,props:{},children:[{type:a,value:".htaccess"}]},{type:a,value:" du site qui contient les fichiers a télécharger, exemple: "},{type:b,tag:k,props:{},children:[{type:a,value:"public_html\u002F"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:bb},{type:b,tag:k,props:{},children:[{type:a,value:"\u003CVirtualHost\u002F\u003E"}]},{type:a,value:" dans le "},{type:b,tag:k,props:{},children:[{type:a,value:"\u003CDirectory\u003E"}]},{type:a,value:" associé."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{lang:"htaccess"},children:[{type:a,value:"AddType application\u002Fvnd.ms-word.document.macroEnabled.12 .docm\nAddType application\u002Fvnd.openxmlformats-officedocument.wordprocessingml.document docx\nAddType application\u002Fvnd.openxmlformats-officedocument.wordprocessingml.template dotx\nAddType application\u002Fvnd.ms-powerpoint.template.macroEnabled.12 potm\nAddType application\u002Fvnd.openxmlformats-officedocument.presentationml.template potx\nAddType application\u002Fvnd.ms-powerpoint.addin.macroEnabled.12 ppam\nAddType application\u002Fvnd.ms-powerpoint.slideshow.macroEnabled.12 ppsm\nAddType application\u002Fvnd.openxmlformats-officedocument.presentationml.slideshow ppsx\nAddType application\u002Fvnd.ms-powerpoint.presentation.macroEnabled.12 pptm\nAddType application\u002Fvnd.openxmlformats-officedocument.presentationml.presentation pptx\nAddType application\u002Fvnd.ms-excel.addin.macroEnabled.12 xlam\nAddType application\u002Fvnd.ms-excel.sheet.binary.macroEnabled.12 xlsb\nAddType application\u002Fvnd.ms-excel.sheet.macroEnabled.12 xlsm\nAddType application\u002Fvnd.openxmlformats-officedocument.spreadsheetml.sheet xlsx\nAddType application\u002Fvnd.ms-excel.template.macroEnabled.12 xltm\nAddType application\u002Fvnd.openxmlformats-officedocument.spreadsheetml.template xltx"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"source:"}]},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.webdeveloper.com\u002Fforum\u002Fshowthread.php?t=162526"},children:[{type:a,value:"Webdeveloper.com"}]}]}]},dir:ba,path:"\u002Fblog\u002F2010\u002F04\u002Fcomment-dire-a-apache-le-mime-type-dun-document-office-2007",extension:F,slug:"comment-dire-a-apache-le-mime-type-dun-document-office-2007",createdAt:bc,updatedAt:bc,category:C,prettyfiedTemporalDate:{prettified:"mercredi 21 avril 2010",temporalDate:"2010-04-21"}},{locale:I,title:"Une VM Linux qui sert au développement PHP 5.3 avec Eclipse - partie II",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii\u002F",status:D,revising:p,migrateCode:p,migrateLinks:p,created:"2009-09-03",updated:L,tags:[J,aa,v,S,"techniques"],categories:[],excerpt:w,toc:[{depth:l,text:bd},{depth:l,text:be}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Ce billet est le "},{type:b,tag:h,props:{},children:[{type:a,value:"deuxième"}]},{type:a,value:" d'une série d'articles décrivant la fabrication d'une Machine Virtuelle (VM) de développement pour une équipe de dévelopeurs."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ce billet expliquera comment j'installe un système Linux que je considère de base pour une infrastructure d'hébergement applicatif. Je ne couvrirai pas les configurations plus avancés pour améliorer la sécurité. Je risque de le faire plus tard."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"J'ai séparé cette série en quatre volets."}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{},children:[{type:b,tag:P,props:{to:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-i"},children:[{type:a,value:"Description du concept"}]}]},{type:a,value:" (article précédent)\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Ce que je vais discuter dans cette série d'articles n'est pas nécessairement connu de tous. Je vais donc vulgariser un peu avant de commencer."}]}]},{type:b,tag:f,props:{},children:[]},{type:a,value:c},{type:b,tag:H,props:{className:[U]},children:[{type:b,tag:i,props:{className:[V,W]},children:[{type:b,tag:K,props:{},children:[{type:a,value:"\u003Cli\u003E\u003Cstrong\u003EInstallation du système\u003C\u002Fstrong\u003E (cet article)\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Je donne ici mon secret de magicien avec quelques configurations que je considère importantes pour un environement d'hébergement web pour améliorer la sécruité (le strict minimum pour cette série d'articles. Je pourrai en faire un plus poussé plus tard)."}]},{type:a,value:c},{type:b,tag:H,props:{className:[U]},children:[{type:b,tag:i,props:{className:[V,W]},children:[{type:b,tag:K,props:{},children:[{type:a,value:"\u003Cli\u003E\u003Cstrong\u003E\u003Ca href=\"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii\"\u003ECompilation de PHP 5.3\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Comment installer Apache 2.x avec le dernier cutting-edge PHP."}]},{type:a,value:c},{type:b,tag:H,props:{className:[U]},children:[{type:b,tag:i,props:{className:[V,W]},children:[{type:b,tag:K,props:{},children:[{type:a,value:"\u003Cli\u003E\u003Cstrong\u003EInstallation de l'environnement de développement avec Eclipse PDT\u003C\u002Fstrong\u003E (à venir)\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"La magie se passe par là! Avec ce setup votre équipe pourra répliquer l'installation de développement a volonté."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{name:"BaseSystem"},children:[]},{type:a,value:bd}]},{type:a,value:"\nJ'utilise personnellement Debian Linux depuis quelques années car je le trouve plus léger que Red Hat Enterprise Linux ou n'importe quelle saveur de RedHat (Fedora, CentOS, etc)\n"},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"Note: "}]},{type:a,value:"Je n'expliquerai pas comment faire pour  "},{type:b,tag:g,props:{href:ae},children:[{type:a,value:"installer Debian Linux de base (dans une VM)"}]},{type:a,value:" car c'est un sujet déjà largement couvert."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Personnellement j'installe le système avec la version actuelle provenant d'un mini boot server que j'ai sur un réseau que je partage avec quelques amis."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Une installation simple "},{type:b,tag:g,props:{href:ae},children:[{type:a,value:"comme celle ci"}]},{type:a,value:", ferait très bien l'affaire."}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Utiliser le dernier Debian stable"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"à l'écran \""},{type:b,tag:h,props:{},children:[{type:a,value:"Debian Software Installation"}]},{type:a,value:"\" "},{type:b,tag:h,props:{},children:[{type:a,value:"Je coche"}]},{type:a,value:" généralement ~"},{type:b,tag:h,props:{},children:[{type:a,value:"rien"}]},{type:a,value:"~, car"},{type:b,tag:h,props:{},children:[{type:a,value:" je vais donner plus de détails"}]},{type:a,value:" ici."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Les étapes..."}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier le\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"\u002Fetc\u002Fapt\u002Fsources.list"}]},{type:a,value:"\net "},{type:b,tag:h,props:{},children:[{type:a,value:"Enlever la mention du CD-rom"}]},{type:a,value:" et "},{type:b,tag:h,props:{},children:[{type:a,value:"Ajouter la mention \""},{type:b,tag:k,props:{},children:[{type:a,value:"contrib"}]},{type:a,value:"\""}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"deb http:\u002F\u002Fdebian.savoirfairelinux.net\u002Fdebian\u002F lenny main\ndeb-src http:\u002F\u002Fdebian.savoirfairelinux.net\u002Fdebian\u002F lenny main\ndeb http:\u002F\u002Fsecurity.debian.org\u002F lenny\u002Fupdates main contrib\ndeb-src http:\u002F\u002Fsecurity.debian.org\u002F lenny\u002Fupdates main contrib\n"},{type:b,tag:f,props:{},children:[{type:a,value:bf},{type:b,tag:g,props:{href:X,rel:[s,t,u],target:q},children:[{type:a,value:X}]},{type:a,value:" lenny contrib\ndeb-src "},{type:b,tag:g,props:{href:X,rel:[s,t,u],target:q},children:[{type:a,value:X}]},{type:a,value:" lenny contrib"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:bf},{type:b,tag:g,props:{href:Y,rel:[s,t,u],target:q},children:[{type:a,value:Y}]},{type:a,value:" lenny main\ndeb-src "},{type:b,tag:g,props:{href:Y,rel:[s,t,u],target:q},children:[{type:a,value:Y}]},{type:a,value:" lenny main"}]}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:bg}]},{type:a,value:" Il s'agit de mon propre "},{type:b,tag:k,props:{},children:[{type:a,value:"sources.list"}]},{type:a,value:" ayant trouvé "},{type:b,tag:k,props:{},children:[{type:a,value:"savoirfairelinux"}]},{type:a,value:" comme étant le plus rapide en utilisant "},{type:b,tag:g,props:{href:bh},children:[{type:a,value:bi}]},{type:a,value:" et la liste des "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fmirror\u002Flist"},children:[{type:a,value:"mirroirs Debian"}]}]},{type:b,tag:f,props:{},children:[]},{type:a,value:c},{type:b,tag:H,props:{className:[U]},children:[{type:b,tag:i,props:{className:[V,W]},children:[{type:b,tag:K,props:{},children:[{type:a,value:"\u003Cli\u003EUpdater les sources\n"}]}]}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# apt-get update"}]},{type:a,value:"\n\n\t"},{type:b,tag:d,props:{},children:[{type:a,value:"Installer les paquets essentiels\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# apt-get install openssh-server mlocate screen sudo vim ntpdate linux-headers-$(uname -r) syslog-ng build-essential open-vm-tools"}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:bg}]},{type:a,value:" remarquez la présence de "},{type:b,tag:k,props:{},children:[{type:a,value:"open-vm-tools"}]},{type:a,value:" il s'agit d'un package provenant de Debian contrib pour les VM "},{type:b,tag:h,props:{},children:[{type:a,value:"VMware"}]},{type:a,value:" (n'installez pas si vous utilisez "},{type:b,tag:k,props:{},children:[{type:a,value:"Xen"}]},{type:a,value:")... au lieu de compiler vm-ware-tools pour le kernel... Debian s'en occupe (!!)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter les droits sudo à "},{type:b,tag:k,props:{},children:[{type:a,value:"sudo"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# visudo"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Va ouvrir "},{type:b,tag:k,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPico_%28text_editor%29"},children:[{type:a,value:"pico"}]}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Décommenter "},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"%sudo ALL=NOPASSWD: ALL"}]}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Pour quitter, faire CTRL+x y ENTER"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Updater la DB de mlocate\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# updatedb"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Lier killall5 sous le nom legacy de "},{type:b,tag:k,props:{},children:[{type:a,value:"killall"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# ln -s \u002Fsbin\u002Fkillall5 \u002Fsbin\u002Fkillall"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"suivre "},{type:b,tag:h,props:{},children:[{type:a,value:"Procédure de configuration de NTP pour les serveurs"}]},{type:a,value:ab},{type:b,tag:h,props:{},children:[{type:a,value:G}]},{type:a,value:" L'idée est d'éviter d'utiliser en mémoire les démons le plus possible. Si utile soit-il (comme ajuster l'heure, ici). Il est plus pratique qu'elle soit ajustée aux heures et laisser l'espace mémoire pour son usage primaire.\n"},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Entrer en édition dans le fichier\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"$ sudo vi \u002Fetc\u002Fdefault\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Trouver dans le fichier la variable "},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"NTPSERVERS"}]}]},{type:a,value:", "},{type:b,tag:h,props:{},children:[{type:a,value:aV}]},{type:a,value:", soit par...\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"NTPSERVERS=\"0.ca.pool.ntp.org 1.ca.pool.ntp.org 2.ca.pool.ntp.org\""}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Faire i (pour Insert)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter a "},{type:b,tag:k,props:{},children:[{type:a,value:"NTPOPTIONS"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"NTPOPTIONS=\"-u\""}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Faire ESCAPE"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:":wq"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Créer un fichier "},{type:b,tag:k,props:{},children:[{type:a,value:"cron.hourly"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"$ sudo vi \u002Fetc\u002Fcron.hourly\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter le contenu\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"#!\u002Fbin\u002Fsh\nPATH=\u002Fsbin:\u002Fbin\ntest -f \u002Fusr\u002Fsbin\u002Fntpdate || exit 0\nif test -f \u002Fetc\u002Fdefault\u002Fntpdate ; then\n        . \u002Fetc\u002Fdefault\u002Fntpdate\nelse\n        NTPSERVERS=\"0.ca.pool.ntp.org\"\nfi\ntest -n \"$NTPSERVERS\" || exit 0\n\u002Fusr\u002Fsbin\u002Fntpdate -s $NTPOPTIONS $NTPSERVERS \u003E\u003E \u002Fdev\u002Fnull 2\u003E&1\n# Exit with a succes anyway, avoids spamming root.\nexit 0"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Changer les permissions pour qu'il puisse être exécuté\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"$ sudo chmod 755 \u002Fetc\u002Fcron.hourly\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Essayer\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"$ sudo \u002Fetc\u002Fcron.hourly\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Voir dans syslog, ça devrait ressembler à...\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# tail \u002Fvar\u002Flog\u002Fsyslog\n...\nDec 30 13:39:35 willow ntpdate[1912]: adjust time server 192.168.1.5 offset 0.005642 sec\n..."}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Installer le service d'envoi courriel...\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Question de pouvoir "},{type:b,tag:h,props:{},children:[{type:a,value:"recevoir les avertissements"}]},{type:a,value:" par courriel"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# apt-get install postfix"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Satellite System (On veut envoyer les courriels ailleurs et rien garder ici)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\"Mail name?\"...  "},{type:b,tag:h,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"NOMDELAVM"}]}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\"SMTP relay host?\"...  votre relai SMTP fourni par votre fournisseur"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\"Other destinations...\" Ajuster les noms"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Enter"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"\"Local networks?\"... ENTER"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"..."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Tester l'envoi\n("},{type:b,tag:h,props:{},children:[{type:a,value:"NOTE:"}]},{type:a,value:" vous pouvez aussi utiliser l'outil Debian "},{type:b,tag:k,props:{},children:[{type:a,value:"swaks"}]},{type:a,value:")\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# mail test@test.com\nSubject: Patate 1 am\nMessage, qui doit terminer avec une ligne seule et un point .\n.\nCc:"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Regarder les mails du destinataire."}]},{type:a,value:c}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:be}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{lang:Z,href:"http:\u002F\u002Fwww.vmware.com\u002Fproducts\u002Fserver\u002F"},children:[{type:a,value:"VMware Server"}]},{type:a,value:_}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{lang:Z,href:ae},children:[{type:a,value:"Installing a Debian Base system"}]},{type:a,value:_}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{lang:Z,href:"http:\u002F\u002Fhelpdeskgeek.com\u002Fvirtualization\u002Fcreating-a-virtual-machine-on-vmware-server\u002F"},children:[{type:a,value:"Creating a Virtual Machine on VMware server"}]},{type:a,value:_}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{lang:Z,href:bh},children:[{type:a,value:"Using "},{type:b,tag:k,props:{},children:[{type:a,value:bi}]},{type:a,value:" tip to select"}]},{type:a,value:_}]},{type:a,value:c}]}]},dir:"\u002Fblog\u002F2009\u002F09",path:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii",extension:F,slug:"une-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii",createdAt:bj,updatedAt:bj,category:w,prettyfiedTemporalDate:{prettified:"jeudi 3 septembre 2009",temporalDate:"2009-09-03"}},{locale:I,title:"Un firewall simple sous Linux avec «Ferm»",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F08\u002Fun-firewall-simple-sous-linux-avec-ferm\u002F",status:D,revising:p,migrateCode:p,migrateLinks:p,created:"2009-08-19",updated:L,tags:[J,v,S,Q],categories:[C],excerpt:w,toc:[{depth:af,text:bk},{depth:af,text:bl},{depth:af,text:bm}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Attention: Article Technique!"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Dans le but de faire profiter la postérité et ma mémoire personnelle voici mon premier post d'une série d'articles spécialisée sur Linux."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ces articles proviennent de ma voûte documentaire professionnelle et personnelle."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Évidemment pour les publier ici je dois censurer les détails sensibles, vous me comprendrez (!)"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Le fait de les avoir dans le format Wiki Markup de Confluence... et les traduire ici demande du temps pour les reformatter pour mon blogue."}]},{type:a,value:c},{type:b,tag:ag,props:{},children:[{type:a,value:bk}]},{type:a,value:"\nD'autres articles technique (pour Debian Linux) seront aussi disponibles dans les prochaines semaines.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Voici une liste de quelques uns que je compte publier:"}]},{type:a,value:c},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Monter une machine en SNMP v2c en lecture seule"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Permettre des updates aux serveurs NTP a l'heure"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Installer VMware server 2 sur Debian"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Augumenter le niveau de sécurité pour Infra Publique sous Debian"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Procédure configuration SYSLOG-NG vers un serveur de log"}]},{type:a,value:c}]},{type:a,value:"\nJ\n"},{type:a,value:c},{type:b,tag:ag,props:{},children:[{type:a,value:bl}]},{type:a,value:"\nEn fait, sous Debian c'est pas très compliqué, on ajoute le paquet, puis on le configure comme mentionné plus bas.\n"},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# apt-get update\n# apt-get install ferm libnet-dns-perl perl iptables"}]},{type:a,value:"\nJ'ai fait une petite version qui permet d'utiliser des variables et mettre le code un peu plus clean (d'un point de vue programmeur).\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Vous pouvez remplacer par ce code ci:"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"# -*- shell-script -*-\n#\n#  Configuration file for ferm(1).\n#\n# vmware-mgmt = 8333\n# vmware-console = 902\n# ntop = 3000\n# ... ports ajoutes dans \u002Fetc\u002Fservices\n\n# Source http:\u002F\u002Fwww.krzywanski.net\u002Farchives\u002F90\n# Interfaces\n@def $DEV_LOCAL = lo;\n@def $DEV_LAN = (eth1 vmnet1 vmnet8);\n@def $DEV_INTERNET = eth0;\n\n# Ports\n@def $PORTS = (ntp name http https smtp);\n\n# Known IPs\n@def $SSH_ALLOWED = (69.159.234.55 192.168.2.1);\n@def $SSH_DYNDNS = @resolve((somehost.renoirboulanger.com someotherhost.somenetwork.net));\n\n# SSH Clients\n@def $SSH_CLIENTS = ($SSH_ALLOWED $SSH_DYNDNS);\n\ntable filter {\n    chain INPUT {\n        policy DROP;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n\n        # allow local packages\n        interface $DEV_LOCAL ACCEPT;\n        interface $DEV_LAN ACCEPT;\n\n        # allow ping from the administrator's network\n        interface $DEV_INTERNET saddr ($SSH_DYNDNS $SSH_ALLOWED) proto icmp icmp-type echo-request ACCEPT;\n\n        # respond to ping\n        proto icmp icmp-type echo-request ACCEPT;\n\n        # allow SSH connections\n        proto tcp dport 2522 ACCEPT;\n\n        proto tcp dport $PORTS ACCEPT;\n    }\n    chain OUTPUT {\n        policy ACCEPT;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n    }\n    chain FORWARD {\n        policy DROP;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n    }\n}"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pour plus de détails a propos de la syntaxe, "},{type:b,tag:g,props:{href:"http:\u002F\u002Fferm.foo-projects.org\u002Fdownload\u002F2.0\u002Fferm.html"},children:[{type:a,value:"voir la documentation"}]},{type:a,value:$}]},{type:a,value:c},{type:b,tag:ag,props:{},children:[{type:a,value:bm}]},{type:a,value:"\nJ'ai utilisé, entre autres ces ressources pour m'inspirer de ce mini-tutoriel\n"},{type:b,tag:o,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fdoc\u002Fmanuals\u002Fsecuring-debian-howto"},children:[{type:a,value:"Securing Debian HOWTO"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.tldp.org\u002FHOWTO\u002FSecurity-HOWTO\u002F"},children:[{type:a,value:"Linux Security HOWTO"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.cromwell-intl.com\u002Fsecurity\u002Fsecurity-firewall.html"},children:[{type:a,value:"Firewall Tools"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fsecurity\u002F"},children:[{type:a,value:"Debian Security"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fdoc\u002Fdebian-policy\u002F"},children:[{type:a,value:"Debian Policies"}]}]},{type:a,value:c}]}]},dir:bn,path:"\u002Fblog\u002F2009\u002F08\u002Fun-firewall-simple-sous-linux-avec-ferm",extension:F,slug:"un-firewall-simple-sous-linux-avec-ferm",createdAt:"2024-10-24T19:50:04.889Z",updatedAt:"2024-10-24T19:50:04.890Z",category:C,prettyfiedTemporalDate:{prettified:"mercredi 19 août 2009",temporalDate:"2009-08-19"}},{locale:I,title:"Faire son inventaire personnel avec Namminik.com",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F08\u002Ffaire-son-inventaire-personnel-avec-namminik-com\u002F",status:D,revising:p,created:"2009-08-14",updated:L,tags:[bo,v],categories:[C],excerpt:w,toc:[],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Faire son inventaire personnel est une tâche qu'on remet très aisément de coté."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pourtant faire son inventaire peut s'avérer plaisant. Avec tout les services web 2.0 qui existent aujourd'hui, pourquoi ne pas faire pareil avec ce type d'activité important mais qu'on remet toujours à demain?"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Personnellement, j'ai jamais pensé à faire cette activité."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Avec Namminik, j'ai rapidement pris plaisir\nJ'ai un très bon ami qui a fait son inventaire avec son appareil numérique\nMon collègue Félix Martineau "},{type:b,tag:g,props:{href:bp,rel:[s,t,u],target:q},children:[{type:a,value:bp}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:g,props:{href:bq,rel:[s,t,u],target:q},children:[{type:a,value:bq}]}]}]},dir:bn,path:"\u002Fblog\u002F2009\u002F08\u002Ffaire-son-inventaire-personnel-avec-namminik-com",extension:F,slug:"faire-son-inventaire-personnel-avec-namminik-com",createdAt:br,updatedAt:br,category:C,prettyfiedTemporalDate:{prettified:"vendredi 14 août 2009",temporalDate:"2009-08-14"}},{locale:I,title:"Créer un tunnel SSH avec session distante en Console VMWare",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F10\u002Ftunnel-ssh-avec-session-distante-en-console-vmware\u002F",status:D,revising:p,created:"2007-10-03",updated:L,tags:[J,v],categories:[C],excerpt:w,toc:[{depth:l,text:bs},{depth:l,text:bt}],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Il existe plusieurs page de how-to's pour se connecter a une application a distance. Mais j'ai envie de mettre pour mes propres archives."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ce billet prend en considérations que..."}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Vous voulez vous connecter a un service précis (disons VMWare Server Console)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Sur une machine parmi un réseau de X ordinateurs"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Le gateway (routeur) relie toutes les connections vers un host en Linux (proxysrv) qui sert a s'authentifier et accéder au reste du réseau."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Le serveur sur le réseau qui héberge des machines virtuelles avec VMWare Server (vmserver1)."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Le port 902 (le port TCP que vous voulez utiliser) sur le firewall interne (de vmserver1) est ouvert. Et"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Vous voulez vous connecter a un de ses VM."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:H,props:{style:"background: #ececec; margin: 5px 0px; padding: 18px 8px 8px 50px; border: 1px solid #333;"},children:[{type:a,value:c},{type:b,tag:aM,props:{style:"color: #777; margin-bottom: 10px;"},children:[{type:a,value:"Mise à jour"}]},{type:a,value:"\nCe billet a été écrit originalement en 2007. À l'époque il n'existait pas de VMware ESXi, ni de VMware Server 2. Les concepts sont toujours bons par contre.\n"}]},{type:a,value:c},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pour avoir accès a une application distante (ou une autre machine\u002FVM), il faut se créer un tunnel vers le réseau interne. En gros il faut avoir accès au réseau (dans mon exemple le serveur "},{type:b,tag:n,props:{},children:[{type:a,value:"proxysrv"}]},{type:a,value:")."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Vous devez avoir un accès au réseau interne que vous avez accès, vous pouvez le demander a  votre Sysadmin de vous avoir un accès, mais ce n'est pas le point de ce billet."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pour ouvrir une session SSH en tunnel, sous windows, il vous faut PuTTY. Si vous n'avez pas PuTTY faites une "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.google.ca\u002Fsearch?q=putty"},children:[{type:a,value:"recherche google"}]},{type:a,value:" c'est une petite application libre de droits. En linux, c'est simple"}]},{type:a,value:c},{type:b,tag:i,props:{lang:j},children:[{type:a,value:"ssh -l username -L 902:192.168.3.97:902 -L 80:192.168.3.88:80 serveurdistant.ca"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:"small",props:{},children:[{type:a,value:"NOTE: Remarquez que vous n'avez qu'a ajouter le nombre de -L nécessaires (-L LOCAL_PORT:ON_REMOTE_NETWORK_IP:REMOTE_IP_OPENED_PORT_NUMBER)"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Aussi, pour accéder a la console VMWare, il faut une version de "},{type:b,tag:h,props:{},children:[{type:a,value:"VMWare Server"}]},{type:a,value:" ou une console VMWare. Le site VMWare ne semble pas avoir de version stand-alone de la console ni pour Linux ni Windows. Alors, si vous n'avez pas encore VMWare sur votre machine, allez chercher votre exemplaire de "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.vmware.com\u002Fdownload\u002Fserver\u002F"},children:[{type:a,value:"VMWare Server ici"}]},{type:a,value:". Si vous avez \"VMWare\" d'installé mais pas de moyen de vous connecter en local ou a distance, désinstallez la, et installez la version server prescrite."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Dans notre exemple, on va accéder a distance au "},{type:b,tag:h,props:{},children:[{type:a,value:"VMWare Server Console"}]},{type:a,value:" (sur vmserver1) qui utilise le port "},{type:b,tag:h,props:{},children:[{type:a,value:bu}]},{type:a,value:$}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:bs}]},{type:a,value:"\nPour pouvoir trouver d'autre ports a ouvrir le fichier texte \u002Fetc\u002Fservices donne tout les ports et les alias qu'on peut utiliser comme alias. Ce fichier existe depuis longtemps dans tout ce qui est UNIX et Linux.\n"},{type:b,tag:m,props:{},children:[{type:a,value:bt}]},{type:a,value:"\nUne fois PuTTY et VMWare Server Console (ou console) fonctionnels (pour cet exemple) vous n'avez qu'a suivre les paramêtre ici:\n"},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:" Hostname:"},{type:b,tag:n,props:{},children:[{type:a,value:az},{type:b,tag:h,props:{},children:[{type:a,value:"serveurdistant.ca"}]},{type:a,value:c}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Port: "},{type:b,tag:h,props:{},children:[{type:a,value:aK}]},{type:a,value:" (ssh)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Donner un nom de session, mais ne sauvegardez pas tout de suite."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Aller a "},{type:b,tag:h,props:{},children:[{type:a,value:"SSH"}]},{type:a,value:bv},{type:b,tag:h,props:{},children:[{type:a,value:"Tunnels"}]},{type:a,value:" (plus bas)"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Entrer, Source port : "},{type:b,tag:h,props:{},children:[{type:a,value:bu}]},{type:a,value:" (votre port local), Destination: (ip de vmserver1:le port) , puis cliquer Add."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Aller dans "},{type:b,tag:h,props:{},children:[{type:a,value:"Connection"}]},{type:a,value:bv},{type:b,tag:h,props:{},children:[{type:a,value:"Data"}]},{type:a,value:"; Auto-login username, vous pouvez entrer le login qu'il faut si vous l'avez"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Retourner au haut du menu et sauvegarder la session"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Puis... [Open]."}]},{type:a,value:c}]},{type:a,value:"\nEnsuite, connectez vous au service sur l'hôte localhost et le port que vous avez \"tunnellé\".\n"},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:" Connecter a VMWare Server"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Ouvrir VMWare sur votre machine hors réseau... maintenant tunnellée"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Connect to remote-host: "},{type:b,tag:h,props:{},children:[{type:a,value:"localhost"}]}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Login\u002Fpw: votre login pour accéder aux vm."}]},{type:a,value:c}]},{type:a,value:"\nUtiliser la VM comme si elle était locale.\n"},{type:b,tag:f,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:aZ}]}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"ttp:\u002F\u002Fwww.medicalnerds.com\u002Fport-forwarding-with-sshputty\u002F"},children:[{type:a,value:"Exemple tunnel avec PuTTY."}]}]},{type:a,value:c}]}]},dir:"\u002Fblog\u002F2007\u002F10",path:"\u002Fblog\u002F2007\u002F10\u002Ftunnel-ssh-avec-session-distante-en-console-vmware",extension:F,slug:"tunnel-ssh-avec-session-distante-en-console-vmware",createdAt:bw,updatedAt:bw,category:C,prettyfiedTemporalDate:{prettified:"mercredi 3 octobre 2007",temporalDate:"2007-10-03"}},{locale:I,title:"Lorsque gérer un réseau peut rimer avec vigilance plutôt que réparation",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F09\u002Florsque-gerer-un-reseau-peut-rimer-avec-vigilance-plutot-que-reparation\u002F",status:D,revising:p,caracteresBizzares:p,created:"2007-09-28",updated:L,tags:[J,bo,v,S],categories:[C],excerpt:w,toc:[],body:{type:E,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Les collègues qui travaillent avec moi pour le réseau savent ce que qu'implique chaque modification dans le réseau. Nous travaillons pour remonter le réseau et atteindre un certain niveau côté qualité qui rendra notre travail plus facile pour tous."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Parmi ces améliorations, il s'agit d'un moyen de savoir si tout est correct et être averti si un changement à été opéré et même savoir \"où est le bobo\"."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Il s'agit du service de monitoring avec "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.nagios.org\u002F",target:q},children:[{type:a,value:"Nagios"}]},{type:a,value:". Il ne s'agit ici pas d'un howo-to technique mais plutôt ma \"review\" de ce que l'installation que j'ai monté peut faire."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Il y a un mois ou deux je me suis commandé le livre \""},{type:b,tag:g,props:{href:"https:\u002F\u002Fwww.goodreads.com\u002Fbook\u002Fshow\u002F1348002.Building_a_Monitoring_Infrastructure_with_Nagios"},children:[{type:a,value:"Building a monitoring infrastructure with Nagios"}]},{type:a,value:"\" de David Josephsen "},{type:a,value:" qui s'avère être très utile pour comprendre le fonctionnement."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Je ne l'ai pas tout lu car j'avait déja de l'expérience avec Nagios. Puis de toute façon je voulait faire comme on fait souvent, me débrouiller et apprendre avant de \"lire le manuel\"."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"La façon qu'on l'a implantée consiste a utilser une "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.vmware.com\u002Fappliances\u002Fdirectory\u002F1002",target:q},children:[{type:a,value:"VM déjà montée"}]},{type:a,value:" (avec un "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.oreon-project.org\u002F",target:q},children:[{type:a,value:"pannel appelé Centreon"}]},{type:a,value:" ("},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.oreon-project.org\u002FNewsflash\u002FOreon-became-Centreon.html",target:q},children:[{type:a,value:"Anciennement Oreon"}]},{type:a,value:") le changement de nom de projet est tout récent)."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"En gros il s'agit d'une VM qui roule l'application et merge plusieurs applications fort utiles:"}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:" Authentification avec notre serveur LDAP"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"RRDTools pour les graphiques"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"... et "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwiki.oreon-project.org\u002Findex.php\u002FPlugins#More_plugins"},children:[{type:a,value:"bien d'autres"}]},{type:a,value:$}]},{type:a,value:c}]},{type:a,value:"\nLe pannel Centreon donne beaucoup d'avantages pour la gestion, dont;\n"},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:" Un pannel plus complet [que celui fourni par Nagios] qui donne beaucoup plus d'options de configuration"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Un processus de configuration qui te permet de tester AVANT \"d'appliquer\""}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Un moyen de conserver une historique des états et même leurs graphiques."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Beaucoup d'options qui deviennent à portée de la main sur des fonctions de Nagios qu'on ne penserait pas nécessairement."}]},{type:a,value:c}]},{type:a,value:"\nÉtant¬†une¬†\"techie\"¬†qui¬†utilise¬†beaucoup¬†la¬†ligne¬†de¬†commande,¬†j'ai¬†pourtant¬†été¬†surpris¬†d'être¬†rassuré¬†par l'interface aux premiers abords lourd mais complet de l'outil.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Dans¬†le¬†futur,¬†j'aimerai¬†entre-autre¬†améliorer¬†les¬†features¬†de¬†la¬†VM.¬†En voici quelques unes:"}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:e},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.syslog.org\u002Fwiki\u002FMain\u002FCentralSyslogTip",target:q},children:[{type:a,value:"Centraliser les logs"}]},{type:a,value:" pour pouvoir les consulter en un seul endroit."}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Utiliser Centreon\u002FNagios comme \""},{type:b,tag:g,props:{href:"http:\u002F\u002Fwiki.oreon-project.org\u002Findex.php\u002FSyslogNG",target:q},children:[{type:a,value:"alerteur"}]},{type:a,value:"\" AVEC les "},{type:b,tag:n,props:{},children:[{type:a,value:bx}]},{type:a,value:" CENTRALISÉS, un gros plus!"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:"Avoir accès a une application du type "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.splunk.com\u002F",target:q},children:[{type:a,value:"Splunk"}]},{type:a,value:" pour \"fouiller\" dans les "},{type:b,tag:n,props:{},children:[{type:a,value:bx}]},{type:a,value:$}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:" Intégrer les traps SNMP et pouvoir utiliser dans Nagios"}]},{type:a,value:e},{type:b,tag:d,props:{},children:[{type:a,value:" Intégrer le plugin "},{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.network-weathermap.com\u002Fnode\u002F49",target:q},children:[{type:a,value:"WeatherMap"}]},{type:a,value:" qui affiche l'état complet du réseau."}]},{type:a,value:c}]},{type:a,value:"\nPlus tard j'aurai probablement quelques indices du comment j'ai créé mes propres commandes pour gérer les plugins de nagios."}]},dir:"\u002Fblog\u002F2007\u002F09",path:"\u002Fblog\u002F2007\u002F09\u002Florsque-gerer-un-reseau-peut-rimer-avec-vigilance-plutot-que-reparation",extension:F,slug:"lorsque-gerer-un-reseau-peut-rimer-avec-vigilance-plutot-que-reparation",createdAt:"2024-10-24T19:50:04.874Z",updatedAt:"2024-10-24T19:50:04.875Z",category:C,prettyfiedTemporalDate:{prettified:"vendredi 28 septembre 2007",temporalDate:"2007-09-28"}}],taxonomyKey:v,taxonomy:{key:v}}],fetch:[],mutations:void 0}}("text","element","\n","li","\n\t","p","a","strong","pre","bash","tt",3,"h3","em","ol",true,"_blank","ul","nofollow","noopener","noreferrer","securite","","true",-1,"span","icon","icon-link","tranche-de-vie","publish","root",".md","Note","div","fr-CA","linux","code","2013-03-27","vm.somehost.com","Script pour créer un compte utilisateur","h1","nuxt-link","unix","friend-machine","tutoriels","Procédure","nuxt-content-highlight","language-text","line-numbers","http:\u002F\u002Fftp.debian.org\u002Fdebian","http:\u002F\u002Fdebian-multimedia.org\u002F","en"," (anglais seulement)",".","logiciel-libre",".\n","Ajouter un utilisateur FTP","\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd#ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Scriptpourcr%C3%A9eruncompteutilisateur","http:\u002F\u002Flinux.justinhartman.com\u002FInstalling_a_Debian_Etch_base_system",2,"h2","2014-07-04T00:00:00.000Z","technologies","https:\u002F\u002Fsaltproject.io\u002F","https:\u002F\u002Fwebplatform.github.io\u002Fblog\u002F2013\u002F08\u002Fhi-my-name-s-renoir-ill-be-your-devops-for-the-web-platform\u002F","https:\u002F\u002Fwww.w3.org\u002Fstaff\u002Falumni\u002F#renoir-boulanger","https:\u002F\u002Fwww.w3.org\u002Fstaff\u002Falumni\u002F#doug-schepers","https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20140708174445\u002Fhttp:\u002F\u002Ftechpageone.dell.com\u002Ftechnology\u002Fprotecting-against-cyber-warfare\u002F","what-made-heartbleed-such-a-tremendous-threat","What made Heartbleed such a tremendous threat?","is-there-anything-about-the-current-computing-landscape-that-made-the-threat-greater-than-it-might-have-been-in-the-past","Is there anything about the current computing landscape that made the threat greater than it might have been in the past?","what-were-the-most-important-things-that-companies-needed-to-do-in-the-face-of-heartbleed","What were the most important things that companies needed to do in the face of Heartbleed?","could-a-heartbleed-levelstyle-hack-happen-again","Could a Heartbleed-level\u002Fstyle hack happen again?","how-can-companies-best-protect-themselves-and-their-customers-moving-forward","How can companies best protect themselves and their customers moving forward?","abbr"," ","2024-10-24T19:50:04.928Z","2013-03-29","L'historique","0. La machine accessible pour les deux","1. Sur le poste de votre ami","2. Créer le tunnel sur la machine de votre ami","3. Vous connecter de VOTRE poste, à la machine commune,  à finalement le poste de votre ami.","Screen","Finalement","Sources","22","screen","h4","2024-10-24T19:50:04.914Z","Ce que cette procédure fait...","Créer un nouveau compte","Ajouter ou modifier un utilisateur","Tester","Pour déboguer","Ressources","fail2ban","Remplacer","Redémarrer vsftpd\n","panel","border-width: 1px;","Source","http:\u002F\u002Fmy.afterdawn.com\u002Fketola\u002Fblog_entry.cfm\u002F1262\u002Fvsftpd_ssl_and_iptables","vsftpd SSL and iptables","\u002Fblog\u002F2010\u002F04","le ","2024-10-24T19:50:04.906Z","Installation du système de base","Références","deb ","Note:","http:\u002F\u002Flinuxhelp.blogspot.com\u002F2007\u002F05\u002Fusing-netselect-apt-tip-to-select.html","netselect-apt","2024-10-24T19:50:04.892Z","D'autres articles spécialisés Debian Linux","Installer et configurer","Autres ressources","\u002Fblog\u002F2009\u002F08","outils","http:\u002F\u002Fheffem.blogspot.com\u002F2008\u002F01\u002Fflix-vous-prsente-namminikcom.html","http:\u002F\u002Fwww2.infopresse.com\u002Fblogs\u002Factualites\u002Farchive\u002F2007\u002F09\u002F10\u002Farticle-23462.aspx","2024-10-24T19:50:04.883Z","Les ports TCP sous Linux","Directives en résumé","902","-\u003E","2024-10-24T19:50:04.876Z","logs")));