__NUXT_JSONP__("/blog/tag/logiciel-libre", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj){return {data:[{},{},{contents:[{locale:T,title:"Processus de création d'une VM faisant partie d'un parc géré par Salt Stack",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2014\u002F01\u002Fprocessus-de-creation-dune-vm-faisant-partie-dun-parc-gere-par-salt-stack\u002F",status:U,revising:s,caption:a$,gallery:a$,migrateCode:s,migrateImages:s,migrateLinks:s,created:"2014-01-22",updated:"2015-03-09",categories:[],tags:["cloud-computing","favourites","best-practices",O,"salt-stack"],description:"Processus de création d'une VM faisant partie d'un parc Salt stack",coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2014\u002F01\u002Fsalt-spill-300x280.jpg",srcset:["~\u002Fassets\u002Fcontent\u002Fblog\u002F2014\u002F01\u002Fsalt-spill-300x280.jpg 300w","~\u002Fassets\u002Fcontent\u002Fblog\u002F2014\u002F01\u002Fsalt-spill.jpg 310w"],sizes:"(max-width: 300px) 100vw, 300px",alt:"Une salière a coté d’un déversement de sel, avec le mot sel écrit en anglais."},excerpt:"Voici une courte procédure décrivant comment je crée une nouvelle machine virtuelle et y applique les configurations automatiquement.",toc:[{depth:E,text:am}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:"A mon "},{type:b,tag:F,props:{title:"I am joining the W3C to work on WebPlatform.org!",to:"\u002Fblog\u002F2013\u002F08\u002Fi-am-joining-w3c-to-work-on-the-webplatform-project\u002F"},children:[{type:a,value:"emploi "},{type:b,tag:o,props:{},children:[{type:a,value:"actuel"}]}]},{type:a,value:" je gère un parc de machines virtuelles (VMs) qui est automatisé par un système de gestion de configuration appelé "},{type:b,tag:i,props:{},children:[{type:b,tag:j,props:{href:ba,title:bb},children:[{type:a,value:aB}]}]},{type:a,value:an}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:a,value:bc},{type:b,tag:e,props:{},children:[{type:b,tag:j,props:{href:ba,title:bb},children:[{type:a,value:"Salt stack"}]},{type:a,value:" est un outil permettant de décrire quel est l’état désiré d’un serveur. Comme d’autres outils avec une utilité similaire, "},{type:b,tag:o,props:{},children:[{type:a,value:aB}]},{type:a,value:" peut être utilisé dans des "},{type:b,tag:o,props:{},children:[{type:a,value:"environnements hétérogènes"}]},{type:a,value:" sous "},{type:b,tag:i,props:{},children:[{type:a,value:"GNU\u002FLinux"}]},{type:a,value:X},{type:b,tag:i,props:{},children:[{type:a,value:"Mac OS"}]},{type:a,value:", et "},{type:b,tag:i,props:{},children:[{type:a,value:"Windows"}]},{type:a,value:X},{type:b,tag:i,props:{},children:[{type:a,value:"FreeBSD"}]},{type:a,value:", etc."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"L’environment que nous utilisons est un serveur avec des «blades». Chaque «blade» fournit les services créant un cluster OpenStack. Dans le futur, nous risquons d'avoir plus d'un fournisseur OpenStack. Pour automatiser comme nous l'aimons, nous utilisons grandement la ligne de commande avec le paquet "},{type:b,tag:k,props:{},children:[{type:a,value:"python-novaclient"}]},{type:a,value:an}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Chaque machine virtuelle roule une version "},{type:b,tag:o,props:{},children:[{type:a,value:"LTS"}]},{type:a,value:" («Long Term Support») de Ubuntu."}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:a,value:bc},{type:b,tag:e,props:{},children:[{type:a,value:"Absolument toutes les configurations sont appliqués via "},{type:b,tag:o,props:{},children:[{type:a,value:aB}]},{type:a,value:", la seule chose qui est fait manuellement en\n  ce moment est de créer la nouvelle instance, et de l'ajouter au «master» de Salt Stack."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Même là, ça risque de changer lorsque nous aurons déployé "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.saltstack.com\u002Fsalt-cloud\u002F",title:"Salt Cloud, a Salt Stack component specialized in helping automating cloud deployment"},children:[{type:a,value:"Salt Cloud"}]},{type:a,value:an}]},{type:a,value:c},{type:b,tag:G,props:{},children:[{type:a,value:am}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Mise à jour Mars 2015"}]},{type:a,value:bd},{type:b,tag:o,props:{},children:[{type:a,value:"Un nouvel article sur le même sujet"}]},{type:a,value:" a été écrit (en anglais) et illustre "},{type:b,tag:F,props:{title:"Creating a new Ubuntu salt-master from the terminal using Cloud-Init",to:"\u002Fblog\u002F2015\u002F03\u002Fcreating-new-ubuntu-salt-master-terminal-using-cloud-init\u002F"},children:[{type:a,value:"comment faire une nouvelle VM avec encore moins d’étapes"}]}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Boot une nouvelle node avec Nova"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"joe@master:~$ nova boot --image lucid-minion-template --flavor wpdn.large --key-name renoirb app6\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Donner un nom en fonction du type de serveur a déployer avec un numéro à la fin. Exemple: "},{type:b,tag:k,props:{},children:[{type:a,value:"app6"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"NOTE"}]},{type:a,value:" Dans mon cas, j'ai notamment: app, db, memcached, etc."}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Ajoute l'adresse floating dans "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fsrv\u002Fpillar\u002Fnodes\u002Finit.sls"}]},{type:a,value:" comme les autres"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"nodes:\n  master:\n    public:  ####IP PUBLIQUE CACHÉE####\n    private: 10.0.0.1\n\n  app1:\n    public:  ####IP PUBLIQUE CACHÉE####\n    private: 10.0.0.7\n\n  memcache2:\n    public:  ####IP PUBLIQUE CACHÉE####\n    private: 10.0.0.4\n\n  app5:\n    public:  ####IP PUBLIQUE CACHÉE####\n    private: 10.0.0.3\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Prend le fichier "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fhome\u002Fubuntu\u002Frunme"}]},{type:a,value:" de n'importe quel autre serveur et colle le dans la nouvelle machine. Puis execute ("},{type:b,tag:k,props:{},children:[{type:a,value:"sudo \u002Fbin\u002Fbash runme"}]},{type:a,value:$}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Ajouter une ligne dans le nouveau serveir dans "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fetc\u002Fsalt\u002Fminion.d\u002Fmaster.conf"}]}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"id: app6\n"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"... Voir les autres nodes"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Restart salt-minion"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"ubuntu@node6:~$ sudo service salt-minion restart\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Ajoute la clée au master"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"joe@master:~$ sudo salt-key -a app6\n"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"... Le '-a foo' est optionnel et tu peux lister Les nodes."}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Run state.highstate"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"joe@master:~$ sudo salt app6 state.highstate\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Uploader le code via rsync dans la nouvelle app node, puis re-rouler state.highstate (certains scripts prennent pour aquis que le code est déjà déployé)"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"joe@master:~$ sudo salt app6 state.sls code.node_app\njoe@master:~$ sudo salt app6 state.highstate\n"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Comme je disais, parfois, le premier "},{type:b,tag:k,props:{},children:[{type:a,value:"state.highstate"}]},{type:a,value:" ne marche pas a cause du code pas déployé."}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Rafraichir les autorisations pour storage"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"joe@master:~$ sudo salt 'storage*' state.highstate\njoe@master:~$ sudo salt 'monitor*' state.highstate\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:e,props:{},children:[{type:a,value:"Updater le hosts file de quelque nodes"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"joe@master:~$ sudo salt 'app*' state.sls hosts\njoe@master:~$ sudo salt 'db*' state.sls hosts\njoe@master:~$ sudo salt 'memcache*' state.sls hosts\n"}]}]}]},{type:a,value:c}]},{type:a,value:c}]},dir:"\u002Fblog\u002F2014\u002F01",path:"\u002Fblog\u002F2014\u002F01\u002Fprocessus-de-creation-dune-vm-faisant-partie-dun-parc-gere-par-salt-stack",extension:V,slug:"processus-de-creation-dune-vm-faisant-partie-dun-parc-gere-par-salt-stack",createdAt:be,updatedAt:be,category:I,prettyfiedTemporalDate:{prettified:"mercredi 22 janvier 2014",temporalDate:"2014-01-22"}},{locale:T,title:"Procedure to create a re-usable configuration export script to move a virtual machine configuration to a new one",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2013\u002F08\u002Fprocedure-to-create-a-re-usable-configuration-export-script-to-move-virtual-machine-configuration-to-a-new-one\u002F",status:U,revising:s,migrateCode:s,created:bf,updated:bf,tags:[ae,O],categories:[],excerpt:"This procedure guides you through some steps on a way to commission or decomission your web app. At least to move essential configuration files.",toc:[{depth:p,text:bg},{depth:p,text:"2. Clone the New VM that will replace the Old"},{depth:p,text:bh},{depth:p,text:"3. Prepare the New VM to use the Original VM"},{depth:p,text:bi}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:"The following procedure is about deprecating an old Linux server, and \nmove crucial configuration to a new fresh install that has the desired \nconfiguration by cloning it, then applying the "},{type:b,tag:o,props:{},children:[{type:a,value:bj}]},{type:a,value:"'s configuration."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The steps will go as follows:"}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Grab the original machine's configuration"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Clone the "},{type:b,tag:o,props:{},children:[{type:a,value:aC}]},{type:a,value:bk}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Disable the "},{type:b,tag:o,props:{},children:[{type:a,value:bj}]},{type:a,value:" web application"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bg}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"The steps will create a tar file with the configurations."}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Connect to the production vm (morpheus) through the cloud provider console (e.g. vSphere client, or VCloud director webapp or Open Stack console)\n"},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Connect through Putty, or your local development VM terminal the follwing lines (the console do not share the clipboard)"}]},{type:a,value:c}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"ssh username@morpheus.networkname.net\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Create this file"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"vi ~\u002Fmake-migrate.sh\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Enter in vim paste mode"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:":set paste\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Paste this content"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"#!\u002Fbin\u002Fbash \ncd ~ \nmkdir -p ~\u002Fmigrate\u002Fetc\u002Fnetwork \nsudo cp \u002Fetc\u002Fnetwork\u002Finterfaces ~\u002Fmigrate\u002Fetc\u002Fnetwork\u002F \nsudo cp \u002Fetc\u002Fhostname ~\u002Fmigrate\u002Fetc\u002F \nsudo cp \u002Fetc\u002Fresolv.conf ~\u002Fmigrate\u002Fetc\u002F \nmkdir -p ~\u002Fmigrate\u002Fetc\u002Fssh \nsudo cp \u002Fetc\u002Fssh\u002Fssh_host* ~\u002Fmigrate\u002Fetc\u002Fssh\u002F \nmkdir -p ~\u002Fmigrate\u002Fhome\u002Fusername\u002F.ssh \ncp ~\u002F.ssh\u002F* ~\u002Fmigrate\u002Fhome\u002Fusername\u002F.ssh\u002F \nmkdir -p ~\u002Fmigrate\u002Fhome\u002Fusername\u002F_prod\u002Fapp\u002Fconfig \ncp ~\u002F_prod\u002Fapp\u002Fconfig\u002Fparameters.ini ~\u002Fmigrate\u002Fhome\u002Fusername\u002F_prod\u002Fapp\u002Fconfig \nmkdir -p ~\u002Fmigrate\u002Fetc\u002Fapache2\u002Fsites-available \nsudo cp \u002Fetc\u002Fapache2\u002Fsites-available\u002F* ~\u002Fmigrate\u002Fetc\u002Fapache2\u002Fsites-available\u002F \nsudo cp \u002Fetc\u002Fresolv.conf ~\u002Fmigrate\u002Fetc\u002F \nsudo chown -R username:username ~\u002Fmigrate \ntar cfz ~\u002Fmigrate.tar.gz ~\u002Fmigrate \nmv migrate.tar.gz _prod\u002Fweb\u002F\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Execute it"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fbin\u002Fbash ~\u002Fmake-migrate.sh\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The latter moves into the "}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Download https:\u002F\u002Fmorpheus.networkname.net\u002Fmigrate.tar.gz"}]},{type:a,value:c}]},{type:a,value:c},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"2. Clone the "},{type:b,tag:o,props:{},children:[{type:a,value:aC}]},{type:a,value:bk}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"This step is about cloning the functionnal VM."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Since it is specific to your cloud management system, I will not describe any way to do so."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Important points to consider while doing so, ensure that you:"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"disable or isolate networking"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"have access to an alternate console"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Otherwise you might just create conflicts."}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bh}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You should have a copy of the original VM (e.g. morpheus-stg) with the config working the way you want."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"This step is specific to the way you might commission or decomission your web app."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"You may even not need to decomission it if you have multiple database servers not on the same host."}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:"3. Prepare the "},{type:b,tag:o,props:{},children:[{type:a,value:aC}]},{type:a,value:" to use the "},{type:b,tag:o,props:{},children:[{type:a,value:"Original VM"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Start the cloned VM"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Connect through the vCenter console"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Download the file, sorry, no cut in paste in the cloud provider console :("}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Assuming you are in "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fhome\u002Fusername"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"pwd\n\u002Fhome\u002Fusername\nwget --no-check-certificate https:\u002F\u002Fmorpheus.networkname.net\u002Fmigrate.tar.gz\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Get the migrate folder from the extracted archive (it will be in a 'home' folder after extracting)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"tar xfz migrate.tar.gz\nmv home\u002Fusername\u002Fmigrate .\nrm -rf home\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Disable the network configuration"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"  sudo \u002Fetc\u002Finit.d\u002Fnetworking stop\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Run the following commands:\n"},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Echo the content of the files inside the "},{type:b,tag:k,props:{},children:[{type:a,value:"migrate\u002F"}]},{type:a,value:" folder, into their original locations"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"See the file  listing:"}]},{type:a,value:c}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"find migrate\u002F -type f\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Create the migrate file original contents"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"cd migrate\nfind . -type f \u003E prepare.sh\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Warning, the following commands we will be using vim to prepare our import script, follow the keyboard types in that sequence:"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"vim prepare.sh\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"(in the top left corner, where it starts), do:"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"NOTE: "},{type:b,tag:o,props:{},children:[{type:b,tag:o,props:{},children:[{type:a,value:"FOLLOW BLINDLY THOSE VIM COMMANDS"}]}]},{type:a,value:" ... they written in the form of {modifier key}+{letter}, such as: CTRL+v, SHIFT+A, means the key combination like you would on a Graphical user interface, the + in this list is only to mean together."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"dd\nCTRL+v\n100j\n$\ny\nSHIFT+A\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Add a few spaces, to make the cursor go further than the longest line"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"ESC\np\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"The following commands, you have to be in ESC mode, and press ENTER when finished:"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:":%s\u002F  \\.\u002F \u002F\n:%s\u002F\\.\u002Fcp \\.\u002F\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"All is done, write and quit"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:":wq\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Check the file"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"cat prepare.sh\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"You will end up with a file similar to"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"cp .\u002Fhome\u002Fusername\u002F_prod\u002Fapp\u002Fconfig\u002Fparameters.ini    \u002Fhome\u002Fusername\u002F_prod\u002Fapp\u002Fconfig\u002Fparameters.ini  \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fid_rsa                        \u002Fhome\u002Fusername\u002F.ssh\u002Fid_rsa  \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fgeritt_dsa.pub                \u002Fhome\u002Fusername\u002F.ssh\u002Fgeritt_dsa.pub  \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fgeritt_dsa                    \u002Fhome\u002Fusername\u002F.ssh\u002Fgeritt_dsa  \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fauthorized_keys2              \u002Fhome\u002Fusername\u002F.ssh\u002Fauthorized_keys2  \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fconfig                        \u002Fhome\u002Fusername\u002F.ssh\u002Fconfig  \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fknown_hosts                   \u002Fhome\u002Fusername\u002F.ssh\u002Fknown_hosts \ncp .\u002Fhome\u002Fusername\u002F.ssh\u002Fid_rsa.pub                    \u002Fhome\u002Fusername\u002F.ssh\u002Fid_rsa.pub \ncp .\u002Fetc\u002Fssh\u002Fssh_host_rsa_key.pub                     \u002Fetc\u002Fssh\u002Fssh_host_rsa_key.pub  \ncp .\u002Fetc\u002Fssh\u002Fssh_host_dsa_key                         \u002Fetc\u002Fssh\u002Fssh_host_dsa_key \ncp .\u002Fetc\u002Fssh\u002Fssh_host_dsa_key.pub                     \u002Fetc\u002Fssh\u002Fssh_host_dsa_key.pub  \ncp .\u002Fetc\u002Fssh\u002Fssh_host_ecdsa_key.pub                   \u002Fetc\u002Fssh\u002Fssh_host_ecdsa_key.pub \ncp .\u002Fetc\u002Fssh\u002Fssh_host_rsa_key                         \u002Fetc\u002Fssh\u002Fssh_host_rsa_key  \ncp .\u002Fetc\u002Fssh\u002Fssh_host_ecdsa_key                       \u002Fetc\u002Fssh\u002Fssh_host_ecdsa_key \ncp .\u002Fetc\u002Fhostname                                     \u002Fetc\u002Fhostname  \ncp .\u002Fetc\u002Fresolv.conf                                  \u002Fetc\u002Fresolv.conf  \ncp .\u002Fetc\u002Fnetwork\u002Finterfaces                           \u002Fetc\u002Fnetwork\u002Finterfaces\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Execute that newly created script, first check you are in "},{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fhome\u002Fusername\u002Fmigrate"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"pwd\n\u002Fhome\u002Fusername\u002Fmigrate\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"We'll run as root"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"sudo -s\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Echo a file or two, to test BEFORE-\u003EAFTER"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"cat \u002Fetc\u002Fnetwork\u002Finterfaces\n...\ncat \u002Fetc\u002Fhostname\nmorpheus-stg\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Now, run the file"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fbin\u002Fbash .\u002Fprepare.sh\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"they should be different :)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"cat \u002Fetc\u002Fnetwork\u002Finterfaces\n...\ncat \u002Fetc\u002Fhostname\nmorpheus.networkname.net\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Make sure the "},{type:b,tag:k,props:{},children:[{type:a,value:bl}]},{type:a,value:" file reflects, and points at "},{type:b,tag:k,props:{},children:[{type:a,value:"127.0.0.1"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"127.0.0.1   localhost morpheus.networkname.net morpheus\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"You can use vim regex like so:"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"sudo vim \u002Fetc\u002Fhosts\n:%s\u002Fmorpheus-stg\u002Fmorpheus\u002F\n:wq\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Use apache command tools to disable the old site and enable the prod ones:"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"sudo ll \u002Fetc\u002Fapache\u002Fsites-available\n...\n-rw-r--r-- 1 root root 1052 Feb 20 19:19 \u002Fetc\u002Fapache2\u002Fsites-available\u002Fdefault\n-rw-r--r-- 1 root root 7469 Feb  6  2012 \u002Fetc\u002Fapache2\u002Fsites-available\u002Fdefault-ssl\n-rw-r--r-- 1 root root 1917 Feb 20 15:48 \u002Fetc\u002Fapache2\u002Fsites-available\u002Fssl\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Enable only "},{type:b,tag:k,props:{},children:[{type:a,value:"ssl"}]},{type:a,value:aD},{type:b,tag:k,props:{},children:[{type:a,value:"default"}]},{type:a,value:" (NOT '"},{type:b,tag:k,props:{},children:[{type:a,value:"default-ssl"}]},{type:a,value:"')"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"sudo a2dissite\n10-project.local.conf\nsudo a2ensite\ndefault ssl\n"}]}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Restart the server"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:b,tag:k,props:{},children:[{type:a,value:"sudo service apache2 restart\n"}]}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bi}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"This is, again, specific to the way you might commission or decomission your web app"}]}]},dir:"\u002Fblog\u002F2013\u002F08",path:"\u002Fblog\u002F2013\u002F08\u002Fprocedure-to-create-a-re-usable-configuration-export-script-to-move-virtual-machine-configuration-to-a-new-one",extension:V,slug:"procedure-to-create-a-re-usable-configuration-export-script-to-move-virtual-machine-configuration-to-a-new-one",createdAt:bm,updatedAt:bm,category:I,prettyfiedTemporalDate:{prettified:"mercredi 7 août 2013",temporalDate:bf}},{locale:T,title:"Créer un tunnel SSH inverse pour pouvoir supporter à distance un ami utilisant Linux",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2012\u002F02\u002Fcreer-un-tunnel-ssh-inverse-pour-pouvoir-supporter-a-distance-un-ami-utilisant-linux\u002F",status:U,revising:s,migrateCode:s,migrateLinks:s,created:"2012-02-29",updated:aE,tags:[ae,O,aF,aG],categories:[],excerpt:I,toc:[{depth:p,text:bn},{depth:p,text:bo},{depth:p,text:bp},{depth:p,text:bq},{depth:p,text:br},{depth:p,text:bs},{depth:p,text:bt},{depth:p,text:ao}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:"Avez-vous déjà voulu accéder a votre ordinateur Unix\u002FLinux\u002FMacOS d'un ami, chez ou ailleurs, et que vous avez besoin de l'aider a distance?   En tant qu'utilisateur de Linux, si vous aider quelqu'un d'autre qui n'Est pas habitué, il peut vouloir votre aide. Cette procédure peut vous aider a l'aider, a distance."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ça vient de m'arriver. Je vais vous montrer comment j'ai fait."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ce que j'ai utilisé:"}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Une machine avec OpenSSH que chaque personne à accès (une instance Amazon EC2?)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer un nouvel utilisateur temporaire pour la personne a aider"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ordinateur a réparer roulant Linux\u002FUnix\u002FMacOS\u002FCygwin (qui a OpenSSH serveur et client)"}]},{type:a,value:c}]},{type:a,value:"\nCe que j'avait fait avec, en plus de cette procédure, c'est "},{type:b,tag:j,props:{href:"https:\u002F\u002Fhelp.ubuntu.com\u002Fcommunity\u002FUbuntuBootupHowto"},children:[{type:a,value:"un script RC"}]},{type:a,value:" qui créait une connection permanente, avec "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.debian-administration.org\u002Farticles\u002F152"},children:[{type:a,value:"une connection SSH qui ne requiert pas de mot de passe"}]},{type:a,value:aH},{type:b,tag:e,props:{},children:[{type:a,value:"L'idée étaait que peu importe le lieu ou mon ami se trouve, dès qu'il\u002Felle a un lien à Internet, j'ai accès a son ordinateur portable."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ma procédure décrit comment créer un lien entre ces deux machines."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bn}]},{type:a,value:"\nIl y a quelques années j'ai fait le cadeau a ma mère d'un vieil ordinateur portable. Étant donné qu'il était vieux et qu'elle n'a jamais vraiment utilisé d'ordinateur dans sa vie, j'ai pensé lui configurer un Ubuntu qui avait tout ce qui est nécessaire.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Elle l'a utilisée pendant environ 3 ans. Je crois que ma maman sait maintenant qu'un navigateur web n'est pas nécessairement Internet Explorer. Qu'un document n'est pas obligatoirement un fichier \"Word\".  Aujourd'hui elle roule sous Windows. Parce que quelqu'un d'autre lui a fait le cadeau et qu'il n'est pas porté a utiliser Linux comme moi."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Toujours est-il que pour l'aider j'utilisait ce processus pour entretenir son ordinateur sans qu'elle ait rien a faire."}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bo}]},{type:a,value:"\nSurnommons cette machine \""},{type:b,tag:o,props:{},children:[{type:a,value:af}]},{type:a,value:"\".\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Il faut que vous et votre ami ayez accès a cette machine sur le port 22. Si c'est votre machine, vous pouvez forcément créer un nouveau compte pour votre ami qu'il utilisera pour initier le tunnel entre sa machine et cet machine."}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bp}]},{type:a,value:"\nDans mon exemple, son compte est \""},{type:b,tag:o,props:{},children:[{type:a,value:"user"}]},{type:a,value:"\", sa machine s'appelle \""},{type:b,tag:o,props:{},children:[{type:a,value:ap}]},{type:a,value:"\".﻿\n"},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Prérequis"}]}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"OpenSSH"}]},{type:a,value:" qui est installé et qui roule.\nEn Mac OS, c'est dans Préférences, Partage, il y a une option Accès a distance \u003Crant rel=\"windows\"\u003E... ah ces changements de noms pour la même chose\u003C\u002Frant\u003E."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Un compte utilisateur"}]},{type:a,value:" pour vos propres besoins\n... Ou le même que votre ami, s'il vous donne un mot de passe \u003Ctruc\u003EPssiiit. "},{type:b,tag:o,props:{},children:[{type:a,value:bu}]},{type:a,value:" sert a changer un mot de passe en terminal!\u003C\u002Ftruc\u003E"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Donc, assurez-vous que votre ami..."}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"vous fournit un compte pour vous connecter sur sa machine (\""},{type:b,tag:o,props:{},children:[{type:a,value:ap}]},{type:a,value:"\")"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Assurer que OpenSSH  roule"}]},{type:a,value:c}]},{type:a,value:"\nJe vous écrit tout ça de mémoire. Une recherche sur comment activer OpenSSH et créer un utilisateur qui y aura accès sur cette  machine MacOS\u002FLinux vous aidera plus que cet article.\n"},{type:b,tag:q,props:{},children:[{type:a,value:bq}]},{type:a,value:"\nSi tout est fonctionnel, vous avez déjà passé le pire, lui expliquer c'est quoi un utilisateur, si l'accès a distance ou SSH c'est quoi, et pourquoi vous lui demandez d'y accéder.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Expliquez-lui de ne pas utiliesr de mot de passe simple.  Qu'il ne vous donne pas non plus son mot de passe... s'il l'utilise ailleeurs (ou partout, c'est bien d'enseigner ça a ses amis)."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Donc... lui faire taper la commande dans un terminal:"}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Le BUT de cet article, LA commande, UNE LINGE!"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"user@friend-machine$ ssh -nNT -R 1103:localhost:22 friendusername@vm.somehost.com"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ce qui se passera c'est que l'ami (qui a une machine qui s'appelle \"friend-machine\" dans cet exemple) initie un tunnel SSH silencieux vers \"vm.somehost.com\" (le serveur accessible par vous et votre ami) qui s'y connecte avec l'usager temporaire (\"friendusername\")."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Les options utilisés:"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:bv}]},{type:a,value:" Sert pour éviter d'afficher des choses sur son terminal n'affiche rien (envoie vers \u002Fdev\u002Fnull)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"N"}]},{type:a,value:" Sert pour préciser de ne pas utiliser la ligne de commande,   une fois connecté, il ne dira rien."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"T"}]},{type:a,value:" Sert à ne pas allouer de pseudo terminal (pseudo-tty)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"R"}]},{type:a,value:" Sert a préciser un Tunnel inversé (Reverse) qui servira a exposer "},{type:b,tag:o,props:{},children:[{type:a,value:"dans"}]},{type:a,value:" (\""},{type:b,tag:o,props:{},children:[{type:a,value:af}]},{type:a,value:"\") au tunnel initié par (\""},{type:b,tag:o,props:{},children:[{type:a,value:ap}]},{type:a,value:"\") au port "},{type:b,tag:o,props:{},children:[{type:a,value:"22"}]},{type:a,value:" à partir du port "},{type:b,tag:o,props:{},children:[{type:a,value:"1103"}]},{type:a,value:" de (\""},{type:b,tag:o,props:{},children:[{type:a,value:af}]},{type:a,value:"\")."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:br}]},{type:a,value:"\nEnfin. Il ne reste qu'a vous, vous connecter a cette machine commune, pour accéder au tunnel que vous lui avez fait créer, et utiliser SA machine.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Il ne suffit que de se  connecter  sur "},{type:b,tag:o,props:{},children:[{type:a,value:af}]},{type:a,value:" sous votre compte habituel, initialiser un "},{type:b,tag:o,props:{},children:[{type:a,value:bw}]},{type:a,value:" puis vous re-connecter sur le port spécial qui vous donnera accès au poste \""},{type:b,tag:o,props:{},children:[{type:a,value:ap}]},{type:a,value:aI}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Facile!!"}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"En ordre:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"renoirb@mon-laptop:~$  ssh vm.somehost.com\nrenoirb@vm:~$ screen\nrenoirb@vm: ~$ ssh user@localhost -p 1103\nuser@friend-machine:~$ uname -a\nDarwin friend-machine 10.8.0 Darwin Kernel Version 10.8.0: Tue Jun  7 16:33:36 PDT 2011; root:xnu-1504.15.3~1\u002FRELEASE_I386 i386"}]},{type:a,value:"\nEn gros, je me connecte a "},{type:b,tag:o,props:{},children:[{type:a,value:af}]},{type:a,value:", j'y initie une session "},{type:b,tag:o,props:{},children:[{type:a,value:bw}]},{type:a,value:", puis je me re-connecte en SSH sur le port local 1103 ouvert par mon ami "},{type:b,tag:o,props:{},children:[{type:a,value:"user@friend-machine"}]},{type:a,value:" (vous suivez toujours?) et hop! Je suis sur la machine distante.\n"},{type:b,tag:q,props:{},children:[{type:a,value:bs}]},{type:a,value:"\nAvec Screen, je peut ainsi me détacher du terminal et m'y reconnecter plus tard sans arrêter les choses en cours.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Pour se déconnecter et se reconnecter je fais ainsi"}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Connecter\u002Freconnecter:   screen -dd -R"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Détacher (combinaison de touches):  ctrl+a d"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bt}]},{type:a,value:"\nNous aurons entré quelques lignes de terminal et hop, nous avons accès a la machine de notre ami.  C'est sûr que vous pouvez jouer avec les tunnels et accéder aux autres services, mais je ne vous expliquerai pas comment spécifiquement utiliser chaque cas.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Je vous laisse imaginer les cas de figure possible:"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Faire une mise a jour de paquets"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Réinstaller des programmes"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Accéder a un service qu'il a localement, comme un serveur web, etc."}]},{type:a,value:c}]},{type:a,value:"\n... J'aime linux!\n"},{type:b,tag:q,props:{},children:[{type:a,value:ao}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.techrepublic.com\u002Farticle\u002Fsetting-up-a-reverse-ssh-tunnel\u002F5779944"},children:[{type:a,value:"TechRepublic article Setting up a reverse SSH tunnel"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.howtoforge.com\u002Freverse-ssh-tunneling"},children:[{type:a,value:"HowTo Forge: Reverse SSH Tunneling"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.linuxjournal.com\u002Farticle\u002F6340"},children:[{type:a,value:"LinuxJournal: Power sessions with Screen"}]}]},{type:a,value:c}]}]},dir:"\u002Fblog\u002F2012\u002F02",path:"\u002Fblog\u002F2012\u002F02\u002Fcreer-un-tunnel-ssh-inverse-pour-pouvoir-supporter-a-distance-un-ami-utilisant-linux",extension:V,slug:"creer-un-tunnel-ssh-inverse-pour-pouvoir-supporter-a-distance-un-ami-utilisant-linux",createdAt:bx,updatedAt:bx,category:I,prettyfiedTemporalDate:{prettified:"mercredi 29 février 2012",temporalDate:"2012-02-29"}},{locale:T,title:"Procédure pour créer un serveur FTP sécurisé SSL forcé avec usager virtuels sous Ubuntu Linux avec vsFTPd",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd\u002F",status:U,revising:s,created:"2010-04-30",updated:aE,tags:[ae,O,aF,aq,aG],categories:[],excerpt:I,toc:[{depth:p,text:by},{depth:p,text:am},{depth:p,text:aJ},{depth:p,text:bz},{depth:p,text:bA},{depth:p,text:ag},{depth:p,text:bB},{depth:p,text:bC},{depth:p,text:ar}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:"Je ne sais pas si vous êtes comme moi mais je n'aime pas laisser non crypté l'accès a un service qui me demande un mot de passe. Je devait monter un serveur cette semaine qui doit avoir les accès FTP."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"J'ai pris l'initiative de sécuriser la machine avec du SSL car je crois qu'aujourd'hui c'est notre devoir de faire ce genre de chose. Ce n'est pas la première fois que je configure un serveur FTP over SSL mais je n'avait jamais pris de notes vraiment à ce jour. Je l'ai fait cette fois-ci!"}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Cequecetteproc%C3%A9durefait..."},children:[]},{type:a,value:by}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Pouvoir créer des comptes FTP sans avoir a créer un utilisateur local (donc pas accès shell (SSH))."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Permet les connections FTP over SSL de façon EXPLICITE sur un port non standard  (cet exemple utilisera le port "},{type:b,tag:t,props:{},children:[{type:a,value:"6123"}]},{type:a,value:$}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ne permet pas d'utilisateur ni de connexions anonymes"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Bannit les hôtes qui tentent de se connecter (LOGIN FAILED)\tvia "},{type:b,tag:i,props:{},children:[{type:a,value:bD}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Utilise le system PAM interne pour l'authentification"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ne requiert pas d'usager local (pas de risque de tentative de connection SSH, usager séparés)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Le serveur FTP roule sur son propre usager"}]},{type:a,value:c}]},{type:a,value:c},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Proc%C3%A9dure"},children:[]},{type:a,value:am}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Vérifier quelle version de serveur FTP est installé\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# dpkg --list | grep ftp\n~\nii  ftp                               0.17-19                      The FTP client\nii  lftp                              3.7.15-1ubuntu2              Sophisticated command-line FTP\u002FHTTP client p\nii  vsftpd                            2.2.0-1ubuntu1               lightweight, efficient FTP server written fo"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" vsftpd est ce qu'on veut. Dans ce cas-ci il est déjà installé (ii)."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Assurer que les prérequis sont installés\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# aptitude install vsftpd libpam-pwdfile openssl"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier le fichier de config "},{type:b,tag:i,props:{},children:[{type:a,value:"vsftpd.conf"}]},{type:a,value:aH},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" Modifiez pour ces valeurs (ci-bas) et conservez les autres valeurs par défaut.\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi \u002Fetc\u002Fvsftpd.conf\n~\nanonymous_enable=NO\nlocal_enable=YES\nwrite_enable=YES\nlocal_umask=022\nchroot_local_user=YES\nftpd_banner=Un nom Quelconque FTP\nnopriv_user=vsftpd\n"},{type:b,tag:ah,props:{id:"renoirboulangercom-2010-04-29-we-will-force-usage-on-an-other-port"},children:[{type:b,tag:j,props:{ariaHidden:y,href:"#renoirboulangercom-2010-04-29-we-will-force-usage-on-an-other-port",tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:"renoirboulanger.com 2010-04-29 we will force usage on an other port"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"#connect_from_port_20=YES"}]}]},{type:b,tag:e,props:{},children:[]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter ou corriger (étaient pas présents lorsque j'ai crée la procédure)\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# 2010-04-28 accès usager\nvirtual_use_local_privs=YES\nguest_enable=YES\nuser_sub_token=$USER\nlocal_root=\u002Fhome\u002Fibottin\u002FFTP\u002F$USER\nhide_ids=YES"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" Ajuster le "},{type:b,tag:t,props:{},children:[{type:a,value:"local_root"}]},{type:a,value:" a l'endroit\tou envoyer les fichiers."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Activer le SSL\n"},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le certificat\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# cd \u002Fetc\u002Fssl\n# \u002Fusr\u002Fbin\u002Fopenssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout vsftpd.pem -out vsftpd.pem"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter au "},{type:b,tag:t,props:{},children:[{type:a,value:"\u002Fetc\u002Fvsftpd.conf"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi \u002Fetc\u002Fvsftpd.conf\n~\n# renoirboulanger.com 2010-04-30 SSL configuration\nlisten_port=6123\nftp_data_port=6122\npasv_min_port=6000\npasv_max_port=6100\n"},{type:b,tag:e,props:{},children:[{type:a,value:"ssl_enable=YES"}]},{type:a,value:c},{type:b,tag:ah,props:{id:"allow-anonymous-users-to-use-secured-ssl-connections"},children:[{type:b,tag:j,props:{ariaHidden:y,href:"#allow-anonymous-users-to-use-secured-ssl-connections",tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:"Allow anonymous users to use secured SSL connections"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"allow_anon_ssl=YES"}]},{type:a,value:c},{type:b,tag:ah,props:{id:"all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to"},children:[{type:b,tag:j,props:{ariaHidden:y,href:"#all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to",tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:"All non-anonymous logins are forced to use a secure SSL connection in order to"}]},{type:a,value:c},{type:b,tag:ah,props:{id:"send-and-receive-data-on-data-connections"},children:[{type:b,tag:j,props:{ariaHidden:y,href:"#send-and-receive-data-on-data-connections",tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:"send and receive data on data connections."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"force_local_data_ssl=NO"}]},{type:a,value:c},{type:b,tag:ah,props:{id:"all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to-send-the-password"},children:[{type:b,tag:j,props:{ariaHidden:y,href:"#all-non-anonymous-logins-are-forced-to-use-a-secure-ssl-connection-in-order-to-send-the-password",tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:"All non-anonymous logins are forced to use a secure SSL connection in order to send the password."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"force_local_logins_ssl=YES\nssl_tlsv1=YES\nssl_sslv2=YES\nssl_sslv3=YES\nrsa_cert_file=\u002Fetc\u002Fssl\u002Fvsftpd.pem"}]}]},{type:b,tag:e,props:{},children:[]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:bE}]},{type:a,value:" le contenu du fichier "},{type:b,tag:t,props:{},children:[{type:a,value:"pam.d\u002Fvsftpd"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi \u002Fetc\u002Fpam.d\u002Fvsftpd\n~\nauth required pam_pwdfile.so pwdfile \u002Fetc\u002Fvsftpd.passwd\naccount required pam_permit.so"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" Il est important de remplacer le reste du fichier par ce contenu ci-haut."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier permissions sur le fichier .pem\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# chown vsftpd \u002Fetc\u002Fssl\u002Fvsftpd.pem"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:bF},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# \u002Fetc\u002Finit.d\u002Fvsftpd restart"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le unix user qui va rouler le démon\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# adduser --system --no-create-home --disabled-login -s \u002Fusr\u002Fsbin\u002Fnologin --home \u002Fvar\u002Fftp vsftpd"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier les permissions pour l'utilisateur qui roule vsftpd (ajuster)\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# chown -R ftp:ftp \u002Fvar\u002Fftp\u002F\n# chmod -R 740 \u002Fvar\u002Fftp"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd#ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-AjouterunutilisateurFTP"},children:[{type:a,value:aJ}]}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajuster "},{type:b,tag:t,props:{},children:[{type:a,value:bD}]},{type:a,value:c},{type:b,tag:r,props:{className:[k,bG],style:bH},children:[{type:a,value:c},{type:b,tag:r,props:{className:["codeHeader","panelHeader"],style:"border-bottom-width: 1px;"},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Ajuster le bloc [vsftpd]"}]}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi \u002Fetc\u002Ffail2ban\u002Fjail.conf\n~\n[vsftpd]\n"},{type:b,tag:e,props:{},children:[{type:a,value:"enabled  = true"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" par defaut "},{type:b,tag:t,props:{},children:[{type:a,value:"enabled"}]},{type:a,value:" est a false...\til faut l'activer."},{type:b,tag:e,props:{},children:[]},{type:a,value:c}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:bF},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# \u002Fetc\u002Finit.d\u002Fvsftpd restart\n * Stopping FTP server: vsftpd\n   ...done.\n * Starting FTP server: vsftpd\n   ...done.\n# ps aux|grep vsftpd\nvsftpd   18771  0.0  0.0  28904  1300 ?        Ss   17:09   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\nvsftpd   18772  0.0  0.0  29100  1608 ?        S    17:09   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\nftp      18773  0.0  0.0  28928   924 ?        S    17:09   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\nroot     18795  0.0  0.0  22628  1712 ?        S    17:14   0:00 \u002Fusr\u002Fsbin\u002Fvsftpd\n..."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" les deux premiers "},{type:b,tag:t,props:{},children:[{type:a,value:"vsftpd"}]},{type:a,value:" est le résultat attendu"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Nous allons forcer le FTP over SSL sur le port "},{type:b,tag:i,props:{},children:[{type:a,value:"6122"}]},{type:a,value:", pour ça il faut autoriser le Firewall\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# iptables -A INPUT -m state --state ESTABLISHED,RELATED\n# iptables -A INPUT -m tcp -p tcp --dport 6122 -j ACCEPT\n# iptables -A INPUT -m state --state NEW,ESTABLISHED\n# iptables -A INPUT -m tcp -p tcp --dport 6123 -j ACCEPT\n# iptables -A INPUT -p tcp --dport 6000:6100 -j ACCEPT"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Source"}]},{type:a,value:bd},{type:b,tag:j,props:{href:bI},children:[{type:a,value:bJ}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Sauvegarder le Firewall\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# iptables-save \u003E \u002Fetc\u002Fiptables.rules"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Tester de l'extérieur avec un client FTP (Filezilla, etc)\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Voir les options suivantes a la connection"}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"port: 6123"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Forcer le SSL"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-AjouterunutilisateurFTP"},children:[]},{type:a,value:aJ}]},{type:a,value:"\nOn utilise le truc simple de htpasswd pour l'authentification. Pas de gossage :-)\n"},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Cr%C3%A9erunnouveaucompte"},children:[]},{type:a,value:bz}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le "},{type:b,tag:o,props:{},children:[{type:a,value:"premier compte"}]},{type:a,value:", sinon, "},{type:b,tag:i,props:{},children:[{type:a,value:"passer\ta la directive suivante"}]},{type:a,value:"! ou Utiliser mon script "},{type:b,tag:F,props:{to:aK},children:[{type:a,value:ag}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# htpasswd -c \u002Fetc\u002Fvsftpd.passwd ftpuser\nNew password:\nRe-type new password:\nAdding password for user ftpuser"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" l'option "},{type:b,tag:i,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"-c"}]}]},{type:a,value:" est\tpour créer le fichier la première fois."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Voir les directives de *"},{type:b,tag:F,props:{to:aK},children:[{type:a,value:ag}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Ajouteroumodifierunutilisateur"},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:bA}]}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Utiliser le script "},{type:b,tag:i,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"evo-vsftpd-user"}]}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"$ sudo evo-vsftpd-user foo\nCréation d'un nouvel usager dans \u002Fetc\u002Fvsftpd.passwd ...\nNew password:\nRe-type new password:\nAdding password for user foo\n ... OK\n * Création du dossier \u002Fhome\u002Fibottin\u002FFTP\u002Ffoo ...  OK\n * Changement des permissions du dossier ...  OK\nTerminé!"}]},{type:a,value:"\nVoir les directives de "},{type:b,tag:i,props:{},children:[{type:b,tag:F,props:{to:aK},children:[{type:a,value:ag}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Scriptpourcr%C3%A9eruncompteutilisateur"},children:[]},{type:a,value:ag}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer le fichier\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi \u002Fusr\u002Fsbin\u002Fevo-vsftpd-user"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Coller le contenu\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"#!\u002Fbin\u002Fbash\nif [ -z $1 ]; then\n  echo \"Aucun argument usager fourni\"\n  echo \"usage: sudo evo-vsftpd-user foo\"\n  exit 1;\nfi\n"},{type:b,tag:e,props:{},children:[{type:a,value:"if [ \"$(whoami)\" != 'root' ]; then\necho \"Vous n'avez pas les permisions utilisateur requises.\"\nexit 1;\nfi"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"echo \"Création d'un nouvel usager dans \u002Fetc\u002Fvsftpd.passwd ... \"\nhtpasswd \u002Fetc\u002Fvsftpd.passwd $1\necho \" ... OK \"\necho -n \" "},{type:b,tag:o,props:{},children:[{type:a,value:" Création du dossier \u002Fhome\u002Fibottin\u002FFTP\u002F$1 ... \"\nmkdir \u002Fhome\u002Fibottin\u002FFTP\u002F$1\necho \" OK\"\necho -n \" "}]},{type:a,value:" Changement des permissions du dossier ... \"\nchown -R ftp:ftp \u002Fhome\u002Fibottin\u002FFTP\u002F$1\nchmod -R 740 \u002Fhome\u002Fibottin\u002FFTP\u002F$1\necho \" OK\"\necho \"Terminé!\""}]}]},{type:b,tag:e,props:{},children:[]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Rendre exécutable\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# chmod +x \u002Fusr\u002Fsbin\u002Fevo-vsftpd-user"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Tester"},children:[]},{type:a,value:bB}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Installer le paquet pour tester\n"},{type:b,tag:r,props:{className:[k,bG],style:bH},children:[{type:a,value:c},{type:b,tag:r,props:{className:["codeContent","panelContent"]},children:[{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# aptitude install ftp-ssl"}]},{type:a,value:c}]},{type:a,value:c}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Tester\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# ftp-ssl someserver.net 6123\nConnected to someserver.net.\n220 Un nom Quelconque FTP\nName (someserver.net:renoirboulanger): ftpuser\n234 Proceed with negotiation.\n[SSL Cipher DES-XXXX-SHA]\n331 Please specify the password.\nPassword:\n230 Login successful.\nRemote system type is UNIX.\nUsing binary mode to transfer files.\nftp\u003E"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" [SSL Cipher DES-XXXX-SHA] est ce qu'on attend :-)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Pourd%C3%A9boguer"},children:[]},{type:a,value:bC}]},{type:a,value:"\nLe feedback est assez difficile a avoir de la part de vsftpd, mais pour en voir plus:\n"},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Pour le debug\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi \u002Fetc\u002Fvsftpd.conf\n~\n# for debuging\nlog_ftp_protocol=YES"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Ressources"},children:[]},{type:a,value:ar}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwjholden.com\u002Fvsftpd-help.html"},children:[{type:a,value:"vsftpd help"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fvsftpd.beasts.org\u002Fvsftpd_conf.html"},children:[{type:a,value:"vsftpd.conf manpages"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:bI},children:[{type:a,value:bJ}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.ubuntututorials.net\u002Finstalling-vsftpd-using-text-file-for-virtual-users\u002F"},children:[{type:a,value:"Installing vsftpd using text file for virtual users"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.cyberciti.biz\u002Ftips\u002Fconfigure-vsfptd-secure-connections-via-ssl-tls.html"},children:[{type:a,value:"Vsftpd SSL \u002F TLS FTP Server Configuration"}]}]},{type:a,value:c}]}]},dir:aL,path:"\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd",extension:V,slug:"procedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd",createdAt:aM,updatedAt:"2024-10-24T19:50:04.908Z",category:I,prettyfiedTemporalDate:{prettified:"vendredi 30 avril 2010",temporalDate:"2010-04-30"}},{locale:T,title:"La semaine Des logiciels libres à Montréal «MonDev»",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2010\u002F04\u002Fla-semaine-des-logiciels-libres-a-montreal-mondev\u002F",status:U,revising:s,caption:s,migrateLinks:s,migrateImages:s,created:"2010-04-15",updated:aN,tags:["events",O,"web"],categories:[bK],excerpt:I,toc:[{depth:p,text:bL},{depth:p,text:bM}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:"[caption id=\"attachment_2094\" align=\"alignright\" width=\"270\" caption=\"Montreal Open Source Week - La semaine des Logiciels Libres de Montréal MonDev\"]"},{type:b,tag:aO,props:{className:[aP,"wp-image-2094"],title:aQ,src:"https:\u002F\u002Frenoirb.github.io\u002Fsite-assets\u002Fassets\u002Fcontent\u002Fblog\u002F2010\u002F03\u002Fmondev_logo.png",alt:aQ,width:aR,height:159},children:[]},{type:a,value:bN}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Durant la semaine du 24 au 28 Mai 2010 aura lieu la semaine des logiciels libres "},{type:b,tag:o,props:{},children:[{type:a,value:aQ}]},{type:a,value:". Pour cette semaine particulière nous allons vous guider sur les activités "},{type:b,tag:o,props:{},children:[{type:a,value:"geek"}]},{type:a,value:" de la semaine."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Au menu: Rencontrer les membres de la communauté des logiciels libres à Montréal, notamment: les gens de PHPQuébec, et de TikiWiki."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Le but principal de levenement est de créer un podium pour les logiciels libres durant. Nous avons décide de faire l'événement durant la semaine du Webcom Montréal 2010 parceque beaucoup de gens viendront de loin pour voir le Webcom et le Make Web Not War et on sent qu'on pourrait faire d'autres événements qui pourraient nous intéresser autant que nos visiteurs."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bL}]},{type:a,value:"\nJ'ai traduit l'annonce officielle et je voulait la partager ici:\n"},{type:b,tag:_,props:{},children:[{type:a,value:"La semaine consacrée aux Logiciels «Open Source» (Libres) MonDev, se  veut être une célébration de la technologie des Logiciels Libres et communautaires de toute la région de Montréal.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Joignez-vous à la fête en participant à nos événements, pour ne citer que ceux ci :"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Le "},{type:b,tag:j,props:{href:"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20100204035915\u002Fhttps:\u002F\u002Fwww.webcom-montreal.com\u002F"},children:[{type:a,value:"Webcom 2010 de Montréal"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"L'événement «"},{type:b,tag:j,props:{href:"http:\u002F\u002Fwebnotwar.ca\u002F"},children:[{type:a,value:"Make Web Not War"}]},{type:a,value:"» de Microsoft"}]},{type:a,value:c}]},{type:a,value:"\nL'idéologie des Logiciels Libres est une philosophie et une pratique qui est en train de révolutionner le développement logiciel dans le monde.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"En encourageant les partenariats locaux et internationaux, les développeurs de Logiciels Libres sont à la fondation des logiciels libres de qualité qui peuvent être constamment mis à jour et partagées par et pour la communauté. Pour les innovateurs de nombreux logiciels,\nles Logiciels Libres représentent le futur du développement de logiciels."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Grâce aux Logiciels Libres les communautés, villes et pays du monde ont la chance d'évoluer, d'apprendre, de collaborer et d'innover sans les restrictions des environnements fermés."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Montréal est un centre important de l'activité mondiale du Logiciel Libre et abrite de nombreux développeurs, et entreprises qui partagent cette idéologie. La semaine réunira des leaders de l'industrie, des enseignants et des étudiants de partout dans le monde pour une semaine complète. Plusieurs ateliers et séminaires seront prévus."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:bO}]},{type:a,value:": Texte descriptif fait par "},{type:b,tag:o,props:{},children:[{type:a,value:"DigiBomb"}]},{type:a,value:" ("},{type:b,tag:h,props:{lang:J},children:[{type:a,value:"Brendan Sera-Shriar"}]},{type:a,value:"), traduit par "},{type:b,tag:j,props:{href:"https:\u002F\u002Frenoirboulanger.com\u002F"},children:[{type:a,value:"Renoir Boulanger"}]},{type:a,value:bP},{type:b,tag:o,props:{},children:[{type:a,value:"MonDev.org"}]}]}]},{type:b,tag:e,props:{},children:[]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bM}]},{type:a,value:"\nAu MonDev, nous sommes actuellement à la recherche de volontaires pour faire une présentation dans un format similaire au Ignite.\n"},{type:b,tag:_,props:{},children:[{type:a,value:"Chaque participant a 5 minutes pour présenter son sujet avec 20 écrans a 20 secondes par écrans."}]},{type:a,value:"\nAvec comme thématique les logiciels libres."}]},dir:aL,path:"\u002Fblog\u002F2010\u002F04\u002Fla-semaine-des-logiciels-libres-a-montreal-mondev",extension:V,slug:"la-semaine-des-logiciels-libres-a-montreal-mondev",createdAt:aM,updatedAt:aM,category:bK,prettyfiedTemporalDate:{prettified:"jeudi 15 avril 2010",temporalDate:"2010-04-15"}},{locale:T,title:"Comment automatiser une tâche avec CRON en utilisant Vim",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2010\u002F04\u002Fcomment-automatiser-une-tache-avec-cron-en-utilisant-vim\u002F",status:U,revising:s,caption:s,migrateLinks:s,migrateImages:s,migrateCode:s,created:"2010-04-14",updated:aN,tags:[O,aq,aG,"vocabulaire","vulgarisation"],categories:[],excerpt:x,toc:[{depth:p,text:bQ},{depth:p,text:bR},{depth:p,text:ao}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:"[caption id=\"attachment_2079\" align=\"alignright\" width=\"270\" caption=\"Logo Vim, qui signifie vi-improved (amélioré)\"]"},{type:b,tag:aO,props:{className:[aP,"wp-image-2079"],title:"Logo Vim",src:"https:\u002F\u002Frenoirb.github.io\u002Fsite-assets\u002Fassets\u002Fcontent\u002Fblog\u002F2010\u002F04\u002FVim_logo.png",alt:"Vi - Vi.... Improved (amélioré)",width:aR,height:aR},children:[]},{type:a,value:bN}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Deux tâches vraiment essentielles qu'on fait en administrant une machine sous Linux sont très souvent de modifier\u002Fcréer un fichier et de planifier des tâches de maintenance."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Pour utiliser «"},{type:b,tag:o,props:{},children:[{type:a,value:"cron»"}]},{type:a,value:" il faut savoir utiliser «"},{type:b,tag:o,props:{},children:[{type:a,value:"vi»"}]},{type:a,value:", les commandes sont très souvent les mêmes. Je dois spécifier que j'ai basé mon tutoriel sur CRON fourni par Ubuntu Linux qui est (de mémoire) le même paquet que celui fourni dans "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.redhat.com\u002F"},children:[{type:a,value:"Red Hat Linux"}]},{type:a,value:", "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.debian.org\u002F"},children:[{type:a,value:"Debian Linux"}]},{type:a,value:" ou "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.ubuntu.com\u002F"},children:[{type:a,value:"Ubuntu Linux"}]},{type:a,value:an}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Le but de ce billet est en fait de vous montrer sommairement comment automatiser une tâche (une commande) avec cron."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Je publierai plus tard un billet sur les différences entre les distributions de cron."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bQ}]},{type:a,value:"\nVi est un éditeur de texte en ligne de commande qui permet de faire bien des macros, il peut sembler compliquer mais l'essentiel se résume ainsi.\n"},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"ESCAPE"}]},{type:a,value:" permet d'entrer une commande"}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:bS}]},{type:a,value:" mode Insertion"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"r"}]},{type:a,value:" mode remplacer le caractère courrant"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"SHIFT+a"}]},{type:a,value:" insérer a partir de la fin de la ligne courrante"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:bT}]},{type:a,value:" entrer une commande spéciale"}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:aS}]},{type:a,value:" sauvegarder le fichier et quitter l'éditeur"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:":w"}]},{type:a,value:" sauvegarder le fichier courrant"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:":10"}]},{type:a,value:" sauter a la 10e ligne du document"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Ftext"}]},{type:a,value:" Chercher 'text' dans le document courrant"}]},{type:a,value:c},{type:b,tag:_,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:bv}]},{type:a,value:" Chercher le prochain mon cherché (par rapport a ce qui a été dit ci-haut)"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"dd"}]},{type:a,value:" supprimer la ligne courrante"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"5dd"}]},{type:a,value:" supprimer les 5 prochaines lignes"}]},{type:a,value:c}]},{type:a,value:bU},{type:b,tag:j,props:{href:bV},children:[{type:a,value:bW}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:bR}]},{type:a,value:"\nPour créer une tâche sur un système Linux il y a plusieurs méthodes possibles.\n"},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2010\u002F04\u002Fcomment-automatiser-une-tache-avec-cron-en-utilisant-vim#crontab"},children:[{type:a,value:"Ajouter une ligne dans le «crontab», la table d'actions CRON"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2010\u002F04\u002Fcomment-automatiser-une-tache-avec-cron-en-utilisant-vim#crond"},children:[{type:a,value:"Ajouter fichier avec directives dans \u002Fetc\u002Fcron.d\u002F"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2010\u002F04\u002Fcomment-automatiser-une-tache-avec-cron-en-utilisant-vim#etccron"},children:[{type:a,value:"Ajouter une ligne dans un des dossiers \u002Fetc\u002Fcron.daily\u002F, \u002Fetc\u002Fcron.hourly\u002F, \u002Fetc\u002Fcron.monthly"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:b,tag:j,props:{name:"crontab"},children:[]},{type:a,value:"1. Ajouter une ligne dans le «crontab», la table d'actions CRON"}]},{type:a,value:"\nC'est fait soit en utilisant la commande crontab, ou en éditant le fichier \u002Fetc\u002Fcrontab\n"},{type:b,tag:e,props:{},children:[{type:a,value:"crontab roule tout le temps en tant que root, et l'idéal serait d'utiliser un fichier dans \u002Fetc\u002Fcron.d\u002F\nSavoir sur quel usager doit rouler la tâche (un user local qui peut rouler la commande, idéalement pas root!)"}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{lang:l},children:[{type:a,value:"someuser@ubuntu:~$ crontab -e"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"l'éditeur vi va s'ouvrir"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"aller a l'endroit ou vous voulez éditer"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"créez une nouvelle ligne en Insert mode, en utilisant le i, ou a la fin de la ligne courrante en faisant CTRL+a"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Entrer une ligne dans le format"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"* * * * * commande a être exécutée\n- - - - -\n| | | | |\n| | | | +----- jour de la semaine (0 - 6) (Dimanche=0)\n| | | +------- mois (1 - 12)\n| | +--------- jour dans le mois (1 - 31)\n| +----------- heure (0 - 23)\n+------------- min (0 - 59)"}]},{type:a,value:"\nexemple:\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"30 18 * * * rm \u002Fhome\u002Fsomeuser\u002Ftmp\u002F*  \u003E \u002Fhome\u002Fsomeuser\u002Fcronlogs\u002Fclean_tmp_dir.log"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"... qui effacera le contenu de "},{type:b,tag:t,props:{},children:[{type:a,value:"\u002Fhome\u002Fsomeuser\u002Ftmp\u002F"}]},{type:a,value:" a tout les 18h30 de tout les jours et qui log dans "},{type:b,tag:t,props:{},children:[{type:a,value:"\u002Fhome\u002Fsomeuser\u002Fcronlogs\u002Fclean_tmp_dir.log"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Pour quitter faites ESCAPE  :wq     pour write quit."}]},{type:a,value:c}]},{type:a,value:bU},{type:b,tag:j,props:{href:bX},children:[{type:a,value:bY}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:b,tag:j,props:{name:"crond"},children:[]},{type:a,value:"2. Ajouter fichier avec directives dans \u002Fetc\u002Fcron.d\u002F"}]},{type:a,value:"\nC'est le même principe sauf qu'il s'agit d'un fichier nommé, généralement sous le même nom que le package Linux qu'il dessert. Exemple php5 aurait son package.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Sauf qu'on peut spécifier qui lancera la commande."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Comment faire..."}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer un fichier, ex:\n# vi \u002Fetc\u002Fcron.d\u002Fphp5"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Coller la commande qui a été testée au par avant\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"someuser@ubuntu:~$ rm \u002Fhome\u002Fsomeuser\u002Ftmp\u002F* \u003E \u002Fhome\u002Fsomeuser\u002Fcronlogs\u002Fclean_tmp_dir.log"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter une ligne, ESCAPE+i"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Commencer par le moment de l'exécution comme avec «Ajouter une ligne dans le crontab»"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{lang:l},children:[{type:a,value:"30 19  *  *  *"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter le nom du username qui va rouler la commande"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"ex: someuser"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter la commande testée tout a l'heure\nex: rm \u002Fhome\u002Fsomeuser\u002Ftmp\u002F* \u003E \u002Fhome\u002Fsomeuser\u002Fcronlogs\u002Fclean_tmp_dir.log"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ce qui donnera:"},{type:b,tag:bZ,props:{},children:[]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"30 19 * * * someuser rm \u002Fhome\u002Fsomeuser\u002Ftmp\u002F* \u003E \u002Fhome\u002Fsomeuser\u002Fcronlogs\u002Fclean_tmp_dir.log"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Voilà!"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:b,tag:j,props:{name:"etccron"},children:[]},{type:a,value:"3. Ajouter une ligne dans un des dossiers \u002Fetc\u002Fcron.daily\u002F, \u002Fetc\u002Fcron.hourly\u002F, \u002Fetc\u002Fcron.monthly"}]},{type:a,value:"\nMême concept que le crontab sauf que l'on a pas a mentionner quand exécuter, c'est \u002Fetc\u002Fcrontab  qui dit qand les fichiers sont exécuté\n"},{type:b,tag:q,props:{},children:[{type:a,value:ao}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:bX},children:[{type:a,value:bY}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:bV},children:[{type:a,value:bW}]}]},{type:a,value:c}]}]},dir:aL,path:"\u002Fblog\u002F2010\u002F04\u002Fcomment-automatiser-une-tache-avec-cron-en-utilisant-vim",extension:V,slug:"comment-automatiser-une-tache-avec-cron-en-utilisant-vim",createdAt:b_,updatedAt:b_,category:I,prettyfiedTemporalDate:{prettified:"mercredi 14 avril 2010",temporalDate:"2010-04-14"}},{locale:T,title:"Une VM Linux qui sert au développement PHP 5.3 avec Eclipse - partie III",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii\u002F",status:U,revising:s,migrateCode:s,migrateLinks:s,created:"2009-09-09",updated:aE,tags:[ae,O,b$,aq],categories:[],excerpt:I,toc:[{depth:p,text:ca},{depth:p,text:aT},{depth:p,text:cb},{depth:p,text:as}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:cc},{type:b,tag:i,props:{},children:[{type:a,value:"troisième"}]},{type:a,value:cd}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Cette partie couvrira l'installation de Apache et de PHP 5.3 (la dernière version depuis Juin 2009) qui offre beaucoup d'avancées. Je pense que c'est devenu le juste minimum a cause de ces nouvelles fonctionnalités. Voir articles faits par  "},{type:b,tag:h,props:{lang:J},children:[{type:a,value:ce}]},{type:a,value:aU},{type:b,tag:h,props:{lang:J},children:[{type:a,value:cf},{type:b,tag:j,props:{href:cg},children:[{type:a,value:ch}]},{type:a,value:X},{type:b,tag:j,props:{href:ci},children:[{type:a,value:cj}]},{type:a,value:X},{type:b,tag:j,props:{href:ck},children:[{type:a,value:cl}]},{type:a,value:aD},{type:b,tag:j,props:{href:cm},children:[{type:a,value:cn}]},{type:a,value:$}]},{type:a,value:aI}]},{type:a,value:c},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:co}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-i\u002F"},children:[{type:a,value:cp}]}]},{type:a,value:"\nCe que je vais discuter dans cette série d'articles n'est pas nécessairement connu de tous. Je vais donc vulgariser un peu avant de commencer."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii\u002F"},children:[{type:a,value:"Installation du système"}]}]},{type:a,value:"\nJe donne ici mon secret de magicien avec quelques configurations que je considère importantes pour un environement d'hébergement web pour améliorer la sécruité (le strict minimum pour cette série d'articles. Je pourrai en faire un plus poussé plus tard)."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:aT}]},{type:a,value:" (cet article)\nComment installer Apache 2.x avec le dernier cutting-edge PHP."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Installation de l'environnement de développement avec Eclipse PDT"}]},{type:a,value:" (à venir)\nLa magie se passe par là! Avec ce setup votre équipe pourra répliquer l'installation de développement a volonté."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:ca}]},{type:a,value:c},{type:b,tag:r,props:{style:"background-color:#FFEEEE;border:1px solid #666600;color:#660000;margin:20px;padding:20px 30px;text-align:center;"},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Avertissement!  -  Changement environement:\n"}]},{type:a,value:"Faire des modifications avec Apache et PHP sur un serveur en production peut causer des problèmes sérieux!  Il est conseillé de planifier et de pratiquer le déploiement AVANT de l'appliquer dans un environnement de production. Vous aurez été avertis!"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Varia:"}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Désinstallez toutes les instances de PHP que vous avez installé. Il est recommandé d'avoir la version stable pour un environement de production et que l'environement de développement réflète la production."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Dans mes environements de travail j'ai choisi d'utiliser "},{type:b,tag:i,props:{},children:[{type:a,value:"Debian Linux (stable)"}]},{type:a,value:" courrant.  J'ai déjà utilisé d'autres distributions Linux pour des serveurs mais ça dépasse l'objectif de cet article."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Chaque ligne de commande commence soit par \"$\" (dollar sign)  ou \"#\" (hash mark). Le # signifie que vous entrez la commande en tant que "},{type:b,tag:i,props:{},children:[{type:a,value:R}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Le retour de chariot est illustré par un anti-slash \"\\\"  car je veut éviter de changer la largeur du billet! Vous pouvez simplement tout coller sur une ligne."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:aT}]},{type:a,value:c},{type:b,tag:h,props:{},children:[{type:a,value:x}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"1 Installer Apache"}]},{type:a,value:"\nLa première étape est d'installer Apache. Il est possible de le faire avec plusieurs autres serveurs (lighttpd par exemple) mais je ne l'utilise pas (lighttpd) pour autre chose que du caching statique ou du Proxying. Alors je ne couvrirai pas comment faire. "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.howtoforge.com\u002Flighttpd_mysql_php_debian_etch"},children:[{type:a,value:"Cet article le fait"}]},{type:a,value:", par contre.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Cette commande devrait faire le travail."}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get install apache2 apache2-mpm-prefork apache2-prefork-dev \\\napache2-utils apache2.2-common"}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"2. Installer MySQL et\u002Fou PostgreSQL"}]},{type:a,value:"\nL'engin de base de donnée utilisé est le choix de chacun. Je suis personnellement habitué avec MySQL mais pouvoir avoir les deux peut être utile.\n"},{type:b,tag:ai,props:{},children:[{type:a,value:cq}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get install postgresql-8.3 postgresql-client-8.3 \\\npostgresql-client-common postgresql-common postgresql-server-dev-8.3"}]},{type:a,value:c},{type:b,tag:ai,props:{},children:[{type:a,value:cr}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get install mysql-client mysql-client-5.0    mysql-common \\\nmysql-server mysql-server-5.0 mysql-server-core-5.0"}]},{type:a,value:c},{type:b,tag:ai,props:{},children:[{type:a,value:"3. Installer les librairies requises"}]},{type:a,value:"\nPHP en tant que tel est facile a configurer mais les librairies externes font que c'est plus compliqué... malheureusement.  Ce qui est bien c'est qu'avec Debian la documentation est entretenue fréquemment et il est facile de se reprendre.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Plusieurs heures peuvent être prises pour simplement préparer la commande \"configure\".  Avec ces notes vous devriez vous en sortir pas pire :)"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Voici les packages que Debian fournit pour ce que PHP demande, comme ça vous pourrez éviter d'installer arbitrairement plusieurs dizaines de paquets!"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get install libtidy-dev curl libcurl4-openssl-dev libcurl3 \\\nlibcurl3-gnutls zlib1g zlib1g-dev libxslt1-dev libzip-dev libzip1 \\\nlibxml2 libsnmp-base libsnmp15 libxml2-dev libsnmp-dev libjpeg62 \\\nlibjpeg62-dev libpng12-0 libpng12-dev zlib1g zlib1g-dev libfreetype6 \\\nlibfreetype6-dev libbz2-dev libxpm-dev libmcrypt-dev libmcrypt4"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:":  libxpm4-dev proposé dans "},{type:b,tag:j,props:{href:cs},children:[{type:a,value:"ma source d'information"}]},{type:a,value:" n'est pas trouvé dans Debian Lenny mis a jour le 2009-09-09 j'ai donc rectifié (pour libxpm-dev) la commande ci-haut."}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"4. Télécharger le code source de PHP"}]},{type:a,value:"\nVisiter "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.php.net\u002F"},children:[{type:a,value:"http:\u002F\u002Fwww.php.net"}]},{type:a,value:" et télécharger la version désirée. Actuellement, la version production est la 5.3\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Personnellement je recommande d'avoir les fichiers de compilation dans \u002Fusr\u002Fsrc quoi que j'ai pas la conaissance de la science infuse ;)"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# cd \u002Fusr\u002Fsrc\u002F\n# wget http:\u002F\u002Fus3.php.net\u002Fget\u002Fphp-5.3.0.tar.gz\u002Ffrom\u002Fthis\u002Fmirror\n# tar xvfz php-5-3-0.tar.gz\n# cd php-5.3"}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"5. La commande Configure."}]},{type:a,value:"\nLa commande configure peut etre difficile a configurer surtout avec les librairies qu'on veut généralement mettre... généralement une certaine mesure du minimum.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Personnellement. Je recommande de faire la commande dans un fichier et de l'exécuter par la suite."}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# vi configure.sh\n .\u002Fconfigure --with-apxs2=\u002Fusr\u002Fbin\u002Fapxs2 \\\n   --with-tidy=\u002Fusr --with-curl=\u002Fusr\u002Fbin --with-curlwrappers \\\n   --with-openssl-dir=\u002Fusr --with-zlib-dir=\u002Fusr --enable-mbstring \\\n   --with-xpm-dir=\u002Fusr --with-xsl=\u002Fusr --with-ldap --with-xmlrpc \\\n   --with-iconv-dir=\u002Fusr --with-snmp=\u002Fusr --enable-exif --enable-calendar \\\n   --with-bz2=\u002Fusr --with-mcrypt=\u002Fusr --with-gd --with-jpeg-dir=\u002Fusr \\\n   --with-png-dir=\u002Fusr --with-zlib-dir=\u002Fusr --with-freetype-dir=\u002Fusr \\\n   --enable-mbstring --enable-zip --with-pear"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Je suggère d'ajouter les commande ci bas au configure plus bas en fonction de votre choix de gestionnaire de base de donnée."}]},{type:a,value:c},{type:b,tag:ai,props:{},children:[{type:a,value:cq}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"--with-pdo-pgsql=\u002Fusr"}]},{type:a,value:c},{type:b,tag:ai,props:{},children:[{type:a,value:cr}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:" --with-pdo-mysql=\u002Fusr --with-mysqli=\u002Fusr\u002Fbin\u002Fmysql_config --with-mysql=\u002Fusr"}]},{type:a,value:"\nSortir avec :wq puis exécuter le script.\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# \u002Fbin\u002Fbash .\u002Fconfigure.sh"}]},{type:a,value:"\nL'écran devrait bouger beaucoup... généralement dans la doc on conseille ici d'aller prendre un café!\n"},{type:b,tag:e,props:{},children:[{type:a,value:"... Si tout va bien tout devrait terminer par quelque chose qui ressemble à \"Thanks for using php\". Sinon.... je conseille ma "},{type:b,tag:F,props:{to:"\u002Fblog\u002F2009\u002F08\u002Fprocessus-pour-regler-un-probleme-avec-un-ordinateur\u002F"},children:[{type:a,value:"solution aux problèmes numéro un"}]},{type:a,value:". ;)"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Faut pas s'en faire. Généralement c'est de tenter avec \""},{type:b,tag:i,props:{},children:[{type:a,value:"apt-cache search"}]},{type:a,value:"\" et \""},{type:b,tag:i,props:{},children:[{type:a,value:"apt-get install"}]},{type:a,value:"\" le nom de la librairie manquante."}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"6. Make et Make Install"}]},{type:a,value:"\nPour l'installer. Maintenant que PHP est \"configure\"-é  il faut le compiler et l'installer avec make.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"La commande est bien simple."}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# make"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Beaucoup de sortie ici aussi. Ça risque même d'être plus long dépendamment de la force du processeur disponible.  C'est le temps de prendre une marche, encore."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Une fois que tout est terminé avec make, vous pouvez faire, accessoirement un \"make test\"."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"La dernière étape est de faire le \"install\""}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# make -i install"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Pourquoi le -i? Parceque Ubuntu\u002FDebian risque d'avertir pour certaines erreurs a cause de la différence d'installation d'Apache de Debian\u002FUbuntu, nous le ferons nous même a bras plus loin dans ce document."}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"7. Ajouter le module PHP dans Apache"}]},{type:a,value:"\nIl faut ajouter le module dans Apache pour qu'il puisse interpreter... c'est logique. Étant donné que la commande make -i a surement fait son travail (sous Debian), nous devons nous assurer que tout est en ordre dans la configuration d'Apache.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Premièrement, copier la librairie compilée:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# updatedb\n# locate libphp5\n...\n\u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5.so\n\u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.la\n\u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.so\n...\n# cp \u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.so \u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5_3.so"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Je commencer par mettre a jour la base de donnée \"locate\", ensuite je cherche où est disponible la librairie, puis ensuite j'utilise \"cp\" pour déplacer sous un autre nom la librairie."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ensuite,  dans le dossier:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# cd \u002Fetc\u002Fapache2\u002Fmods-available"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Créez un nouveau fichier appelé php5.load et copiez-y le contenu suivant:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"LoadModule php5_module \u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5_3.so"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Enregistrer le fichier. Ensuite créez un fichier appelé php5.conf et collez-y ce contenu:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"AddType application\u002Fx-httpd-php .php .phtml .php3\nAddType application\u002Fx-httpd-php-source .phps"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"On est prêts! Il faut le charger dans Apache:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# a2enmod php5\nEnabling module php5.\nRun \"\u002Fetc\u002Finit.d\u002Fapache2 restart\" to activate new configuration!\n# invoke-rc.d apache2 restart\n* Restarting web server apache2\n...waiting    ...done."}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:"8. Tester l'installation"}]},{type:a,value:"\nC'est assez simple rendus là.\n"},{type:b,tag:e,props:{},children:[{type:a,value:"On commence par le binaire en ligne de commande:"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"$ php -v\nPHP 5.3.0 (cli) (built: Aug  17 2009 19:08:32)\nCopyright (c) 1997-2009 The PHP Group\nZend Engine v2.3.0, Copyright (c) 1998-2009 Zend Technologies"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Tout va bien!"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ensuite, voir un phpinfo() dans le docroot. (Généralement \u002Fvar\u002Fwww\u002Findex.php)."}]},{type:a,value:c},{type:b,tag:g,props:{lang:"php"},children:[{type:a,value:"\u003C ?php\n  phpinfo();\n?\u003E"}]},{type:a,value:c},{type:b,tag:aO,props:{className:[aP,"wp-image-1113"],style:"border:none;",title:ct,src:"https:\u002F\u002Frenoirb.github.io\u002Fsite-assets\u002Fassets\u002Fcontent\u002Fblog\u002F2009\u002F09\u002Fphpinfo_php5_3.png",alt:ct,width:612,height:429},children:[]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:cb}]},{type:a,value:"\nJe crois avoir bien réussi mon interprétation et ma traduction de l'article que j'ai utilisé. J'y ai ajouté mon grain de sel et rectifié ce qui a marché pour moi. Je vous conseille de documenter pour vos propres besoins ce que vous faites, on sait jamais quand on a besoin de refaire ce qu'on a déjà fait !\n"},{type:b,tag:q,props:{},children:[{type:a,value:as}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:b,tag:j,props:{lang:J,href:cs},children:[{type:a,value:"BrandonSavage.net : Installing PHP 5.3 on Ubuntu"}]},{type:a,value:x}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.php-experts.org\u002Fdeveloppement-web\u002F5-plugins-indispensables-pour-coder-en-php-avec-lide-eclipse-22"},children:[{type:a,value:"5 plugins indispensables pour coder en PHP avec l'IDE Eclipse"}]}]},{type:b,tag:bZ,props:{},children:[]},{type:a,value:"Un article que j'ai beaucoup apprécié car il mentionne ses propres plugins et j'ai cru bon les ajouter ici."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:h,props:{lang:J},children:[{type:a,value:ce}]},{type:a,value:aU},{type:b,tag:h,props:{lang:J},children:[{type:a,value:cf},{type:b,tag:j,props:{href:cg},children:[{type:a,value:ch}]},{type:a,value:X},{type:b,tag:j,props:{href:ci},children:[{type:a,value:cj}]},{type:a,value:X},{type:b,tag:j,props:{href:ck},children:[{type:a,value:cl}]},{type:a,value:aD},{type:b,tag:j,props:{href:cm},children:[{type:a,value:cn}]},{type:a,value:$}]},{type:a,value:aI}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:x}]}]}]},dir:cu,path:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii",extension:V,slug:"une-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii",createdAt:at,updatedAt:at,category:I,prettyfiedTemporalDate:{prettified:"mercredi 9 septembre 2009",temporalDate:"2009-09-09"}},{locale:T,title:"Une VM Linux qui sert au développement PHP 5.3 avec Eclipse - partie II",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii\u002F",status:U,revising:s,migrateCode:s,migrateLinks:s,created:"2009-09-03",updated:aN,tags:[ae,O,aF,aq,b$],categories:[],excerpt:I,toc:[{depth:p,text:cv},{depth:p,text:as}],body:{type:R,children:[{type:b,tag:e,props:{},children:[{type:a,value:cc},{type:b,tag:i,props:{},children:[{type:a,value:"deuxième"}]},{type:a,value:cd}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ce billet expliquera comment j'installe un système Linux que je considère de base pour une infrastructure d'hébergement applicatif. Je ne couvrirai pas les configurations plus avancés pour améliorer la sécurité. Je risque de le faire plus tard."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:co}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:i,props:{},children:[{type:b,tag:F,props:{to:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-i"},children:[{type:a,value:cp}]}]},{type:a,value:" (article précédent)\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Ce que je vais discuter dans cette série d'articles n'est pas nécessairement connu de tous. Je vais donc vulgariser un peu avant de commencer."}]}]},{type:b,tag:e,props:{},children:[]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[au,v]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u003Cli\u003E\u003Cstrong\u003EInstallation du système\u003C\u002Fstrong\u003E (cet article)\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Je donne ici mon secret de magicien avec quelques configurations que je considère importantes pour un environement d'hébergement web pour améliorer la sécruité (le strict minimum pour cette série d'articles. Je pourrai en faire un plus poussé plus tard)."}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[au,v]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u003Cli\u003E\u003Cstrong\u003E\u003Ca href=\"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii\"\u003ECompilation de PHP 5.3\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Comment installer Apache 2.x avec le dernier cutting-edge PHP."}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[au,v]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u003Cli\u003E\u003Cstrong\u003EInstallation de l'environnement de développement avec Eclipse PDT\u003C\u002Fstrong\u003E (à venir)\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"La magie se passe par là! Avec ce setup votre équipe pourra répliquer l'installation de développement a volonté."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:b,tag:j,props:{name:"BaseSystem"},children:[]},{type:a,value:cv}]},{type:a,value:"\nJ'utilise personnellement Debian Linux depuis quelques années car je le trouve plus léger que Red Hat Enterprise Linux ou n'importe quelle saveur de RedHat (Fedora, CentOS, etc)\n"},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Note: "}]},{type:a,value:"Je n'expliquerai pas comment faire pour  "},{type:b,tag:j,props:{href:aV},children:[{type:a,value:"installer Debian Linux de base (dans une VM)"}]},{type:a,value:" car c'est un sujet déjà largement couvert."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Personnellement j'installe le système avec la version actuelle provenant d'un mini boot server que j'ai sur un réseau que je partage avec quelques amis."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Une installation simple "},{type:b,tag:j,props:{href:aV},children:[{type:a,value:"comme celle ci"}]},{type:a,value:", ferait très bien l'affaire."}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Utiliser le dernier Debian stable"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"à l'écran \""},{type:b,tag:i,props:{},children:[{type:a,value:"Debian Software Installation"}]},{type:a,value:"\" "},{type:b,tag:i,props:{},children:[{type:a,value:"Je coche"}]},{type:a,value:" généralement ~"},{type:b,tag:i,props:{},children:[{type:a,value:"rien"}]},{type:a,value:"~, car"},{type:b,tag:i,props:{},children:[{type:a,value:" je vais donner plus de détails"}]},{type:a,value:" ici."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Les étapes..."}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Modifier le\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"\u002Fetc\u002Fapt\u002Fsources.list"}]},{type:a,value:"\net "},{type:b,tag:i,props:{},children:[{type:a,value:"Enlever la mention du CD-rom"}]},{type:a,value:" et "},{type:b,tag:i,props:{},children:[{type:a,value:"Ajouter la mention \""},{type:b,tag:t,props:{},children:[{type:a,value:"contrib"}]},{type:a,value:aW}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"deb http:\u002F\u002Fdebian.savoirfairelinux.net\u002Fdebian\u002F lenny main\ndeb-src http:\u002F\u002Fdebian.savoirfairelinux.net\u002Fdebian\u002F lenny main\ndeb http:\u002F\u002Fsecurity.debian.org\u002F lenny\u002Fupdates main contrib\ndeb-src http:\u002F\u002Fsecurity.debian.org\u002F lenny\u002Fupdates main contrib\n"},{type:b,tag:e,props:{},children:[{type:a,value:cw},{type:b,tag:j,props:{href:av,rel:[K,L,M],target:N},children:[{type:a,value:av}]},{type:a,value:" lenny contrib\ndeb-src "},{type:b,tag:j,props:{href:av,rel:[K,L,M],target:N},children:[{type:a,value:av}]},{type:a,value:" lenny contrib"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:cw},{type:b,tag:j,props:{href:aw,rel:[K,L,M],target:N},children:[{type:a,value:aw}]},{type:a,value:" lenny main\ndeb-src "},{type:b,tag:j,props:{href:aw,rel:[K,L,M],target:N},children:[{type:a,value:aw}]},{type:a,value:" lenny main"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:cx}]},{type:a,value:" Il s'agit de mon propre "},{type:b,tag:t,props:{},children:[{type:a,value:"sources.list"}]},{type:a,value:" ayant trouvé "},{type:b,tag:t,props:{},children:[{type:a,value:"savoirfairelinux"}]},{type:a,value:" comme étant le plus rapide en utilisant "},{type:b,tag:j,props:{href:cy},children:[{type:a,value:cz}]},{type:a,value:" et la liste des "},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fmirror\u002Flist"},children:[{type:a,value:"mirroirs Debian"}]}]},{type:b,tag:e,props:{},children:[]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[au,v]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u003Cli\u003EUpdater les sources\n"}]}]}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get update"}]},{type:a,value:"\n\n\t"},{type:b,tag:d,props:{},children:[{type:a,value:"Installer les paquets essentiels\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get install openssh-server mlocate screen sudo vim ntpdate linux-headers-$(uname -r) syslog-ng build-essential open-vm-tools"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:cx}]},{type:a,value:" remarquez la présence de "},{type:b,tag:t,props:{},children:[{type:a,value:"open-vm-tools"}]},{type:a,value:" il s'agit d'un package provenant de Debian contrib pour les VM "},{type:b,tag:i,props:{},children:[{type:a,value:"VMware"}]},{type:a,value:" (n'installez pas si vous utilisez "},{type:b,tag:t,props:{},children:[{type:a,value:"Xen"}]},{type:a,value:")... au lieu de compiler vm-ware-tools pour le kernel... Debian s'en occupe (!!)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter les droits sudo à "},{type:b,tag:t,props:{},children:[{type:a,value:"sudo"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# visudo"}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Va ouvrir "},{type:b,tag:t,props:{},children:[{type:b,tag:j,props:{href:"http:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPico_%28text_editor%29"},children:[{type:a,value:"pico"}]}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Décommenter "},{type:b,tag:i,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"%sudo ALL=NOPASSWD: ALL"}]}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Pour quitter, faire CTRL+x y ENTER"}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Updater la DB de mlocate\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# updatedb"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Lier killall5 sous le nom legacy de "},{type:b,tag:t,props:{},children:[{type:a,value:"killall"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# ln -s \u002Fsbin\u002Fkillall5 \u002Fsbin\u002Fkillall"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"suivre "},{type:b,tag:i,props:{},children:[{type:a,value:"Procédure de configuration de NTP pour les serveurs"}]},{type:a,value:aH},{type:b,tag:i,props:{},children:[{type:a,value:S}]},{type:a,value:" L'idée est d'éviter d'utiliser en mémoire les démons le plus possible. Si utile soit-il (comme ajuster l'heure, ici). Il est plus pratique qu'elle soit ajustée aux heures et laisser l'espace mémoire pour son usage primaire.\n"},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Entrer en édition dans le fichier\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"$ sudo vi \u002Fetc\u002Fdefault\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Trouver dans le fichier la variable "},{type:b,tag:i,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"NTPSERVERS"}]}]},{type:a,value:X},{type:b,tag:i,props:{},children:[{type:a,value:bE}]},{type:a,value:", soit par...\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"NTPSERVERS=\"0.ca.pool.ntp.org 1.ca.pool.ntp.org 2.ca.pool.ntp.org\""}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Faire i (pour Insert)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter a "},{type:b,tag:t,props:{},children:[{type:a,value:"NTPOPTIONS"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"NTPOPTIONS=\"-u\""}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Faire ESCAPE"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:aS}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Créer un fichier "},{type:b,tag:t,props:{},children:[{type:a,value:"cron.hourly"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"$ sudo vi \u002Fetc\u002Fcron.hourly\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Ajouter le contenu\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"#!\u002Fbin\u002Fsh\nPATH=\u002Fsbin:\u002Fbin\ntest -f \u002Fusr\u002Fsbin\u002Fntpdate || exit 0\nif test -f \u002Fetc\u002Fdefault\u002Fntpdate ; then\n        . \u002Fetc\u002Fdefault\u002Fntpdate\nelse\n        NTPSERVERS=\"0.ca.pool.ntp.org\"\nfi\ntest -n \"$NTPSERVERS\" || exit 0\n\u002Fusr\u002Fsbin\u002Fntpdate -s $NTPOPTIONS $NTPSERVERS \u003E\u003E \u002Fdev\u002Fnull 2\u003E&1\n# Exit with a succes anyway, avoids spamming root.\nexit 0"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Changer les permissions pour qu'il puisse être exécuté\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"$ sudo chmod 755 \u002Fetc\u002Fcron.hourly\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Essayer\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"$ sudo \u002Fetc\u002Fcron.hourly\u002Fntpdate"}]},{type:a,value:c}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Voir dans syslog, ça devrait ressembler à...\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# tail \u002Fvar\u002Flog\u002Fsyslog\n...\nDec 30 13:39:35 willow ntpdate[1912]: adjust time server 192.168.1.5 offset 0.005642 sec\n..."}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Installer le service d'envoi courriel...\n"},{type:b,tag:e,props:{},children:[{type:a,value:"Question de pouvoir "},{type:b,tag:i,props:{},children:[{type:a,value:"recevoir les avertissements"}]},{type:a,value:" par courriel"}]},{type:a,value:c},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# apt-get install postfix"}]},{type:a,value:c},{type:b,tag:w,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Satellite System (On veut envoyer les courriels ailleurs et rien garder ici)"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"\"Mail name?\"...  "},{type:b,tag:i,props:{},children:[{type:b,tag:t,props:{},children:[{type:a,value:"NOMDELAVM"}]}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"\"SMTP relay host?\"...  votre relai SMTP fourni par votre fournisseur"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"\"Other destinations...\" Ajuster les noms"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Enter"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"\"Local networks?\"... ENTER"}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"..."}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Tester l'envoi\n("},{type:b,tag:i,props:{},children:[{type:a,value:"NOTE:"}]},{type:a,value:" vous pouvez aussi utiliser l'outil Debian "},{type:b,tag:t,props:{},children:[{type:a,value:"swaks"}]},{type:a,value:")\n"},{type:b,tag:g,props:{lang:l},children:[{type:a,value:"# mail test@test.com\nSubject: Patate 1 am\nMessage, qui doit terminer avec une ligne seule et un point .\n.\nCc:"}]}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:a,value:"Regarder les mails du destinataire."}]},{type:a,value:c}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:q,props:{},children:[{type:a,value:as}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{lang:J,href:"http:\u002F\u002Fwww.vmware.com\u002Fproducts\u002Fserver\u002F"},children:[{type:a,value:"VMware Server"}]},{type:a,value:ax}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{lang:J,href:aV},children:[{type:a,value:"Installing a Debian Base system"}]},{type:a,value:ax}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{lang:J,href:"http:\u002F\u002Fhelpdeskgeek.com\u002Fvirtualization\u002Fcreating-a-virtual-machine-on-vmware-server\u002F"},children:[{type:a,value:"Creating a Virtual Machine on VMware server"}]},{type:a,value:ax}]},{type:a,value:f},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{lang:J,href:cy},children:[{type:a,value:"Using "},{type:b,tag:t,props:{},children:[{type:a,value:cz}]},{type:a,value:" tip to select"}]},{type:a,value:ax}]},{type:a,value:c}]}]},dir:cu,path:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii",extension:V,slug:"une-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii",createdAt:at,updatedAt:at,category:I,prettyfiedTemporalDate:{prettified:"jeudi 3 septembre 2009",temporalDate:"2009-09-03"}},{title:"Une machine virtuelle Gentoo",locale:T,created:"2007-02-10T00:00:00.000Z",updated:"2013-03-27T00:00:00.000Z",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F02\u002Fune-machine-virtuelle-gentoo\u002F",status:U,revising:s,migrateCode:s,categories:[cA],tags:[cB,O,cB],toc:[{id:cC,depth:E,text:cD},{id:cE,depth:E,text:cF},{id:cG,depth:E,text:cH},{id:cI,depth:E,text:cJ},{id:cK,depth:E,text:cL},{id:cM,depth:E,text:cN},{id:cO,depth:E,text:cP},{id:cQ,depth:E,text:cR},{id:cS,depth:E,text:cT},{id:cU,depth:E,text:cV},{id:cW,depth:E,text:cX},{id:cY,depth:E,text:ar}],body:{type:R,children:[{type:b,tag:G,props:{id:cC},children:[{type:b,tag:j,props:{href:"#introduction",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cD}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Pour monter une machine virtuelle, il faut VMWare player ("},{type:b,tag:j,props:{href:"http:\u002F\u002Fwww.vmware.com",rel:[K,L,M],target:N},children:[{type:a,value:"www.vmware.com"}]},{type:a,value:") J'ai\nchoisi d'utiliser Gentoo pour l'exemple car c'est un linux souple a la ligne de\ncommande et hyper customisable bare-bone. Bref, pas de fla-fla, juste ce que\nl'on a besoin!"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Voici les commandes que j'ai fait, je vulgariserai plus tard. La Gentoo VM a\nobtenir"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Voici un snip de la page ou j'ai été chercher la GentooVM pré-configurée"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"SOURCE: "},{type:b,tag:j,props:{href:"http:\u002F\u002Fgentoovm.com\u002Fwiki\u002Findex.php\u002FMain_Page",rel:[K,L,M],target:N},children:[{type:a,value:"gentoovm.com\u002F...\u002FMain_Page"}]},{type:a,value:X},{type:b,tag:j,props:{href:"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20070212083334\u002Fhttp:\u002F\u002Fgentoovm.com\u002Fwiki\u002Findex.php\u002FMain_Page",rel:[K,L,M],target:N,title:"Internet Archive version of gentoovm.com Wiki du 14 février 2007"},children:[{type:a,value:"en date du le 14 février\n2007"}]}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,cZ]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"This is a relatively bare bones install of gentoo. Xorg and WM not included. So you still have to build all the stuff.\n\nGentoo 2006.1 (Barebones) VMWare Appliance:\nMD5 Source Comments\nMirror 1 gentoovm.com\nMirror 2 http:\u002F\u002Fgentoo.chem.wisc.edu UW-Madison Dept. of Chemistry official Gentoo source mirror\nMirror 3 gentoovm.intarweb.net This mirror generously provided by Phaerus\n\n* Created: September 23rd, 2006\n* Filesize\n  * Compressed: 409 MB (429,163,861 bytes)\n  * Extracted: 1.16 GB (1,249,512,994 bytes)\n  * Root Password: gentoo\n  * Virtual Drive: 10.7 GB, 10737418240 bytes\n* Partitions\n  * \u002Fdev\u002Fhda1 boot ext2 32MB\n  * \u002Fdev\u002Fhda2 swap 512MB\n  * \u002Fdev\u002Fhda3 reiserfs 10GB\n* Timezone: US\u002FPacific\n* Hostname: gentoo-vm\n* Kernel: gentoo-sources-2.6.17-r8\n* Boot Loader: grub-0.97-r8\n* Network Interface(s): DHCP\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cE},children:[{type:b,tag:j,props:{href:"#commencer",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cF}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"La prise en main de la Gentoo VM"}]}]},{type:a,value:c},{type:a,value:c},{type:b,tag:"app-alert-box",props:{title:"Dans le terminal"},children:[{type:a,value:"\nChaque ligne de commande peux être faite soit en tant que root, ou avec la commande `sudo`\n"}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Changer le mot de passe root"}]}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:bu}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Toujours utile de changer son mot de passe root, oubliez pas de faire les ajouts\ndes usagers... plus tard."}]},{type:a,value:c},{type:b,tag:G,props:{id:cG},children:[{type:b,tag:j,props:{href:"#configuration-clavier",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cH}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Changer le keymap"}]},{type:a,value:" (configuration du input local (clavier))"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:ay}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:az}]},{type:a,value:" \u002Fetc\u002Fconf.d\u002Fkeymaps\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Changer la variable "},{type:b,tag:k,props:{},children:[{type:a,value:"KEYMAP=\"us\""}]},{type:a,value:bP},{type:b,tag:k,props:{},children:[{type:a,value:"KEYMAP=\"cf\""}]},{type:a,value:aU},{type:b,tag:k,props:{},children:[{type:a,value:c_}]},{type:a,value:"\" est le clavier\n"},{type:b,tag:o,props:{},children:[{type:a,value:"Canadien Français"}]},{type:a,value:" avec le "},{type:b,tag:Z,props:{},children:[{type:a,value:"SHIFT"}]},{type:a,value:"+"},{type:b,tag:Z,props:{},children:[{type:a,value:"3"}]},{type:a,value:" pour \""},{type:b,tag:k,props:{},children:[{type:a,value:"\u002F"}]},{type:a,value:"\" et dièse\n\""},{type:b,tag:k,props:{},children:[{type:a,value:"#"}]},{type:a,value:"\" a coté du chiffre \""},{type:b,tag:k,props:{},children:[{type:a,value:"1"}]},{type:a,value:"\" au clavier. Mon keymap favori quoi!"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:h,props:{className:[aj]},children:[{type:a,value:"\u002Fetc\u002Fconf.d\u002Fkeymaps"}]},{type:b,tag:g,props:{className:[v,c$]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,aa,ab]},children:[{type:a,value:"KEYMAP"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,ac,ad]},children:[{type:a,value:aW},{type:b,tag:h,props:{className:[m,"inner-value"]},children:[{type:a,value:c_}]},{type:a,value:aW}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Appliquer les changements"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"env-update "},{type:b,tag:h,props:{className:[m,ak]},children:[{type:a,value:"&&"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,da,db]},children:[{type:a,value:bO}]},{type:a,value:" \u002Fetc\u002Fprofile\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cI},children:[{type:b,tag:j,props:{href:"#configuration-r%C3%A9seau",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cJ}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Changer le HOSTNAME de la machine, si désiré"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:ay}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:az}]},{type:a,value:" \u002Fetc\u002Fconf.d\u002Fhostname\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Mettre la valeur que vous voulez, dans l'exemple; simplement remplacer le \"tux\""}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:h,props:{className:[aj]},children:[{type:a,value:"\u002Fetc\u002Fconf.d\u002Fhostname"}]},{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,aX,Q]},children:[{type:b,tag:h,props:{className:[m,"environment","constant"]},children:[{type:a,value:"HOSTNAME"}]}]},{type:b,tag:h,props:{className:[m,ak]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,al]},children:[{type:a,value:"\"tux\""}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Statique-ifier son adresse IP"}]},{type:a,value:" au réseau"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:ay}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:az}]},{type:a,value:" \u002Fetc\u002Fconf.d\u002Fnet\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Inscrire dans le fichier la configuration IP statique désirée"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:h,props:{className:[aj]},children:[{type:a,value:"\u002Fetc\u002Fconf.d\u002Fnet"}]},{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,aX,Q]},children:[{type:a,value:"config_eth0"}]},{type:b,tag:h,props:{className:[m,ak]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:dc}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,al]},children:[{type:a,value:"\"192.168.1.83 netmask 255.255.255.0 brd 192.168.1.255\""}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:$}]},{type:a,value:c},{type:b,tag:h,props:{className:[m,aX,Q]},children:[{type:a,value:"routes_eth0"}]},{type:b,tag:h,props:{className:[m,ak]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:dc}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,al]},children:[{type:a,value:"\"default gw 192.168.1.1\""}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:$}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cK},children:[{type:b,tag:j,props:{href:"#d%C3%A9marer-le-r%C3%A9seau-par-d%C3%A9faut",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cL}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Cette commande ajuste la configuration interne pour s’assurer que l’interface\nréseau "},{type:b,tag:k,props:{},children:[{type:a,value:"eth0"}]},{type:a,value:" est active durant le processus de démarrage."}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:aY},{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:aA}]},{type:a,value:" net.eth0 default\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cM},children:[{type:b,tag:j,props:{href:"#mapper-le-r%C3%A9seau",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cN}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:ay}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:az}]},{type:a,value:" \u002Fetc\u002Fhosts\n"}]}]}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:h,props:{className:[aj]},children:[{type:a,value:bl}]},{type:b,tag:g,props:{className:[v,cZ]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"192.168.1.83 gentoo-vm\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Ce peut être une bonne idée d’utiliser le fichier selon l’adressage IP du bureau"}]},{type:a,value:c},{type:b,tag:G,props:{id:cO},children:[{type:b,tag:j,props:{href:"#installer-vim-mon-%C3%A9diteur-favori",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cP}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"emerge "},{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:"vim"}]},{type:a,value:" vim-core\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cQ},children:[{type:b,tag:j,props:{href:"#sassurer-que-sshd-de-openssh-est-au-d%C3%A9marrage",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cR}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:aY},{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:aA}]},{type:a,value:" sshd default\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cS},children:[{type:b,tag:j,props:{href:"#installer-apache2",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cT}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,da,db]},children:[{type:a,value:"echo"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,al]},children:[{type:a,value:"'net-www\u002Fapache -mpm-worker mpm-prefork'"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,ak]},children:[{type:a,value:"\u003E"}]},{type:a,value:" \u002Fetc\u002Fportage\u002Fpackage.use\nemerge "},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:"-aDNtuv"}]},{type:a,value:" apache\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Répondre '"},{type:b,tag:h,props:{lang:J},children:[{type:a,value:"yes"}]},{type:a,value:"' et attendre..."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Effacer les fichiers de config"}]},{type:a,value:", surtout si l'install est neuve"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:"find"}]},{type:a,value:" \u002Fetc "},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:"-iname"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,al]},children:[{type:a,value:"'._cfg????_*'"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:"-exec"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:"rm"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,Y,Q]},children:[{type:a,value:"-rf"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:"{"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:"}"}]},{type:a,value:x},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:dd}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:dd}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:";"}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Effacer TOUT les fichiers trouvés portant la mention ._cfgTRUC (fichiers\nsauvegardés de config) safe a effacer si machine neuve, ca sert a rien de\n\"gosser\" avec ça! Ajouter Apache2 au default runlevel"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:aY},{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:aA}]},{type:a,value:" apache2 default\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cU},children:[{type:b,tag:j,props:{href:"#installer-le-serveur-ftpd",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cV}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"emerge vsftpd net-ftp\u002Fftp\nrc-update "},{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:aA}]},{type:a,value:" vsftpd default\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"Quick-and-dirty pour installer le FTPd... Copier le fichier config, puis\nconfigurer le serveur FTP"}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,H]},children:[{type:a,value:"cp"}]},{type:a,value:" \u002Fetc\u002Fvsftpd\u002Fvsftpd.conf.example \u002Fetc\u002Fvsftpd\u002Fvsftpd.conf\n"}]}]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Éditer puis ensuite le démarrer"}]}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:h,props:{className:[aj]},children:[{type:a,value:"\u002Fetc\u002Fvsftpd\u002Fvsftpd.conf"}]},{type:b,tag:g,props:{className:[v,c$]},children:[{type:b,tag:k,props:{},children:[{type:b,tag:h,props:{className:[m,aa,ab]},children:[{type:a,value:"ascii_upload_enable"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,ac,ad]},children:[{type:a,value:aZ}]},{type:a,value:c},{type:b,tag:h,props:{className:[m,aa,ab]},children:[{type:a,value:"ascii_download_enable"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,ac,ad]},children:[{type:a,value:aZ}]},{type:a,value:c},{type:b,tag:h,props:{className:[m,aa,ab]},children:[{type:a,value:"local_umask"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,ac,ad]},children:[{type:a,value:"022"}]},{type:a,value:c},{type:b,tag:h,props:{className:[m,aa,ab]},children:[{type:a,value:"anonymous_enable"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,ac,ad]},children:[{type:a,value:"NO"}]},{type:a,value:c},{type:b,tag:h,props:{className:[m,aa,ab]},children:[{type:a,value:"local_enable"}]},{type:b,tag:h,props:{className:[m,D]},children:[{type:a,value:W}]},{type:b,tag:h,props:{className:[m,ac,ad]},children:[{type:a,value:aZ}]},{type:a,value:c}]}]}]},{type:a,value:c},{type:b,tag:r,props:{className:[u]},children:[{type:b,tag:g,props:{className:[v,C]},children:[{type:b,tag:k,props:{},children:[{type:a,value:"\u002Fetc\u002Finit.d\u002Fvsftpd start\n"}]}]}]},{type:a,value:c},{type:b,tag:G,props:{id:cW},children:[{type:b,tag:j,props:{href:"#rappels-de-base",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:cX}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Nano et Pico son des éditeurs de base en UNIX, pour quiter après une\nmodification, simplement faire "},{type:b,tag:Z,props:{},children:[{type:a,value:"CTRL"}]},{type:a,value:"+X (pour exit) et répondre aux\nquestions"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Vi ou ViM (Vi-improved) est mon éditeur préféré! pour éditer, faire\n'"},{type:b,tag:Z,props:{style:a_},children:[{type:a,value:bS}]},{type:a,value:"' (insert). Écrire.... puis,\npour terminer; faire "},{type:b,tag:Z,props:{},children:[{type:a,value:"ESC"}]},{type:a,value:" ET\n"},{type:b,tag:Z,props:{},children:[{type:a,value:bT}]},{type:b,tag:Z,props:{style:a_},children:[{type:a,value:"w"}]},{type:b,tag:Z,props:{style:a_},children:[{type:a,value:"q"}]},{type:a,value:"'\n("},{type:b,tag:k,props:{},children:[{type:a,value:aS}]},{type:a,value:" = "},{type:b,tag:h,props:{lang:J},children:[{type:a,value:"command write and quit"}]},{type:a,value:$}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:G,props:{id:cY},children:[{type:b,tag:j,props:{href:"#ressources",ariaHidden:y,tabIndex:z},children:[{type:b,tag:h,props:{className:[A,B]},children:[]}]},{type:a,value:ar}]},{type:a,value:c},{type:b,tag:n,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:de,rel:[K,L,M],target:N},children:[{type:a,value:de}]},{type:a,value:" Un blog sur le sujet des VM "},{type:b,tag:j,props:{href:df,rel:[K,L,M],target:N},children:[{type:a,value:df}]},{type:a,value:"\nQui offre un bon howto et une image bare-bone de Gentoo en VM"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:dg,rel:[K,L,M],target:N},children:[{type:a,value:dg}]},{type:a,value:" LE Handbook pour Gentoo linux"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:dh,rel:[K,L,M],target:N},children:[{type:a,value:dh}]},{type:a,value:" Notes sur\nl'installation de SVN"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:j,props:{href:di,rel:[K,L,M],target:N},children:[{type:a,value:di}]},{type:a,value:" Howto\npour DAV et svn... (le sharing à -la-samba)"}]},{type:a,value:c}]}]},dir:"\u002Fblog\u002F2007\u002F02",path:"\u002Fblog\u002F2007\u002F02\u002Fune-machine-virtuelle-gentoo",extension:V,slug:"une-machine-virtuelle-gentoo",createdAt:dj,updatedAt:dj,category:cA,prettyfiedTemporalDate:{prettified:"samedi 10 février 2007",temporalDate:"2007-02-10"}}],taxonomyKey:O,taxonomy:{key:O}}],fetch:[],mutations:void 0}}("text","element","\n","li","p","\n\t","pre","span","strong","a","code","bash","token","ul","em",3,"h3","div",true,"tt","nuxt-content-highlight","line-numbers","ol"," ","true",-1,"icon","icon-link","language-bash","punctuation",2,"nuxt-link","h2","function","","en","nofollow","noopener","noreferrer","_blank","logiciel-libre","h4","variable","root","Note","fr-CA","publish",".md","=",", ","parameter","kbd","blockquote",")","key","attr-name","value","attr-value","linux","vm.somehost.com","Script pour créer un compte utilisateur","h1","h5","filename","operator","string","Procédure",".","Sources","friend-machine","tutoriels","Ressources","Références","2024-10-24T19:50:04.892Z","language-text","http:\u002F\u002Fftp.debian.org\u002Fdebian","http:\u002F\u002Fdebian-multimedia.org\u002F"," (anglais seulement)","nano","-w","add","Salt Stack","New VM",", and ","2013-03-29","securite","unix",".\n","\".","Ajouter un utilisateur FTP","\u002Fblog\u002F2010\u002F04\u002Fprocedure-pour-creer-un-serveur-ftp-securise-ssl-force-avec-usager-virtuels-sous-ubuntu-linux-avec-vsftpd#ComptesFTPvirtuel%28sansutilisateurlocal%29sousUbuntuavecvsFTPdetcryptoSSL-Scriptpourcr%C3%A9eruncompteutilisateur","\u002Fblog\u002F2010\u002F04","2024-10-24T19:50:04.907Z","2013-03-27","img","size-full","MonDev",270,":wq","Compilation de PHP 5.3"," \"","http:\u002F\u002Flinux.justinhartman.com\u002FInstalling_a_Debian_Etch_base_system","\"","assign-left","rc-update ","YES","text-transform:lowercase;",false,"http:\u002F\u002Fwww.saltstack.com\u002Fcommunity\u002F","Salt Stack, The Salt Open Source Software Project","\n  ",": ","2024-10-24T19:50:04.927Z","2013-08-07","1. Grab the original machine's configuration","2. Render the production machine unavailable","3. Decomission the original, use the new VM as the new Production","Old VM"," that will replace the Old","\u002Fetc\u002Fhosts","2024-10-24T19:50:04.926Z","L'historique","0. La machine accessible pour les deux","1. Sur le poste de votre ami","2. Créer le tunnel sur la machine de votre ami","3. Vous connecter de VOTRE poste, à la machine commune,  à finalement le poste de votre ami.","Screen","Finalement","passwd","n","screen","2024-10-24T19:50:04.914Z","Ce que cette procédure fait...","Créer un nouveau compte","Ajouter ou modifier un utilisateur","Tester","Pour déboguer","fail2ban","Remplacer","Redémarrer vsftpd\n","panel","border-width: 1px;","http:\u002F\u002Fmy.afterdawn.com\u002Fketola\u002Fblog_entry.cfm\u002F1262\u002Fvsftpd_ssl_and_iptables","vsftpd SSL and iptables","technologies","Traduction de l'annonce officielle du MonDev","A la recherche de présentations pour le MonDev","[\u002Fcaption]","source"," pour ","Utiliser vi (prérequis)","Créer une tâche CRON","i",":","\nsource: ","http:\u002F\u002Fmatrix.samizdat.net\u002Fpratique\u002Fdocumentation\u002Fguide-survie-VI.html","Guide de survie VI","http:\u002F\u002Fadminschoice.com\u002Fcrontab-quick-reference","Crontab Quick reference","br","2024-10-24T19:50:04.906Z","techniques","Avant tout, quelques précautions","Conclusion","Ce billet est le "," d'une série d'articles décrivant la fabrication d'une Machine Virtuelle (VM) de développement pour une équipe de dévelopeurs.","IBM developerworks","What's new in PHP 5.3 (","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new1\u002Findex.html","part 1","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new2\u002Findex.html?S_TACT=105AGX44&S_CMP=ART","part 2","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new3\u002Findex.html?S_TACT=105AGX44&S_CMP=ART","part 3","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new4\u002Findex.html?S_TACT=105AGX44&S_CMP=ART","part 4","J'ai séparé cette série en quatre volets.","Description du concept","PostgreSQL","MySQL","http:\u002F\u002Fwww.brandonsavage.net\u002Finstalling-php-5-3-on-ubuntu\u002F","PHP 5.3 phpinfo()","\u002Fblog\u002F2009\u002F09","Installation du système de base","deb ","Note:","http:\u002F\u002Flinuxhelp.blogspot.com\u002F2007\u002F05\u002Fusing-netselect-apt-tip-to-select.html","netselect-apt","experiments","procedure","introduction","Introduction","commencer","Commencer","configuration-clavier","Configuration clavier","configuration-réseau","Configuration réseau","démarer-le-réseau-par-défaut","Démarer le réseau par défaut","mapper-le-réseau","Mapper le réseau","installer-vim-mon-éditeur-favori","Installer VIM, mon éditeur favori","sassurer-que-sshd-de-openssh-est-au-démarrage","S'assurer que SSHd de OpenSSH est au démarrage","installer-apache2","Installer Apache2","installer-le-serveur-ftpd","Installer le serveur FTPd","rappels-de-base","Rappels de base","ressources","language-txt","cf","language-ini","builtin","class-name","(","\\","http:\u002F\u002Fwww.vmwhere.net\u002F","http:\u002F\u002Fgentoovm.com\u002F","http:\u002F\u002Fwww.gentoo.org\u002Fdoc\u002Fen\u002Fhandbook\u002F","http:\u002F\u002Fgentoo-wiki.com\u002FHOWTO_Subversion\u002F#Installation","http:\u002F\u002Fgentoo-wiki.com\u002FHOWTO_Apache2_with_subversion_SVN_and_DAV","2024-10-24T19:50:04.869Z")));