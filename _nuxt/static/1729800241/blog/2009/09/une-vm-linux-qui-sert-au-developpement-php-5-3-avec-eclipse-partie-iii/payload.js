__NUXT_JSONP__("/blog/2009/09/une-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W){return {data:[{},{},{},{canonical:x,content:{locale:s,title:"Une VM Linux qui sert au développement PHP 5.3 avec Eclipse - partie III",canonical:x,status:"publish",revising:t,migrateCode:t,migrateLinks:t,created:"2009-09-09",updated:"2013-03-29",tags:["linux","logiciel-libre","techniques","tutoriels"],categories:[],excerpt:n,toc:[{depth:o,text:y},{depth:o,text:u},{depth:o,text:z},{depth:o,text:A}],body:{type:p,children:[{type:b,tag:d,props:{},children:[{type:a,value:"Ce billet est le "},{type:b,tag:g,props:{},children:[{type:a,value:"troisième"}]},{type:a,value:" d'une série d'articles décrivant la fabrication d'une Machine Virtuelle (VM) de développement pour une équipe de dévelopeurs."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Cette partie couvrira l'installation de Apache et de PHP 5.3 (la dernière version depuis Juin 2009) qui offre beaucoup d'avancées. Je pense que c'est devenu le juste minimum a cause de ces nouvelles fonctionnalités. Voir articles faits par  "},{type:b,tag:k,props:{lang:l},children:[{type:a,value:B}]},{type:a,value:C},{type:b,tag:k,props:{lang:l},children:[{type:a,value:D},{type:b,tag:h,props:{href:E},children:[{type:a,value:F}]},{type:a,value:q},{type:b,tag:h,props:{href:G},children:[{type:a,value:H}]},{type:a,value:q},{type:b,tag:h,props:{href:I},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:h,props:{href:L},children:[{type:a,value:M}]},{type:a,value:N}]},{type:a,value:O}]},{type:a,value:c},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"J'ai séparé cette série en quatre volets."}]},{type:a,value:c},{type:b,tag:"ol",props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{to:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-i\u002F"},children:[{type:a,value:"Description du concept"}]}]},{type:a,value:"\nCe que je vais discuter dans cette série d'articles n'est pas nécessairement connu de tous. Je vais donc vulgariser un peu avant de commencer."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:b,tag:v,props:{to:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii\u002F"},children:[{type:a,value:"Installation du système"}]}]},{type:a,value:"\nJe donne ici mon secret de magicien avec quelques configurations que je considère importantes pour un environement d'hébergement web pour améliorer la sécruité (le strict minimum pour cette série d'articles. Je pourrai en faire un plus poussé plus tard)."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:u}]},{type:a,value:" (cet article)\nComment installer Apache 2.x avec le dernier cutting-edge PHP."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Installation de l'environnement de développement avec Eclipse PDT"}]},{type:a,value:" (à venir)\nLa magie se passe par là! Avec ce setup votre équipe pourra répliquer l'installation de développement a volonté."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:y}]},{type:a,value:c},{type:b,tag:P,props:{style:"background-color:#FFEEEE;border:1px solid #666600;color:#660000;margin:20px;padding:20px 30px;text-align:center;"},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Avertissement!  -  Changement environement:\n"}]},{type:a,value:"Faire des modifications avec Apache et PHP sur un serveur en production peut causer des problèmes sérieux!  Il est conseillé de planifier et de pratiquer le déploiement AVANT de l'appliquer dans un environnement de production. Vous aurez été avertis!"}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:"Varia:"}]},{type:a,value:c},{type:b,tag:P,props:{},children:[{type:a,value:c},{type:b,tag:Q,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Désinstallez toutes les instances de PHP que vous avez installé. Il est recommandé d'avoir la version stable pour un environement de production et que l'environement de développement réflète la production."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Dans mes environements de travail j'ai choisi d'utiliser "},{type:b,tag:g,props:{},children:[{type:a,value:"Debian Linux (stable)"}]},{type:a,value:" courrant.  J'ai déjà utilisé d'autres distributions Linux pour des serveurs mais ça dépasse l'objectif de cet article."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Chaque ligne de commande commence soit par \"$\" (dollar sign)  ou \"#\" (hash mark). Le # signifie que vous entrez la commande en tant que "},{type:b,tag:g,props:{},children:[{type:a,value:p}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Le retour de chariot est illustré par un anti-slash \"\\\"  car je veut éviter de changer la largeur du billet! Vous pouvez simplement tout coller sur une ligne."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:u}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:w}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"1 Installer Apache"}]},{type:a,value:"\nLa première étape est d'installer Apache. Il est possible de le faire avec plusieurs autres serveurs (lighttpd par exemple) mais je ne l'utilise pas (lighttpd) pour autre chose que du caching statique ou du Proxying. Alors je ne couvrirai pas comment faire. "},{type:b,tag:h,props:{href:"http:\u002F\u002Fwww.howtoforge.com\u002Flighttpd_mysql_php_debian_etch"},children:[{type:a,value:"Cet article le fait"}]},{type:a,value:", par contre.\n"},{type:b,tag:d,props:{},children:[{type:a,value:"Cette commande devrait faire le travail."}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# apt-get install apache2 apache2-mpm-prefork apache2-prefork-dev \\\napache2-utils apache2.2-common"}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"2. Installer MySQL et\u002Fou PostgreSQL"}]},{type:a,value:"\nL'engin de base de donnée utilisé est le choix de chacun. Je suis personnellement habitué avec MySQL mais pouvoir avoir les deux peut être utile.\n"},{type:b,tag:m,props:{},children:[{type:a,value:R}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# apt-get install postgresql-8.3 postgresql-client-8.3 \\\npostgresql-client-common postgresql-common postgresql-server-dev-8.3"}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:S}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# apt-get install mysql-client mysql-client-5.0    mysql-common \\\nmysql-server mysql-server-5.0 mysql-server-core-5.0"}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:"3. Installer les librairies requises"}]},{type:a,value:"\nPHP en tant que tel est facile a configurer mais les librairies externes font que c'est plus compliqué... malheureusement.  Ce qui est bien c'est qu'avec Debian la documentation est entretenue fréquemment et il est facile de se reprendre.\n"},{type:b,tag:d,props:{},children:[{type:a,value:"Plusieurs heures peuvent être prises pour simplement préparer la commande \"configure\".  Avec ces notes vous devriez vous en sortir pas pire :)"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Voici les packages que Debian fournit pour ce que PHP demande, comme ça vous pourrez éviter d'installer arbitrairement plusieurs dizaines de paquets!"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# apt-get install libtidy-dev curl libcurl4-openssl-dev libcurl3 \\\nlibcurl3-gnutls zlib1g zlib1g-dev libxslt1-dev libzip-dev libzip1 \\\nlibxml2 libsnmp-base libsnmp15 libxml2-dev libsnmp-dev libjpeg62 \\\nlibjpeg62-dev libpng12-0 libpng12-dev zlib1g zlib1g-dev libfreetype6 \\\nlibfreetype6-dev libbz2-dev libxpm-dev libmcrypt-dev libmcrypt4"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Note"}]},{type:a,value:":  libxpm4-dev proposé dans "},{type:b,tag:h,props:{href:T},children:[{type:a,value:"ma source d'information"}]},{type:a,value:" n'est pas trouvé dans Debian Lenny mis a jour le 2009-09-09 j'ai donc rectifié (pour libxpm-dev) la commande ci-haut."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"4. Télécharger le code source de PHP"}]},{type:a,value:"\nVisiter "},{type:b,tag:h,props:{href:"http:\u002F\u002Fwww.php.net\u002F"},children:[{type:a,value:"http:\u002F\u002Fwww.php.net"}]},{type:a,value:" et télécharger la version désirée. Actuellement, la version production est la 5.3\n"},{type:b,tag:d,props:{},children:[{type:a,value:"Personnellement je recommande d'avoir les fichiers de compilation dans \u002Fusr\u002Fsrc quoi que j'ai pas la conaissance de la science infuse ;)"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# cd \u002Fusr\u002Fsrc\u002F\n# wget http:\u002F\u002Fus3.php.net\u002Fget\u002Fphp-5.3.0.tar.gz\u002Ffrom\u002Fthis\u002Fmirror\n# tar xvfz php-5-3-0.tar.gz\n# cd php-5.3"}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"5. La commande Configure."}]},{type:a,value:"\nLa commande configure peut etre difficile a configurer surtout avec les librairies qu'on veut généralement mettre... généralement une certaine mesure du minimum.\n"},{type:b,tag:d,props:{},children:[{type:a,value:"Personnellement. Je recommande de faire la commande dans un fichier et de l'exécuter par la suite."}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# vi configure.sh\n .\u002Fconfigure --with-apxs2=\u002Fusr\u002Fbin\u002Fapxs2 \\\n   --with-tidy=\u002Fusr --with-curl=\u002Fusr\u002Fbin --with-curlwrappers \\\n   --with-openssl-dir=\u002Fusr --with-zlib-dir=\u002Fusr --enable-mbstring \\\n   --with-xpm-dir=\u002Fusr --with-xsl=\u002Fusr --with-ldap --with-xmlrpc \\\n   --with-iconv-dir=\u002Fusr --with-snmp=\u002Fusr --enable-exif --enable-calendar \\\n   --with-bz2=\u002Fusr --with-mcrypt=\u002Fusr --with-gd --with-jpeg-dir=\u002Fusr \\\n   --with-png-dir=\u002Fusr --with-zlib-dir=\u002Fusr --with-freetype-dir=\u002Fusr \\\n   --enable-mbstring --enable-zip --with-pear"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Je suggère d'ajouter les commande ci bas au configure plus bas en fonction de votre choix de gestionnaire de base de donnée."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:R}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"--with-pdo-pgsql=\u002Fusr"}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:S}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:" --with-pdo-mysql=\u002Fusr --with-mysqli=\u002Fusr\u002Fbin\u002Fmysql_config --with-mysql=\u002Fusr"}]},{type:a,value:"\nSortir avec :wq puis exécuter le script.\n"},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# \u002Fbin\u002Fbash .\u002Fconfigure.sh"}]},{type:a,value:"\nL'écran devrait bouger beaucoup... généralement dans la doc on conseille ici d'aller prendre un café!\n"},{type:b,tag:d,props:{},children:[{type:a,value:"... Si tout va bien tout devrait terminer par quelque chose qui ressemble à \"Thanks for using php\". Sinon.... je conseille ma "},{type:b,tag:v,props:{to:"\u002Fblog\u002F2009\u002F08\u002Fprocessus-pour-regler-un-probleme-avec-un-ordinateur\u002F"},children:[{type:a,value:"solution aux problèmes numéro un"}]},{type:a,value:". ;)"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Faut pas s'en faire. Généralement c'est de tenter avec \""},{type:b,tag:g,props:{},children:[{type:a,value:"apt-cache search"}]},{type:a,value:"\" et \""},{type:b,tag:g,props:{},children:[{type:a,value:"apt-get install"}]},{type:a,value:"\" le nom de la librairie manquante."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"6. Make et Make Install"}]},{type:a,value:"\nPour l'installer. Maintenant que PHP est \"configure\"-é  il faut le compiler et l'installer avec make.\n"},{type:b,tag:d,props:{},children:[{type:a,value:"La commande est bien simple."}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# make"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Beaucoup de sortie ici aussi. Ça risque même d'être plus long dépendamment de la force du processeur disponible.  C'est le temps de prendre une marche, encore."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Une fois que tout est terminé avec make, vous pouvez faire, accessoirement un \"make test\"."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"La dernière étape est de faire le \"install\""}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# make -i install"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Pourquoi le -i? Parceque Ubuntu\u002FDebian risque d'avertir pour certaines erreurs a cause de la différence d'installation d'Apache de Debian\u002FUbuntu, nous le ferons nous même a bras plus loin dans ce document."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"7. Ajouter le module PHP dans Apache"}]},{type:a,value:"\nIl faut ajouter le module dans Apache pour qu'il puisse interpreter... c'est logique. Étant donné que la commande make -i a surement fait son travail (sous Debian), nous devons nous assurer que tout est en ordre dans la configuration d'Apache.\n"},{type:b,tag:d,props:{},children:[{type:a,value:"Premièrement, copier la librairie compilée:"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# updatedb\n# locate libphp5\n...\n\u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5.so\n\u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.la\n\u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.so\n...\n# cp \u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.so \u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5_3.so"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Je commencer par mettre a jour la base de donnée \"locate\", ensuite je cherche où est disponible la librairie, puis ensuite j'utilise \"cp\" pour déplacer sous un autre nom la librairie."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Ensuite,  dans le dossier:"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# cd \u002Fetc\u002Fapache2\u002Fmods-available"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Créez un nouveau fichier appelé php5.load et copiez-y le contenu suivant:"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"LoadModule php5_module \u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5_3.so"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Enregistrer le fichier. Ensuite créez un fichier appelé php5.conf et collez-y ce contenu:"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"AddType application\u002Fx-httpd-php .php .phtml .php3\nAddType application\u002Fx-httpd-php-source .phps"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"On est prêts! Il faut le charger dans Apache:"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"# a2enmod php5\nEnabling module php5.\nRun \"\u002Fetc\u002Finit.d\u002Fapache2 restart\" to activate new configuration!\n# invoke-rc.d apache2 restart\n* Restarting web server apache2\n...waiting    ...done."}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:"8. Tester l'installation"}]},{type:a,value:"\nC'est assez simple rendus là.\n"},{type:b,tag:d,props:{},children:[{type:a,value:"On commence par le binaire en ligne de commande:"}]},{type:a,value:c},{type:b,tag:e,props:{lang:f},children:[{type:a,value:"$ php -v\nPHP 5.3.0 (cli) (built: Aug  17 2009 19:08:32)\nCopyright (c) 1997-2009 The PHP Group\nZend Engine v2.3.0, Copyright (c) 1998-2009 Zend Technologies"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Tout va bien!"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Ensuite, voir un phpinfo() dans le docroot. (Généralement \u002Fvar\u002Fwww\u002Findex.php)."}]},{type:a,value:c},{type:b,tag:e,props:{lang:"php"},children:[{type:a,value:"\u003C ?php\n  phpinfo();\n?\u003E"}]},{type:a,value:c},{type:b,tag:"img",props:{className:["size-full","wp-image-1113"],style:"border:none;",title:U,src:"https:\u002F\u002Frenoirb.github.io\u002Fsite-assets\u002Fassets\u002Fcontent\u002Fblog\u002F2009\u002F09\u002Fphpinfo_php5_3.png",alt:U,width:612,height:429},children:[]},{type:a,value:c},{type:b,tag:r,props:{},children:[{type:a,value:z}]},{type:a,value:"\nJe crois avoir bien réussi mon interprétation et ma traduction de l'article que j'ai utilisé. J'y ai ajouté mon grain de sel et rectifié ce qui a marché pour moi. Je vous conseille de documenter pour vos propres besoins ce que vous faites, on sait jamais quand on a besoin de refaire ce qu'on a déjà fait !\n"},{type:b,tag:r,props:{},children:[{type:a,value:A}]},{type:a,value:c},{type:b,tag:Q,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:b,tag:h,props:{lang:l,href:T},children:[{type:a,value:"BrandonSavage.net : Installing PHP 5.3 on Ubuntu"}]},{type:a,value:w}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:g,props:{},children:[{type:b,tag:h,props:{href:"http:\u002F\u002Fwww.php-experts.org\u002Fdeveloppement-web\u002F5-plugins-indispensables-pour-coder-en-php-avec-lide-eclipse-22"},children:[{type:a,value:"5 plugins indispensables pour coder en PHP avec l'IDE Eclipse"}]}]},{type:b,tag:"br",props:{},children:[]},{type:a,value:"Un article que j'ai beaucoup apprécié car il mentionne ses propres plugins et j'ai cru bon les ajouter ici."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:k,props:{lang:l},children:[{type:a,value:B}]},{type:a,value:C},{type:b,tag:k,props:{lang:l},children:[{type:a,value:D},{type:b,tag:h,props:{href:E},children:[{type:a,value:F}]},{type:a,value:q},{type:b,tag:h,props:{href:G},children:[{type:a,value:H}]},{type:a,value:q},{type:b,tag:h,props:{href:I},children:[{type:a,value:J}]},{type:a,value:K},{type:b,tag:h,props:{href:L},children:[{type:a,value:M}]},{type:a,value:N}]},{type:a,value:O}]},{type:a,value:c},{type:b,tag:g,props:{},children:[{type:a,value:w}]}]}]},text:"---\nlocale: fr-CA\ntitle: Une VM Linux qui sert au développement PHP 5.3 avec Eclipse - partie III\ncanonical: \u003E-\n  https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii\u002F\nstatus: publish\nrevising: true\nmigrateCode: true\nmigrateLinks: true\ncreated: '2009-09-09'\nupdated: '2013-03-29'\ntags:\n  - linux\n  - logiciel-libre\n  - techniques\n  - tutoriels\ncategories: []\nexcerpt: ''\n---\n\nCe billet est le \u003Cstrong\u003Etroisième\u003C\u002Fstrong\u003E d'une série d'articles décrivant la fabrication d'une Machine Virtuelle (VM) de développement pour une équipe de dévelopeurs.\n\nCette partie couvrira l'installation de Apache et de PHP 5.3 (la dernière version depuis Juin 2009) qui offre beaucoup d'avancées. Je pense que c'est devenu le juste minimum a cause de ces nouvelles fonctionnalités. Voir articles faits par  \u003Cspan lang=\"en\"\u003EIBM developerworks\u003C\u002Fspan\u003E \"\u003Cspan lang=\"en\"\u003EWhat's new in PHP 5.3 (\u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new1\u002Findex.html\"\u003Epart 1\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new2\u002Findex.html?S_TACT=105AGX44&S_CMP=ART\"\u003Epart 2\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new3\u002Findex.html?S_TACT=105AGX44&S_CMP=ART\"\u003Epart 3\u003C\u002Fa\u003E, and \u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new4\u002Findex.html?S_TACT=105AGX44&S_CMP=ART\"\u003Epart 4\u003C\u002Fa\u003E)\u003C\u002Fspan\u003E\".\n\n\n\u003C!--more--\u003E\n\nJ'ai séparé cette série en quatre volets.\n\u003Col\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ca href=\"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-i\u002F\"\u003EDescription du concept\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\nCe que je vais discuter dans cette série d'articles n'est pas nécessairement connu de tous. Je vais donc vulgariser un peu avant de commencer.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ca href=\"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii\u002F\"\u003EInstallation du système\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\nJe donne ici mon secret de magicien avec quelques configurations que je considère importantes pour un environement d'hébergement web pour améliorer la sécruité (le strict minimum pour cette série d'articles. Je pourrai en faire un plus poussé plus tard).\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003ECompilation de PHP 5.3\u003C\u002Fstrong\u003E (cet article)\nComment installer Apache 2.x avec le dernier cutting-edge PHP.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003EInstallation de l'environnement de développement avec Eclipse PDT\u003C\u002Fstrong\u003E (à venir)\nLa magie se passe par là! Avec ce setup votre équipe pourra répliquer l'installation de développement a volonté.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch3\u003EAvant tout, quelques précautions\u003C\u002Fh3\u003E\n\u003Cdiv style=\"background-color:#FFEEEE;border:1px solid #666600;color:#660000;margin:20px;padding:20px 30px;text-align:center;\"\u003E\u003Cstrong\u003EAvertissement!  -  Changement environement:\n\u003C\u002Fstrong\u003EFaire des modifications avec Apache et PHP sur un serveur en production peut causer des problèmes sérieux!  Il est conseillé de planifier et de pratiquer le déploiement AVANT de l'appliquer dans un environnement de production. Vous aurez été avertis!\u003C\u002Fdiv\u003E\n\u003Cstrong\u003EVaria:\u003C\u002Fstrong\u003E\n\u003Cdiv\u003E\n\u003Cul\u003E\n\u003Cli\u003EDésinstallez toutes les instances de PHP que vous avez installé. Il est recommandé d'avoir la version stable pour un environement de production et que l'environement de développement réflète la production.\u003C\u002Fli\u003E\n\u003Cli\u003EDans mes environements de travail j'ai choisi d'utiliser \u003Cstrong\u003EDebian Linux (stable)\u003C\u002Fstrong\u003E courrant.  J'ai déjà utilisé d'autres distributions Linux pour des serveurs mais ça dépasse l'objectif de cet article.\u003C\u002Fli\u003E\n\u003Cli\u003EChaque ligne de commande commence soit par \"$\" (dollar sign)  ou \"#\" (hash mark). Le # signifie que vous entrez la commande en tant que \u003Cstrong\u003Eroot\u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003ELe retour de chariot est illustré par un anti-slash \"\\\"  car je veut éviter de changer la largeur du billet! Vous pouvez simplement tout coller sur une ligne.\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003C\u002Fdiv\u003E\n\u003Ch3\u003ECompilation de PHP 5.3\u003C\u002Fh3\u003E\n\u003Cspan\u003E \u003C\u002Fspan\u003E\n\u003Ch4\u003E1 Installer Apache\u003C\u002Fh4\u003E\nLa première étape est d'installer Apache. Il est possible de le faire avec plusieurs autres serveurs (lighttpd par exemple) mais je ne l'utilise pas (lighttpd) pour autre chose que du caching statique ou du Proxying. Alors je ne couvrirai pas comment faire. \u003Ca href=\"http:\u002F\u002Fwww.howtoforge.com\u002Flighttpd_mysql_php_debian_etch\"\u003ECet article le fait\u003C\u002Fa\u003E, par contre.\n\nCette commande devrait faire le travail.\n\u003Cpre lang=\"bash\"\u003E# apt-get install apache2 apache2-mpm-prefork apache2-prefork-dev \\\napache2-utils apache2.2-common\u003C\u002Fpre\u003E\n\u003Ch4\u003E2. Installer MySQL et\u002Fou PostgreSQL\u003C\u002Fh4\u003E\nL'engin de base de donnée utilisé est le choix de chacun. Je suis personnellement habitué avec MySQL mais pouvoir avoir les deux peut être utile.\n\u003Ch5\u003EPostgreSQL\u003C\u002Fh5\u003E\n\u003Cpre lang=\"bash\"\u003E# apt-get install postgresql-8.3 postgresql-client-8.3 \\\npostgresql-client-common postgresql-common postgresql-server-dev-8.3\u003C\u002Fpre\u003E\n\u003Ch5\u003EMySQL\u003C\u002Fh5\u003E\n\u003Cpre lang=\"bash\"\u003E# apt-get install mysql-client mysql-client-5.0    mysql-common \\\nmysql-server mysql-server-5.0 mysql-server-core-5.0\u003C\u002Fpre\u003E\n\u003Ch5\u003E3. Installer les librairies requises\u003C\u002Fh5\u003E\nPHP en tant que tel est facile a configurer mais les librairies externes font que c'est plus compliqué... malheureusement.  Ce qui est bien c'est qu'avec Debian la documentation est entretenue fréquemment et il est facile de se reprendre.\n\nPlusieurs heures peuvent être prises pour simplement préparer la commande \"configure\".  Avec ces notes vous devriez vous en sortir pas pire :)\n\nVoici les packages que Debian fournit pour ce que PHP demande, comme ça vous pourrez éviter d'installer arbitrairement plusieurs dizaines de paquets!\n\u003Cpre lang=\"bash\"\u003E# apt-get install libtidy-dev curl libcurl4-openssl-dev libcurl3 \\\nlibcurl3-gnutls zlib1g zlib1g-dev libxslt1-dev libzip-dev libzip1 \\\nlibxml2 libsnmp-base libsnmp15 libxml2-dev libsnmp-dev libjpeg62 \\\nlibjpeg62-dev libpng12-0 libpng12-dev zlib1g zlib1g-dev libfreetype6 \\\nlibfreetype6-dev libbz2-dev libxpm-dev libmcrypt-dev libmcrypt4\u003C\u002Fpre\u003E\n\u003Cstrong\u003ENote\u003C\u002Fstrong\u003E:  libxpm4-dev proposé dans \u003Ca href=\"http:\u002F\u002Fwww.brandonsavage.net\u002Finstalling-php-5-3-on-ubuntu\u002F\"\u003Ema source d'information\u003C\u002Fa\u003E n'est pas trouvé dans Debian Lenny mis a jour le 2009-09-09 j'ai donc rectifié (pour libxpm-dev) la commande ci-haut.\n\u003Ch4\u003E4. Télécharger le code source de PHP\u003C\u002Fh4\u003E\nVisiter \u003Ca href=\"http:\u002F\u002Fwww.php.net\u002F\"\u003Ehttp:\u002F\u002Fwww.php.net\u003C\u002Fa\u003E et télécharger la version désirée. Actuellement, la version production est la 5.3\n\nPersonnellement je recommande d'avoir les fichiers de compilation dans \u002Fusr\u002Fsrc quoi que j'ai pas la conaissance de la science infuse ;)\n\u003Cpre lang=\"bash\"\u003E# cd \u002Fusr\u002Fsrc\u002F\n# wget http:\u002F\u002Fus3.php.net\u002Fget\u002Fphp-5.3.0.tar.gz\u002Ffrom\u002Fthis\u002Fmirror\n# tar xvfz php-5-3-0.tar.gz\n# cd php-5.3\u003C\u002Fpre\u003E\n\u003Ch4\u003E5. La commande Configure.\u003C\u002Fh4\u003E\nLa commande configure peut etre difficile a configurer surtout avec les librairies qu'on veut généralement mettre... généralement une certaine mesure du minimum.\n\nPersonnellement. Je recommande de faire la commande dans un fichier et de l'exécuter par la suite.\n\u003Cpre lang=\"bash\"\u003E# vi configure.sh\n .\u002Fconfigure --with-apxs2=\u002Fusr\u002Fbin\u002Fapxs2 \\\n   --with-tidy=\u002Fusr --with-curl=\u002Fusr\u002Fbin --with-curlwrappers \\\n   --with-openssl-dir=\u002Fusr --with-zlib-dir=\u002Fusr --enable-mbstring \\\n   --with-xpm-dir=\u002Fusr --with-xsl=\u002Fusr --with-ldap --with-xmlrpc \\\n   --with-iconv-dir=\u002Fusr --with-snmp=\u002Fusr --enable-exif --enable-calendar \\\n   --with-bz2=\u002Fusr --with-mcrypt=\u002Fusr --with-gd --with-jpeg-dir=\u002Fusr \\\n   --with-png-dir=\u002Fusr --with-zlib-dir=\u002Fusr --with-freetype-dir=\u002Fusr \\\n   --enable-mbstring --enable-zip --with-pear\u003C\u002Fpre\u003E\nJe suggère d'ajouter les commande ci bas au configure plus bas en fonction de votre choix de gestionnaire de base de donnée.\n\u003Ch5\u003EPostgreSQL\u003C\u002Fh5\u003E\n\u003Cpre lang=\"bash\"\u003E--with-pdo-pgsql=\u002Fusr\u003C\u002Fpre\u003E\n\u003Ch5\u003EMySQL\u003C\u002Fh5\u003E\n\u003Cpre lang=\"bash\"\u003E --with-pdo-mysql=\u002Fusr --with-mysqli=\u002Fusr\u002Fbin\u002Fmysql_config --with-mysql=\u002Fusr\u003C\u002Fpre\u003E\nSortir avec :wq puis exécuter le script.\n\u003Cpre lang=\"bash\"\u003E# \u002Fbin\u002Fbash .\u002Fconfigure.sh\u003C\u002Fpre\u003E\nL'écran devrait bouger beaucoup... généralement dans la doc on conseille ici d'aller prendre un café!\n\n... Si tout va bien tout devrait terminer par quelque chose qui ressemble à \"Thanks for using php\". Sinon.... je conseille ma \u003Ca href=\"\u002Fblog\u002F2009\u002F08\u002Fprocessus-pour-regler-un-probleme-avec-un-ordinateur\u002F\"\u003Esolution aux problèmes numéro un\u003C\u002Fa\u003E. ;)\n\nFaut pas s'en faire. Généralement c'est de tenter avec \"\u003Cstrong\u003Eapt-cache search\u003C\u002Fstrong\u003E\" et \"\u003Cstrong\u003Eapt-get install\u003C\u002Fstrong\u003E\" le nom de la librairie manquante.\n\u003Ch4\u003E6. Make et Make Install\u003C\u002Fh4\u003E\nPour l'installer. Maintenant que PHP est \"configure\"-é  il faut le compiler et l'installer avec make.\n\nLa commande est bien simple.\n\u003Cpre lang=\"bash\"\u003E# make\u003C\u002Fpre\u003E\nBeaucoup de sortie ici aussi. Ça risque même d'être plus long dépendamment de la force du processeur disponible.  C'est le temps de prendre une marche, encore.\n\nUne fois que tout est terminé avec make, vous pouvez faire, accessoirement un \"make test\".\n\nLa dernière étape est de faire le \"install\"\n\u003Cpre lang=\"bash\"\u003E# make -i install\u003C\u002Fpre\u003E\nPourquoi le -i? Parceque Ubuntu\u002FDebian risque d'avertir pour certaines erreurs a cause de la différence d'installation d'Apache de Debian\u002FUbuntu, nous le ferons nous même a bras plus loin dans ce document.\n\u003Ch4\u003E7. Ajouter le module PHP dans Apache\u003C\u002Fh4\u003E\nIl faut ajouter le module dans Apache pour qu'il puisse interpreter... c'est logique. Étant donné que la commande make -i a surement fait son travail (sous Debian), nous devons nous assurer que tout est en ordre dans la configuration d'Apache.\n\nPremièrement, copier la librairie compilée:\n\u003Cpre lang=\"bash\"\u003E# updatedb\n# locate libphp5\n...\n\u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5.so\n\u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.la\n\u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.so\n...\n# cp \u002Fusr\u002Fsrc\u002Fphp-5.3.0\u002Flibs\u002Flibphp5.so \u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5_3.so\u003C\u002Fpre\u003E\nJe commencer par mettre a jour la base de donnée \"locate\", ensuite je cherche où est disponible la librairie, puis ensuite j'utilise \"cp\" pour déplacer sous un autre nom la librairie.\n\nEnsuite,  dans le dossier:\n\u003Cpre lang=\"bash\"\u003E# cd \u002Fetc\u002Fapache2\u002Fmods-available\u003C\u002Fpre\u003E\nCréez un nouveau fichier appelé php5.load et copiez-y le contenu suivant:\n\u003Cpre lang=\"bash\"\u003ELoadModule php5_module \u002Fusr\u002Flib\u002Fapache2\u002Fmodules\u002Flibphp5_3.so\u003C\u002Fpre\u003E\nEnregistrer le fichier. Ensuite créez un fichier appelé php5.conf et collez-y ce contenu:\n\u003Cpre lang=\"bash\"\u003EAddType application\u002Fx-httpd-php .php .phtml .php3\nAddType application\u002Fx-httpd-php-source .phps\u003C\u002Fpre\u003E\nOn est prêts! Il faut le charger dans Apache:\n\u003Cpre lang=\"bash\"\u003E# a2enmod php5\nEnabling module php5.\nRun \"\u002Fetc\u002Finit.d\u002Fapache2 restart\" to activate new configuration!\n# invoke-rc.d apache2 restart\n* Restarting web server apache2\n...waiting    ...done.\u003C\u002Fpre\u003E\n\u003Ch4\u003E8. Tester l'installation\u003C\u002Fh4\u003E\nC'est assez simple rendus là.\n\nOn commence par le binaire en ligne de commande:\n\u003Cpre lang=\"bash\"\u003E$ php -v\nPHP 5.3.0 (cli) (built: Aug  17 2009 19:08:32)\nCopyright (c) 1997-2009 The PHP Group\nZend Engine v2.3.0, Copyright (c) 1998-2009 Zend Technologies\u003C\u002Fpre\u003E\nTout va bien!\n\nEnsuite, voir un phpinfo() dans le docroot. (Généralement \u002Fvar\u002Fwww\u002Findex.php).\n\u003Cpre lang=\"php\"\u003E\u003C ?php\n  phpinfo();\n?\u003E\u003C\u002Fpre\u003E\n\u003Cimg class=\"size-full wp-image-1113\" style=\"border:none;\" title=\"PHP 5.3 phpinfo()\" src=\"https:\u002F\u002Frenoirb.github.io\u002Fsite-assets\u002Fassets\u002Fcontent\u002Fblog\u002F2009\u002F09\u002Fphpinfo_php5_3.png\" alt=\"PHP 5.3 phpinfo()\" width=\"612\" height=\"429\" \u002F\u003E\n\u003Ch3\u003EConclusion\u003C\u002Fh3\u003E\nJe crois avoir bien réussi mon interprétation et ma traduction de l'article que j'ai utilisé. J'y ai ajouté mon grain de sel et rectifié ce qui a marché pour moi. Je vous conseille de documenter pour vos propres besoins ce que vous faites, on sait jamais quand on a besoin de refaire ce qu'on a déjà fait !\n\u003Ch3\u003ERéférences\u003C\u002Fh3\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ca lang=\"en\" href=\"http:\u002F\u002Fwww.brandonsavage.net\u002Finstalling-php-5-3-on-ubuntu\u002F\"\u003EBrandonSavage.net : Installing PHP 5.3 on Ubuntu\u003C\u002Fa\u003E \u003C\u002Fstrong\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cstrong\u003E\u003Ca href=\"http:\u002F\u002Fwww.php-experts.org\u002Fdeveloppement-web\u002F5-plugins-indispensables-pour-coder-en-php-avec-lide-eclipse-22\"\u003E5 plugins indispensables pour coder en PHP avec l'IDE Eclipse\u003C\u002Fa\u003E\u003C\u002Fstrong\u003E\u003Cbr \u002F\u003EUn article que j'ai beaucoup apprécié car il mentionne ses propres plugins et j'ai cru bon les ajouter ici.\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cspan lang=\"en\"\u003EIBM developerworks\u003C\u002Fspan\u003E \"\u003Cspan lang=\"en\"\u003EWhat's new in PHP 5.3 (\u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new1\u002Findex.html\"\u003Epart 1\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new2\u002Findex.html?S_TACT=105AGX44&S_CMP=ART\"\u003Epart 2\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new3\u002Findex.html?S_TACT=105AGX44&S_CMP=ART\"\u003Epart 3\u003C\u002Fa\u003E, and \u003Ca href=\"http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new4\u002Findex.html?S_TACT=105AGX44&S_CMP=ART\"\u003Epart 4\u003C\u002Fa\u003E)\u003C\u002Fspan\u003E\".\u003C\u002Fli\u003E\n\u003Cstrong\u003E \u003C\u002Fstrong\u003E\u003C\u002Ful\u003E\n",dir:"\u002Fblog\u002F2009\u002F09",path:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii",extension:".md",slug:V,createdAt:W,updatedAt:W,category:n},coverImage:{toc:[],body:{type:p,children:[]},text:n},month:"09",next:{locale:s,title:"Je préfère le pingouin! Design cool de Tee-Shirt",path:"\u002Fblog\u002F2009\u002F09\u002Fje-prefere-le-pingouin-design-cool-de-tee-shirt",slug:"je-prefere-le-pingouin-design-cool-de-tee-shirt"},preamble:{toc:[],body:{type:p,children:[]},text:n},prettyfiedTemporalDate:{prettified:"mercredi 9 septembre 2009",temporalDate:"2009-09-09"},prev:{locale:s,title:"Une VM Linux qui sert au développement PHP 5.3 avec Eclipse - partie II",path:"\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii",slug:"une-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-ii"},slug:V,year:"2009"}],fetch:[],mutations:void 0}}("text","element","\n","p","pre","bash","strong","a","li","h4","span","en","h5","",3,"root",", ","h3","fr-CA",true,"Compilation de PHP 5.3","nuxt-link"," ","https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F09\u002Fune-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii\u002F","Avant tout, quelques précautions","Conclusion","Références","IBM developerworks"," \"","What's new in PHP 5.3 (","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new1\u002Findex.html","part 1","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new2\u002Findex.html?S_TACT=105AGX44&S_CMP=ART","part 2","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new3\u002Findex.html?S_TACT=105AGX44&S_CMP=ART","part 3",", and ","http:\u002F\u002Fwww.ibm.com\u002Fdeveloperworks\u002Fopensource\u002Flibrary\u002Fos-php-5.3new4\u002Findex.html?S_TACT=105AGX44&S_CMP=ART","part 4",")","\".","div","ul","PostgreSQL","MySQL","http:\u002F\u002Fwww.brandonsavage.net\u002Finstalling-php-5-3-on-ubuntu\u002F","PHP 5.3 phpinfo()","une-vm-linux-qui-sert-au-developpement-php-5-3-avec-eclipse-partie-iii","2024-10-24T19:50:04.892Z")));