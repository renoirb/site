__NUXT_JSONP__("/blog/2007/05/montage-de-dossiers-distants-via-sshfs", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af){return {data:[{},{},{},{canonical:x,content:{title:"Montage de dossiers distants via SSHFS",locale:y,created:"2007-05-31T00:00:00.000Z",updated:"2013-03-27T00:00:00.000Z",canonical:x,status:"publish",revising:G,migrateLinks:G,migrateImages:z,gallery:z,caption:z,categories:[H],tags:["linux"],excerpt:A,waybackMachineSnapshots:[{orig:"http:\u002F\u002Fubuntu.wordpress.com\u002F2005\u002F10\u002F28\u002Fhow-to-mount-a-remote-ssh-filesystem-using-sshfs\u002F",snapshots:[I]},{orig:x,snapshots:["https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20090903051709\u002Fhttps:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F05\u002Fmontage-de-dossiers-distants-via-sshfs\u002F"]}],toc:[{id:J,depth:K,text:L},{id:M,depth:N,text:O},{id:P,depth:K,text:Q},{id:R,depth:N,text:S}],body:{type:B,children:[{type:b,tag:d,props:{},children:[{type:a,value:"J’ai souvent vanté les mérites du SSHFS mais je n’ai jamais réellement expliqué\nle concept du partage à-la-Windows... mais sécuritaire!"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Le concept est simple. Un dossier de mount points sur diverses machines dans le\nlocal en Linux. Disons que votre dossier ~ est dans \u002Fhome\u002Fusername, ajoutez vos\nserveurs, par exemple, dans un dossier \"Drives\"."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Attention aux non initiés en Linux... c’est un howto très technique!"}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Le résultat de cette procédure vous permettra d’accéder a des fichiers sur une\nautre machine comme si vous y étiez. Ce n’est pas un système qui synchronise les\nfichiers sur plus d’une machine. Ce n'est pas une copie de sauvegarde."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:T,props:{id:J},children:[{type:b,tag:j,props:{href:"#assomptions",ariaHidden:q,tabIndex:r},children:[{type:b,tag:e,props:{className:[s,t]},children:[]}]},{type:a,value:L}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"J’assumerai que vous avez deux machines Linux."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Pour la procédure, j’utiliserai les informations suivantes."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Veuillez ajuster pour votre situation:"}]},{type:a,value:c},{type:b,tag:"dl",props:{},children:[{type:a,value:C},{type:b,tag:D,props:{},children:[{type:a,value:"Utilistaeur distant"}]},{type:a,value:u},{type:b,tag:v,props:{},children:[{type:a,value:"sa-storage"}]},{type:a,value:C},{type:b,tag:D,props:{},children:[{type:a,value:"Hôte Linux qui va stocker les fichiers"}]},{type:a,value:u},{type:b,tag:v,props:{},children:[{type:a,value:"192.168.0.2"}]},{type:a,value:C},{type:b,tag:D,props:{},children:[{type:a,value:"Chemin pour fichiers sur l’hôte Linux"}]},{type:a,value:u},{type:b,tag:v,props:{},children:[{type:a,value:"\u002Fhome\u002Fsa-storage\u002FDrives\u002Fweb1"}]},{type:a,value:u},{type:b,tag:v,props:{},children:[{type:a,value:"\u002Fhome\u002Fsa-storage\u002FDrives\u002Fweb2"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:U,props:{id:M},children:[{type:b,tag:j,props:{href:"#consid%C3%A9rations",ariaHidden:q,tabIndex:r},children:[{type:b,tag:e,props:{className:[s,t]},children:[]}]},{type:a,value:O}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Je suis prends pour acquis les détails suivants;"}]},{type:a,value:c},{type:b,tag:V,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:"Le caractère "},{type:b,tag:h,props:{},children:[{type:a,value:W}]},{type:a,value:" est un caractère qui de décrire le chemin vers le dossier\nMaison de l’utilisateur courrant, si vous êtes connecté en tant que \"bob\", le\ndossier sera "},{type:b,tag:h,props:{},children:[{type:a,value:"\u002Fhome\u002Fbob"}]}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:"J’ai utilisé Ubuntu, le nom du paquet peut changer et le gestionnaire de\npaquet aussi, mais le reste devrait demeurer la même chose."}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:"Synonymes: "},{type:b,tag:E,props:{},children:[{type:a,value:"fusermount"}]},{type:a,value:", "},{type:b,tag:E,props:{},children:[{type:a,value:"sshfs"}]}]},{type:a,value:c},{type:b,tag:k,props:{},children:[{type:a,value:"La commande "},{type:b,tag:g,props:{},children:[{type:a,value:X}]},{type:a,value:Y},{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:" est un raccourci clavier pour faire\nexécuter une commande, on pourrait trouver "},{type:b,tag:g,props:{},children:[{type:a,value:"RUN"}]},{type:a,value:" dans le menu aussi."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:T,props:{id:P},children:[{type:b,tag:j,props:{href:"#prod%C3%A9cure",ariaHidden:q,tabIndex:r},children:[{type:b,tag:e,props:{className:[s,t]},children:[]}]},{type:a,value:Q}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Sur notre machine locale, si dans le Terminal."}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:F}]},{type:a,value:" ~\u002FDrives\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Ajoutez y tout vos hosts que vous voulez... Je ne prendrai pas d’exemple réel\nétant donné qu’on a pas nécessairement tous les même droits partout sur les\nmachines et vm. Personnellement, je l’ai fait sur les serveurs web1 et web2 deux\nserveurs redondants d’hébergement de services web. J’ai donc créé ~\u002FDrives\u002Fweb1\net ~\u002FDrives\u002Fweb2"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:F}]},{type:a,value:" ~\u002FDrives\u002Fweb1\n"},{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:F}]},{type:a,value:" ~\u002FDrives\u002Fweb2\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Dans mon exemple, sur ces deux machines j’ai mon propre usager et j’ai ajouté\nmon login dans le ~\u002F.ssh\u002Fauthorized_keys de mon homedir. Si vous avez pas ça,\nfaites vous le en suivant le howto ici:\n"},{type:b,tag:"nuxt-link",props:{title:"SSH sans mot de passe",to:"\u002Fblog\u002F2007\u002F04\u002Flogin-ssh-sans-mot-de-passe"},children:[{type:a,value:"login ssh sans mot de passe"}]},{type:a,value:".\nVous pourrez tester en faisant $ ssh hostname il devrait se loguer tout seul. Si\nvous ne faites pas cela, vous serez oubligé d’entrer vos mots de passes de\nTOUTES vos machines... A chaque login. Pour continuer, on doit aussi installer\nle paquetage sshfs"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:_}]},{type:a,value:w},{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:"apt-get"}]},{type:a,value:w},{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:"install"}]},{type:a,value:" sshfs\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Pour avoir le droit de monter les hôtes en sshfs, vous devez vous autoriser\nl’exécution du mount sinon vous êtes condamné a entrer le mot de passe root a\nchaque login. Vous pouvez aller via: "},{type:b,tag:g,props:{className:[$]},children:[{type:a,value:"System "},{type:b,tag:g,props:{},children:[{type:a,value:"Administration\n"},{type:b,tag:g,props:{},children:[{type:a,value:"Users"}]}]}]},{type:a,value:" and Groups Puis ajoutez dans Manage groups (ou\nquelque chose qui parle de ça) puis trouvez le groupe fuse puis dans Properties\najoutez votre propre login qui est probablement non coché. Aussi: Une manière\nalternative de s’ajouter le droit fuse, serait de faire en shell"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:_}]},{type:a,value:w},{type:b,tag:e,props:{className:[f,i]},children:[{type:a,value:"usermod"}]},{type:a,value:w},{type:b,tag:e,props:{className:[f,aa,ab]},children:[{type:a,value:"-G"}]},{type:a,value:" fuse username\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Finalement... l’auto exécution. Il faut aller dans "},{type:b,tag:g,props:{className:[$]},children:[{type:a,value:"System\n"},{type:b,tag:g,props:{},children:[{type:a,value:"Préférences "},{type:b,tag:g,props:{},children:[{type:a,value:"Sessions"}]}]}]},{type:a,value:" puis ajouter un Startup\nprograms avec la commande suivante:"}]},{type:a,value:c},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,p]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"sshfs sa-storage@192.168.0.2:\u002Fhome\u002Fsa-storage\u002FDrives\u002Fweb1 "},{type:b,tag:e,props:{className:[f,ac]},children:[{type:a,value:ad}]},{type:a,value:"\n      ~\u002FDrives\u002Fweb1 "},{type:b,tag:e,props:{className:[f,ac]},children:[{type:a,value:ad}]},{type:a,value:"\n      "},{type:b,tag:e,props:{className:[f,aa,ab]},children:[{type:a,value:"-o"}]},{type:a,value:" reconnect\n"}]}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Vous devinerez comment écrire correctement la commande en l’appliquant a vos\nbesoins. Oubliez pas de faire sauvegarder votre session GNOME,\n"},{type:b,tag:g,props:{},children:[{type:a,value:X}]},{type:a,value:Y},{type:b,tag:g,props:{},children:[{type:a,value:Z}]},{type:a,value:" puis tapez "},{type:b,tag:h,props:{},children:[{type:a,value:"gnome-session-save"}]},{type:a,value:" puis enter."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Déconnectez et re-connectez-vous. En naviguant dans votre dossier "},{type:b,tag:E,props:{},children:[{type:a,value:"Maison"}]},{type:a,value:"\n("},{type:b,tag:h,props:{},children:[{type:a,value:W}]},{type:a,value:"), dans le dossier "},{type:b,tag:h,props:{},children:[{type:a,value:"~\u002FDrives\u002F"}]},{type:a,value:" vous avez maintenant vos dossiers sur toutes\nvos machines distantes... localement!"}]},{type:a,value:c},{type:b,tag:U,props:{id:R},children:[{type:b,tag:j,props:{href:"#r%C3%A9f%C3%A9rences",ariaHidden:q,tabIndex:r},children:[{type:b,tag:e,props:{className:[s,t]},children:[]}]},{type:a,value:S}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Mon expérience... et un peu de;"}]},{type:a,value:c},{type:b,tag:V,props:{},children:[{type:a,value:c},{type:b,tag:k,props:{},children:[{type:b,tag:j,props:{href:I,rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"How to mount a remote ssh filesystem using sshfs"}]},{type:a,value:" October 28, 2005"}]}]},{type:a,value:c}]}]},text:"---\ntitle: Montage de dossiers distants via SSHFS\nlocale: fr-CA\ncreated: 2007-05-31\nupdated: 2013-03-27\ncanonical: \u003E-\n  https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F05\u002Fmontage-de-dossiers-distants-via-sshfs\u002F\nstatus: publish\nrevising: true\nmigrateLinks: true\nmigrateImages: false\ngallery: false\ncaption: false\ncategories:\n  - procedure\ntags:\n  - linux\nexcerpt: ''\nwaybackMachineSnapshots:\n- orig: http:\u002F\u002Fubuntu.wordpress.com\u002F2005\u002F10\u002F28\u002Fhow-to-mount-a-remote-ssh-filesystem-using-sshfs\u002F\n  snapshots:\n  - https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20070324014306\u002Fhttp:\u002F\u002Fubuntu.wordpress.com\u002F2005\u002F10\u002F28\u002Fhow-to-mount-a-remote-ssh-filesystem-using-sshfs\u002F\n- orig: https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F05\u002Fmontage-de-dossiers-distants-via-sshfs\u002F\n  snapshots:\n  - https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20090903051709\u002Fhttps:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F05\u002Fmontage-de-dossiers-distants-via-sshfs\u002F\n---\n\nJ’ai souvent vanté les mérites du SSHFS mais je n’ai jamais réellement expliqué\nle concept du partage à-la-Windows... mais sécuritaire!\n\nLe concept est simple. Un dossier de mount points sur diverses machines dans le\nlocal en Linux. Disons que votre dossier ~ est dans \u002Fhome\u002Fusername, ajoutez vos\nserveurs, par exemple, dans un dossier \"Drives\".\n\nAttention aux non initiés en Linux... c’est un howto très technique!\n\nLe résultat de cette procédure vous permettra d’accéder a des fichiers sur une\nautre machine comme si vous y étiez. Ce n’est pas un système qui synchronise les\nfichiers sur plus d’une machine. Ce n'est pas une copie de sauvegarde.\n\n\u003C!--more--\u003E\n\n## Assomptions\n\nJ’assumerai que vous avez deux machines Linux.\n\nPour la procédure, j’utiliserai les informations suivantes.\n\nVeuillez ajuster pour votre situation:\n\n\u003Cdl\u003E\n  \u003Cdt\u003EUtilistaeur distant\u003C\u002Fdt\u003E\n    \u003Cdd\u003Esa-storage\u003C\u002Fdd\u003E\n  \u003Cdt\u003EHôte Linux qui va stocker les fichiers\u003C\u002Fdt\u003E\n    \u003Cdd\u003E192.168.0.2\u003C\u002Fdd\u003E\n  \u003Cdt\u003EChemin pour fichiers sur l’hôte Linux\u003C\u002Fdt\u003E\n    \u003Cdd\u003E\u002Fhome\u002Fsa-storage\u002FDrives\u002Fweb1\u003C\u002Fdd\u003E\n    \u003Cdd\u003E\u002Fhome\u002Fsa-storage\u002FDrives\u002Fweb2\u003C\u002Fdd\u003E\n\u003C\u002Fdl\u003E\n\n### Considérations\n\nJe suis prends pour acquis les détails suivants;\n\n- Le caractère `~` est un caractère qui de décrire le chemin vers le dossier\n  Maison de l’utilisateur courrant, si vous êtes connecté en tant que \"bob\", le\n  dossier sera `\u002Fhome\u002Fbob`\n- J’ai utilisé Ubuntu, le nom du paquet peut changer et le gestionnaire de\n  paquet aussi, mais le reste devrait demeurer la même chose.\n- Synonymes: _fusermount_, _sshfs_\n- La commande \u003Ckbd\u003EALT\u003C\u002Fkbd\u003E+\u003Ckbd\u003EF2\u003C\u002Fkbd\u003E est un raccourci clavier pour faire\n  exécuter une commande, on pourrait trouver \u003Ckbd\u003ERUN\u003C\u002Fkbd\u003E dans le menu aussi.\n\n## Prodécure\n\nSur notre machine locale, si dans le Terminal.\n\n```sh\nmkdir ~\u002FDrives\n```\n\nAjoutez y tout vos hosts que vous voulez... Je ne prendrai pas d’exemple réel\nétant donné qu’on a pas nécessairement tous les même droits partout sur les\nmachines et vm. Personnellement, je l’ai fait sur les serveurs web1 et web2 deux\nserveurs redondants d’hébergement de services web. J’ai donc créé ~\u002FDrives\u002Fweb1\net ~\u002FDrives\u002Fweb2\n\n```sh\nmkdir ~\u002FDrives\u002Fweb1\nmkdir ~\u002FDrives\u002Fweb2\n```\n\nDans mon exemple, sur ces deux machines j’ai mon propre usager et j’ai ajouté\nmon login dans le ~\u002F.ssh\u002Fauthorized_keys de mon homedir. Si vous avez pas ça,\nfaites vous le en suivant le howto ici:\n[login ssh sans mot de passe](\u002Fblog\u002F2007\u002F04\u002Flogin-ssh-sans-mot-de-passe 'SSH sans mot de passe').\nVous pourrez tester en faisant $ ssh hostname il devrait se loguer tout seul. Si\nvous ne faites pas cela, vous serez oubligé d’entrer vos mots de passes de\nTOUTES vos machines... A chaque login. Pour continuer, on doit aussi installer\nle paquetage sshfs\n\n```sh\nsudo apt-get install sshfs\n```\n\nPour avoir le droit de monter les hôtes en sshfs, vous devez vous autoriser\nl’exécution du mount sinon vous êtes condamné a entrer le mot de passe root a\nchaque login. Vous pouvez aller via: \u003Ckbd class=\"nav\"\u003ESystem \u003Ckbd\u003EAdministration\n\u003Ckbd\u003EUsers\u003C\u002Fkbd\u003E\u003C\u002Fkbd\u003E\u003C\u002Fkbd\u003E and Groups Puis ajoutez dans Manage groups (ou\nquelque chose qui parle de ça) puis trouvez le groupe fuse puis dans Properties\najoutez votre propre login qui est probablement non coché. Aussi: Une manière\nalternative de s’ajouter le droit fuse, serait de faire en shell\n\n```sh\nsudo usermod -G fuse username\n```\n\nFinalement... l’auto exécution. Il faut aller dans \u003Ckbd class=\"nav\"\u003ESystem\n\u003Ckbd\u003EPréférences \u003Ckbd\u003ESessions\u003C\u002Fkbd\u003E\u003C\u002Fkbd\u003E\u003C\u002Fkbd\u003E puis ajouter un Startup\nprograms avec la commande suivante:\n\n```sh\nsshfs sa-storage@192.168.0.2:\u002Fhome\u002Fsa-storage\u002FDrives\u002Fweb1 \\\n      ~\u002FDrives\u002Fweb1 \\\n      -o reconnect\n```\n\nVous devinerez comment écrire correctement la commande en l’appliquant a vos\nbesoins. Oubliez pas de faire sauvegarder votre session GNOME,\n\u003Ckbd\u003EALT\u003C\u002Fkbd\u003E+\u003Ckbd\u003EF2\u003C\u002Fkbd\u003E puis tapez `gnome-session-save` puis enter.\n\nDéconnectez et re-connectez-vous. En naviguant dans votre dossier _Maison_\n(`~`), dans le dossier `~\u002FDrives\u002F` vous avez maintenant vos dossiers sur toutes\nvos machines distantes... localement!\n\n### Références\n\nMon expérience... et un peu de;\n\n- [**How to mount a remote ssh filesystem using sshfs** October 28, 2005](https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20070324014306\u002Fhttp:\u002F\u002Fubuntu.wordpress.com\u002F2005\u002F10\u002F28\u002Fhow-to-mount-a-remote-ssh-filesystem-using-sshfs\u002F)\n",dir:"\u002Fblog\u002F2007\u002F05",path:"\u002Fblog\u002F2007\u002F05\u002Fmontage-de-dossiers-distants-via-sshfs",extension:".md",slug:ae,createdAt:af,updatedAt:af,category:H},coverImage:{toc:[],body:{type:B,children:[]},text:A},month:"05",next:{title:"Microsoft Internet Explorer 6, une mise-à-jour obligatoire, SVP.",locale:y,path:"\u002Fblog\u002F2007\u002F06\u002Finternet-explorer-6-un-upgrade-obligatoire-svp",slug:"internet-explorer-6-un-upgrade-obligatoire-svp"},preamble:{toc:[],body:{type:B,children:[]},text:A},prettyfiedTemporalDate:{prettified:"jeudi 31 mai 2007",temporalDate:"2007-05-31"},prev:{title:"Conversion et resampling image",locale:y,path:"\u002Fblog\u002F2007\u002F02\u002Fconversion-et-resampling-image",slug:"conversion-et-resampling-image"},slug:ae,year:"2007"}],fetch:[],mutations:void 0}}("text","element","\n","p","span","token","kbd","code","function","a","li","div","nuxt-content-highlight","pre","language-sh","line-numbers","true",-1,"icon","icon-link","\n    ","dd"," ","https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F05\u002Fmontage-de-dossiers-distants-via-sshfs\u002F","fr-CA",false,"","root","\n  ","dt","em","mkdir",true,"procedure","https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20070324014306\u002Fhttp:\u002F\u002Fubuntu.wordpress.com\u002F2005\u002F10\u002F28\u002Fhow-to-mount-a-remote-ssh-filesystem-using-sshfs\u002F","assomptions",2,"Assomptions","considérations",3,"Considérations","prodécure","Prodécure","références","Références","h2","h3","ul","~","ALT","+","F2","sudo","nav","parameter","variable","punctuation","\\","montage-de-dossiers-distants-via-sshfs","2024-10-24T19:43:51.669Z")));