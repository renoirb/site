__NUXT_JSONP__("/blog/2009/08/un-firewall-simple-sous-linux-avec-ferm", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){return {data:[{},{},{},{canonical:n,content:{locale:h,title:"Un firewall simple sous Linux avec «Ferm»",canonical:n,status:"publish",revising:i,migrateCode:i,migrateLinks:i,created:"2009-08-19",updated:"2013-03-27",tags:["linux","securite","tutoriels","unix"],categories:[o],excerpt:j,toc:[{depth:k,text:p},{depth:k,text:q},{depth:k,text:r}],body:{type:l,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Attention: Article Technique!"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Dans le but de faire profiter la postérité et ma mémoire personnelle voici mon premier post d'une série d'articles spécialisée sur Linux."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ces articles proviennent de ma voûte documentaire professionnelle et personnelle."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Évidemment pour les publier ici je dois censurer les détails sensibles, vous me comprendrez (!)"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Le fait de les avoir dans le format Wiki Markup de Confluence... et les traduire ici demande du temps pour les reformatter pour mon blogue."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:p}]},{type:a,value:"\nD'autres articles technique (pour Debian Linux) seront aussi disponibles dans les prochaines semaines.\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Voici une liste de quelques uns que je compte publier:"}]},{type:a,value:c},{type:b,tag:s,props:{},children:[{type:a,value:d},{type:b,tag:e,props:{},children:[{type:a,value:"Monter une machine en SNMP v2c en lecture seule"}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:a,value:"Permettre des updates aux serveurs NTP a l'heure"}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:a,value:"Installer VMware server 2 sur Debian"}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:a,value:"Augumenter le niveau de sécurité pour Infra Publique sous Debian"}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:a,value:"Procédure configuration SYSLOG-NG vers un serveur de log"}]},{type:a,value:c}]},{type:a,value:"\nJ\n"},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:q}]},{type:a,value:"\nEn fait, sous Debian c'est pas très compliqué, on ajoute le paquet, puis on le configure comme mentionné plus bas.\n"},{type:b,tag:t,props:{lang:u},children:[{type:a,value:"# apt-get update\n# apt-get install ferm libnet-dns-perl perl iptables"}]},{type:a,value:"\nJ'ai fait une petite version qui permet d'utiliser des variables et mettre le code un peu plus clean (d'un point de vue programmeur).\n"},{type:b,tag:f,props:{},children:[{type:a,value:"Vous pouvez remplacer par ce code ci:"}]},{type:a,value:c},{type:b,tag:t,props:{lang:u},children:[{type:a,value:"# -*- shell-script -*-\n#\n#  Configuration file for ferm(1).\n#\n# vmware-mgmt = 8333\n# vmware-console = 902\n# ntop = 3000\n# ... ports ajoutes dans \u002Fetc\u002Fservices\n\n# Source http:\u002F\u002Fwww.krzywanski.net\u002Farchives\u002F90\n# Interfaces\n@def $DEV_LOCAL = lo;\n@def $DEV_LAN = (eth1 vmnet1 vmnet8);\n@def $DEV_INTERNET = eth0;\n\n# Ports\n@def $PORTS = (ntp name http https smtp);\n\n# Known IPs\n@def $SSH_ALLOWED = (69.159.234.55 192.168.2.1);\n@def $SSH_DYNDNS = @resolve((somehost.renoirboulanger.com someotherhost.somenetwork.net));\n\n# SSH Clients\n@def $SSH_CLIENTS = ($SSH_ALLOWED $SSH_DYNDNS);\n\ntable filter {\n    chain INPUT {\n        policy DROP;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n\n        # allow local packages\n        interface $DEV_LOCAL ACCEPT;\n        interface $DEV_LAN ACCEPT;\n\n        # allow ping from the administrator's network\n        interface $DEV_INTERNET saddr ($SSH_DYNDNS $SSH_ALLOWED) proto icmp icmp-type echo-request ACCEPT;\n\n        # respond to ping\n        proto icmp icmp-type echo-request ACCEPT;\n\n        # allow SSH connections\n        proto tcp dport 2522 ACCEPT;\n\n        proto tcp dport $PORTS ACCEPT;\n    }\n    chain OUTPUT {\n        policy ACCEPT;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n    }\n    chain FORWARD {\n        policy DROP;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n    }\n}"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Pour plus de détails a propos de la syntaxe, "},{type:b,tag:g,props:{href:"http:\u002F\u002Fferm.foo-projects.org\u002Fdownload\u002F2.0\u002Fferm.html"},children:[{type:a,value:"voir la documentation"}]},{type:a,value:"."}]},{type:a,value:c},{type:b,tag:m,props:{},children:[{type:a,value:r}]},{type:a,value:"\nJ'ai utilisé, entre autres ces ressources pour m'inspirer de ce mini-tutoriel\n"},{type:b,tag:s,props:{},children:[{type:a,value:d},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fdoc\u002Fmanuals\u002Fsecuring-debian-howto"},children:[{type:a,value:"Securing Debian HOWTO"}]}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.tldp.org\u002FHOWTO\u002FSecurity-HOWTO\u002F"},children:[{type:a,value:"Linux Security HOWTO"}]}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.cromwell-intl.com\u002Fsecurity\u002Fsecurity-firewall.html"},children:[{type:a,value:"Firewall Tools"}]}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fsecurity\u002F"},children:[{type:a,value:"Debian Security"}]}]},{type:a,value:d},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{href:"http:\u002F\u002Fwww.debian.org\u002Fdoc\u002Fdebian-policy\u002F"},children:[{type:a,value:"Debian Policies"}]}]},{type:a,value:c}]}]},text:"---\nlocale: fr-CA\ntitle: Un firewall simple sous Linux avec «Ferm»\ncanonical: \u003E-\n  https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F08\u002Fun-firewall-simple-sous-linux-avec-ferm\u002F\nstatus: publish\nrevising: true\nmigrateCode: true\nmigrateLinks: true\ncreated: '2009-08-19'\nupdated: '2013-03-27'\ntags:\n  - linux\n  - securite\n  - tutoriels\n  - unix\ncategories:\n  - tranche-de-vie\nexcerpt: ''\n---\n\nAttention: Article Technique!\n\nDans le but de faire profiter la postérité et ma mémoire personnelle voici mon premier post d'une série d'articles spécialisée sur Linux.\n\nCes articles proviennent de ma voûte documentaire professionnelle et personnelle.\n\nÉvidemment pour les publier ici je dois censurer les détails sensibles, vous me comprendrez (!)\n\nLe fait de les avoir dans le format Wiki Markup de Confluence... et les traduire ici demande du temps pour les reformatter pour mon blogue.\n\u003Ch2\u003ED'autres articles spécialisés Debian Linux\u003C\u002Fh2\u003E\nD'autres articles technique (pour Debian Linux) seront aussi disponibles dans les prochaines semaines.\n\nVoici une liste de quelques uns que je compte publier:\n\u003Col\u003E\n\t\u003Cli\u003EMonter une machine en SNMP v2c en lecture seule\u003C\u002Fli\u003E\n\t\u003Cli\u003EPermettre des updates aux serveurs NTP a l'heure\u003C\u002Fli\u003E\n\t\u003Cli\u003EInstaller VMware server 2 sur Debian\u003C\u002Fli\u003E\n\t\u003Cli\u003EAugumenter le niveau de sécurité pour Infra Publique sous Debian\u003C\u002Fli\u003E\n\t\u003Cli\u003EProcédure configuration SYSLOG-NG vers un serveur de log\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\nJ\n\n\u003C!--more--\u003E\n\u003Ch2\u003EInstaller et configurer\u003C\u002Fh2\u003E\nEn fait, sous Debian c'est pas très compliqué, on ajoute le paquet, puis on le configure comme mentionné plus bas.\n\u003Cpre lang=\"bash\"\u003E# apt-get update\n# apt-get install ferm libnet-dns-perl perl iptables\u003C\u002Fpre\u003E\nJ'ai fait une petite version qui permet d'utiliser des variables et mettre le code un peu plus clean (d'un point de vue programmeur).\n\nVous pouvez remplacer par ce code ci:\n\u003Cpre lang=\"bash\"\u003E# -*- shell-script -*-\n#\n#  Configuration file for ferm(1).\n#\n# vmware-mgmt = 8333\n# vmware-console = 902\n# ntop = 3000\n# ... ports ajoutes dans \u002Fetc\u002Fservices\n\n# Source http:\u002F\u002Fwww.krzywanski.net\u002Farchives\u002F90\n# Interfaces\n@def $DEV_LOCAL = lo;\n@def $DEV_LAN = (eth1 vmnet1 vmnet8);\n@def $DEV_INTERNET = eth0;\n\n# Ports\n@def $PORTS = (ntp name http https smtp);\n\n# Known IPs\n@def $SSH_ALLOWED = (69.159.234.55 192.168.2.1);\n@def $SSH_DYNDNS = @resolve((somehost.renoirboulanger.com someotherhost.somenetwork.net));\n\n# SSH Clients\n@def $SSH_CLIENTS = ($SSH_ALLOWED $SSH_DYNDNS);\n\ntable filter {\n    chain INPUT {\n        policy DROP;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n\n        # allow local packages\n        interface $DEV_LOCAL ACCEPT;\n        interface $DEV_LAN ACCEPT;\n\n        # allow ping from the administrator's network\n        interface $DEV_INTERNET saddr ($SSH_DYNDNS $SSH_ALLOWED) proto icmp icmp-type echo-request ACCEPT;\n\n        # respond to ping\n        proto icmp icmp-type echo-request ACCEPT;\n\n        # allow SSH connections\n        proto tcp dport 2522 ACCEPT;\n\n        proto tcp dport $PORTS ACCEPT;\n    }\n    chain OUTPUT {\n        policy ACCEPT;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n    }\n    chain FORWARD {\n        policy DROP;\n\n        # connection tracking\n        mod state state INVALID DROP;\n        mod state state (ESTABLISHED RELATED) ACCEPT;\n    }\n}\u003C\u002Fpre\u003E\nPour plus de détails a propos de la syntaxe, \u003Ca href=\"http:\u002F\u002Fferm.foo-projects.org\u002Fdownload\u002F2.0\u002Fferm.html\"\u003Evoir la documentation\u003C\u002Fa\u003E.\n\u003Ch2\u003EAutres ressources\u003C\u002Fh2\u003E\nJ'ai utilisé, entre autres ces ressources pour m'inspirer de ce mini-tutoriel\n\u003Col\u003E\n\t\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.debian.org\u002Fdoc\u002Fmanuals\u002Fsecuring-debian-howto\"\u003ESecuring Debian HOWTO\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\t\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.tldp.org\u002FHOWTO\u002FSecurity-HOWTO\u002F\"\u003ELinux Security HOWTO\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\t\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.cromwell-intl.com\u002Fsecurity\u002Fsecurity-firewall.html\"\u003EFirewall Tools\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\t\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.debian.org\u002Fsecurity\u002F\"\u003EDebian Security\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\t\u003Cli\u003E\u003Ca href=\"http:\u002F\u002Fwww.debian.org\u002Fdoc\u002Fdebian-policy\u002F\"\u003EDebian Policies\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n",dir:"\u002Fblog\u002F2009\u002F08",path:"\u002Fblog\u002F2009\u002F08\u002Fun-firewall-simple-sous-linux-avec-ferm",extension:".md",slug:v,createdAt:w,updatedAt:w,category:o},coverImage:{toc:[],body:{type:l,children:[]},text:j},month:"08",next:{locale:h,title:"Accessibilité et les liens externes",path:"\u002Fblog\u002F2009\u002F08\u002Faccessibilite-et-les-liens-externes",slug:"accessibilite-et-les-liens-externes"},preamble:{toc:[],body:{type:l,children:[]},text:j},prettyfiedTemporalDate:{prettified:"mercredi 19 août 2009",temporalDate:"2009-08-19"},prev:{locale:h,title:"GeekNight ce soir!",path:"\u002Fblog\u002F2009\u002F08\u002Fgeeknight-ce-soir",slug:"geeknight-ce-soir"},slug:v,year:"2009"}],fetch:[],mutations:void 0}}("text","element","\n","\n\t","li","p","a","fr-CA",true,"",2,"root","h2","https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2009\u002F08\u002Fun-firewall-simple-sous-linux-avec-ferm\u002F","tranche-de-vie","D'autres articles spécialisés Debian Linux","Installer et configurer","Autres ressources","ol","pre","bash","un-firewall-simple-sous-linux-avec-ferm","2024-10-24T19:43:51.685Z")));