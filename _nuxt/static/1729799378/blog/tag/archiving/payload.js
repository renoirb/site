__NUXT_JSONP__("/blog/tag/archiving", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU){return {data:[{},{},{contents:[{title:"Managing Email Aliases with ProtonMail and SimpleLogin to sort automatically into inbox folders based local part",locale:ak,created:aL,updated:aL,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2024\u002F03\u002Fmanaging-email-aliases-with-protonmail-and-simplelogin-to-sort-automatically-into-inbox-folders-based-local-part\u002F",status:al,revising:S,categories:[ab],tags:["on-front-page",V],keywords:["ProtonPass","SimpleLogin","inbox","Sieve mail filtering language rule"],description:"Protect inbox against spam and phishing and sort automatically",excerpt:"Streamline your email management with automatic sorting for messages received through aliases. Learn how to efficiently organize your inbox for your Email aliases without manual intervention.",toc:[],body:{type:am,children:[{type:b,tag:f,props:{},children:[{type:a,value:"I‚Äôve been using ProtonMail for my email needs for quite some time now. Recently,\nI stumbled upon an intriguing feature: the ability to use our own domain names\nfor email aliases, not just those provided by SimpleLogin and Proton. This\ndiscovery prompted me to make the switch, and I haven‚Äôt looked back since."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"At first I liked the idea of email aliases but would not consider using anything\nand have recovery lost over time because I didn‚Äôt own the domain name. Don‚Äôt get\nme wrong, SimpleLogin aliases are great and their best use-case is for privacy,\nto hide your real email. An account alias is a bit different."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Basically, instead of having an email address we pass everywhere. Create an\nemail address specifically for each service, newsletter, product. You can keep\nyour mail address, but the lesser it‚Äôs known, the less it‚Äôll receive."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Let‚Äôs backtrack a bit. Over the years, we‚Äôve witnessed numerous breaches of\nsecurity. Maybe you‚Äôre receiving many emails, some trying to pass as a service\nprovider you‚Äôve used, or another person."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For me, I receive a lot. Probably because I‚Äôve used the same address for almost\n2 decades already. With 2023‚Äôs LastPass breach who had all their vaults backups\ncopied by attackers, it was a wake up call for me to review my accounts."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"In any case, if you‚Äôve had an email address for more than a decade, chances are\nit‚Äôs already on multiple lists floating around the Internet. One effective\nstrategy to combat identity theft is to adopt strong passwords managed by a\nreliable password manager. However, when it comes to safeguarding against\nidentity theft and unsolicited emails (spam), what else can we do?"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Enter the concept of email aliases. By having a different email address for\nevery service or provider we interact with, we can effectively manage our online\npresence and minimize the risk of spam. With services like ProtonMail and\nSimpleLogin, creating aliases is quick and easy. This way, if a service or alias\nstarts receiving spam, we can simply disable it and generate a new one."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"As part of my alias strategy, I‚Äôve adopted the Proton Pass format, which allows\nfor a random component alongside a designated name for the purpose. For example,\n"},{type:b,tag:h,props:{},children:[{type:a,value:"\u003Cservice\u003E.\u003Csomething random\u003E@alias.example.org"}]},{type:a,value:". To streamline the organization\nof these aliases, I‚Äôve developed a Sieve script that automatically sorts\nincoming emails into appropriate folders."}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:["language-text",O]},children:[{type:b,tag:h,props:{},children:[{type:a,value:"require \"comparator-i;ascii-numeric\";\nrequire \"envelope\";\nrequire \"environment\";\nrequire \"fileinto\";\nrequire \"include\";\nrequire \"regex\";\nrequire \"relational\";\nrequire \"spamtest\";\nrequire \"variables\";\nrequire \"variables\";\n\n# BEGIN Copy-Pasta: This is recommended to be included in any custom sieve within Proton\n# Generated: Do not run this script on spam messages\nif allof (environment :matches \"vnd.proton.spam-threshold\" \"*\", spamtest :value \"ge\" :comparator \"i;ascii-numeric\" \"${1}\") {\n    return;\n}\n# END Copy-Pasta\n\n# BEGIN: Pigeon Hole\nif address :matches :domain [\"to\", \"cc\", \"bcc\"] \"alias.example.org\" {\n  if address :matches :localpart \"to\" \"*.*\" {\n    set \"local_part\" \"${1}\";\n    set :lower \"local_part\" \"${local_part}\";\n    set \"pigeon_hole\" \"${local_part}\";\n    # Create the mailbox if it doesn't exist and file the email into it\n    # Make sure Boxes folder exists\n    fileinto \"Boxes\";\n    fileinto \"Boxes\u002F${pigeon_hole}\";\n    # Proton ^^ doesn‚Äôt support `fileinto :create \"Foo\u002FBar\"`, instead give a parent, and tentatively try in pigeonhole\n  }\n}\n"}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"This Sieve script effectively sorts incoming emails based on their alias\npattern. Emails with aliases like "},{type:b,tag:h,props:{},children:[{type:a,value:"amazon.aws111@alias.example.org"}]},{type:a,value:" or\n"},{type:b,tag:h,props:{},children:[{type:a,value:"amazon.audible222@alias.example.org"}]},{type:a,value:" are grouped under the \"Box\u002Famazon\"\ndirectory, while emails like "},{type:b,tag:h,props:{},children:[{type:a,value:"ebay.333@alias.example.org"}]},{type:a,value:" are filed directly\ninto the \"Box\" directory."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"By automating this organization process, I can maintain a clutter-free inbox and\nensure that important emails are readily accessible."}]}]},dir:"\u002Fblog\u002F2024\u002F03",path:"\u002Fblog\u002F2024\u002F03\u002Fmanaging-email-aliases-with-protonmail-automatic-sorting",extension:an,slug:"managing-email-aliases-with-protonmail-automatic-sorting",createdAt:aM,updatedAt:aM,category:ab,prettyfiedTemporalDate:{prettified:"Sunday, March 3, 2024",temporalDate:"2024-03-03"}},{title:"Migrating WebPlatform.org MediaWiki into Git as Markdown files",locale:ak,created:"2015-07-30T00:00:00.000Z",updated:"2020-11-18T00:00:00.000Z",status:al,revising:W,categories:[ab],tags:[V,"open-source","operations",aN],description:"How to take a full MediaWiki content and edit history into a Git repository keeping the history and author attributions into Markdown",coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fmonit_dashboard_201502_status.png",text:"The WebPlatform project was running from a about 20 VMs\nand the availability, in part, managed by Monit.\nAt the end of the project, the infrastructure \"had to go away\"\n"},preamble:{disable:W,text:g},toc:[{id:aO,depth:H,text:aP},{id:aQ,depth:H,text:aR},{id:aS,depth:H,text:aT},{id:ao,depth:ap,text:aU},{id:aV,depth:ap,text:X},{id:aW,depth:H,text:aq},{id:aX,depth:ap,text:ar},{id:aY,depth:H,text:aZ}],body:{type:am,children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"On July 1st 2015, "},{type:b,tag:q,props:{},children:[{type:a,value:"The WebPlatform project"}]},{type:a,value:" has been discontinued, by having\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20130328132045\u002Fhttp:\u002F\u002Fwww.webplatform.org\u002Fstewards\u002F",rel:[k,l,m],target:n,title:"WebPlatform Project sponsors"},children:[{type:a,value:"its sponsors"}]},{type:a,value:" retracting from the project."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"I was hired by the W3C solely to maintain the WebPlatform project. Without\nfunding, and no budget at W3C\u002FMIT to transfer me, my contract was going to end."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:as,props:{style:a_},children:[{type:a,value:"\nüëÄ This was written in December 2020 and taken from notes I‚Äôve been sharing around via email.\n"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"With me as the only full-time person on the project with knowledge of the\ninfrastructure, and also as a believer of ‚Äú"},{type:b,tag:j,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FLearn\u002FGetting_started_with_the_web\u002FThe_web_and_web_standards#Dont_break_the_web",rel:[k,l,m],target:n},children:[{type:a,value:"don‚Äôt break the\nweb"}]},{type:a,value:"‚Äù, I wanted to keep everything online."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"When "},{type:b,tag:j,props:{href:"https:\u002F\u002Fwebplatform.github.io\u002Fblog\u002F2013\u002F08\u002Fhi-my-name-s-renoir-ill-be-your-devops-for-the-web-platform\u002F",rel:[k,l,m],target:n},children:[{type:a,value:"I inherited the project"}]},{type:a,value:", I "},{type:b,tag:j,props:{href:"https:\u002F\u002Fwebplatform.github.io\u002Fdocs\u002FWPD\u002FInfrastructure\u002Fanalysis\u002F2013-Migrating_to_a_new_cloud_provider\u002F",rel:[k,l,m],target:n,title:"2013 Infrastructure project: Migrating to a new provider"},children:[{type:a,value:"went through migrating\n"},{type:b,tag:q,props:{},children:[{type:a,value:"from one cloud provider to another"}]}]},{type:a,value:" the full\ninfrastructure, "},{type:b,tag:j,props:{href:"https:\u002F\u002Fwebplatform.github.io\u002Fdocs\u002FWPD\u002FInfrastructure\u002Fanalysis\u002F2013-Usage_and_future_state\u002F",rel:[k,l,m],target:n},children:[{type:a,value:"it has been running from about 20 Linux\nVMs"}]},{type:a,value:", worked on a few projects such as an attempt at having\nSingle-SignOn, and better compatibility tables."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Since the project was being closed, most of what I‚Äôve worked lost their use. The\ninfrastructure was also going to become a burden."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"While planning my last weeks, I‚Äôve agreed with the W3C systems team\n\""},{type:b,tag:j,props:{href:a$,rel:[k,l,m],target:n},children:[{type:a,value:"w3t-systeam"}]},{type:a,value:"\" to convert as much as possible as a static site."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The following are notes about the software I‚Äôve written to migrate a WordPress\nblog and multiple MediaWiki namespaces into a Git repository."}]},{type:a,value:c},{type:b,tag:I,props:{id:aO},children:[{type:b,tag:j,props:{href:"#priorities",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:aP}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The priorities were to keep the documentation pages up, preserve the\ncontribution history and attributions, also keep the blog contents, and have\neverything to be served as static HTML hosted on GitHub pages."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"I wanted to have this done before "},{type:b,tag:ac,props:{to:"\u002Fblog\u002F2015\u002F07\u002Fleaving-w3c\u002F"},children:[{type:a,value:"I leave the W3C"}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Since the "},{type:b,tag:j,props:{href:a$,rel:[k,l,m],target:n},children:[{type:a,value:"SysTeam"}]},{type:a,value:" would keep control of the "},{type:b,tag:h,props:{},children:[{type:a,value:"webplatform.org"}]},{type:a,value:"\ndomain, they‚Äôve decided to support some redirect from the original domain to\n"},{type:b,tag:j,props:{href:ba,rel:[k,l,m],target:n,title:bb},children:[{type:a,value:ad}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Once everything was migrated, we‚Äôve added a note;"}]},{type:a,value:c},{type:b,tag:"blockquote",props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The WebPlatform project, supported by various stewards between 2012 and 2015,\nhas been discontinued"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"sup",props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Source: "},{type:b,tag:j,props:{href:ba,rel:[k,l,m],target:n,title:bb},children:[{type:a,value:ad}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:I,props:{id:aQ},children:[{type:b,tag:j,props:{href:"#outcome",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:aR}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The conversion work took the "},{type:b,tag:q,props:{},children:[{type:a,value:"two last months"}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"All links to pages showing the "},{type:b,tag:q,props:{},children:[{type:a,value:"WebPlatform"}]},{type:a,value:" logo from this article is the\nresult of what I‚Äôm describing here, as the migration and all servers were shut\ndown and decommissioned in 2016."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The source of the site was generated from\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fgenerator-docs",rel:[k,l,m],target:n},children:[{type:a,value:"webplatform\u002Fgenerator-docs"}]},{type:a,value:", and we‚Äôve created\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fwebplatform.github.io\u002F",rel:[k,l,m],target:n},children:[{type:a,value:"webplatform\u002Fwebplatform.github.io"}]},{type:a,value:"\nto host the site on GitHub pages. Eventualy, the W3C SysTeam set the repository\nas read-only."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"There were other things that we‚Äôve initially planned, but couldn‚Äôt (see\n"},{type:b,tag:ac,props:{to:"\u002Fblog\u002F2015\u002F07\u002Fmigrating-webplatform-org-mediawiki-into-git-history-and-into-markdown-files#requirements-we-couldnt-meet"},children:[{type:a,value:ar}]},{type:a,value:"):"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Here is what I could migrate"}]},{type:a,value:c},{type:b,tag:G,props:{style:"font-size:small",className:["table-parent","table-auto"]},children:[{type:a,value:c},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:"table",props:{},children:[{type:b,tag:"thead",props:{},children:[{type:b,tag:Y,props:{},children:[{type:b,tag:P,props:{},children:[{type:a,value:"From"}]},{type:b,tag:P,props:{},children:[{type:a,value:"To"}]},{type:b,tag:P,props:{},children:[{type:a,value:"Repository"}]},{type:b,tag:P,props:{},children:[{type:a,value:"Comment"}]},{type:b,tag:P,props:{},children:[{type:a,value:"Commits"}]},{type:b,tag:P,props:{},children:[{type:a,value:"Documents"}]},{type:b,tag:P,props:{},children:[{type:a,value:"Deleted"}]}]}]},{type:b,tag:"tbody",props:{},children:[{type:b,tag:Y,props:{},children:[{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"docs.webplatform.org\u002Fwiki\u002F*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"webplatform.github.io\u002Fdocs\u002F*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:j,props:{href:bc,rel:[k,l,m],target:n,title:bd},children:[{type:a,value:"webplatform\u002Fdocs"}]}]},{type:b,tag:r,props:{},children:[{type:a,value:"The main docs pages"}]},{type:b,tag:r,props:{},children:[{type:a,value:"37,000"}]},{type:b,tag:r,props:{},children:[{type:a,value:"4,675"}]},{type:b,tag:r,props:{},children:[{type:a,value:"418"}]}]},{type:b,tag:Y,props:{},children:[{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"docs.webplatform.org\u002Fwiki\u002FMeta:*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"webplatform.github.io\u002Fdocs\u002FMeta\u002F*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:j,props:{href:be,rel:[k,l,m],target:n,title:bf},children:[{type:a,value:"webplatform\u002Fdocs-meta"}]}]},{type:b,tag:r,props:{},children:[{type:a,value:"Archived content that needed to be moved during initial mass imports."}]},{type:b,tag:r,props:{},children:[{type:a,value:"300"}]},{type:b,tag:r,props:{},children:[{type:a,value:"58"}]},{type:b,tag:r,props:{},children:[{type:a,value:"170"}]}]},{type:b,tag:Y,props:{},children:[{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"docs.webplatform.org\u002Fwiki\u002FWPD:*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"webplatform.github.io\u002Fdocs\u002FWPD\u002F*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:j,props:{href:at,rel:[k,l,m],target:n,title:au},children:[{type:a,value:bg}]}]},{type:b,tag:r,props:{},children:[{type:a,value:"Community and notes section. Example "},{type:b,tag:j,props:{href:"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20160722084044\u002Fhttps:\u002F\u002Fdocs.webplatform.org\u002Fwiki\u002FWPD:Infrastructure",rel:[k,l,m],target:n},children:[{type:a,value:"\u002Fwiki\u002FWPD:Infrastructure"}]},{type:a,value:" into "},{type:b,tag:j,props:{href:"https:\u002F\u002Fwebplatform.github.io\u002Fdocs\u002FWPD\u002FInfrastructure\u002F",rel:[k,l,m],target:n},children:[{type:a,value:"\u002Fdocs\u002FWPD\u002FInfrastructure"}]},{type:a,value:" ("},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fdocs-wpd\u002Fblob\u002Fmanual-edits\u002FInfrastructure\u002Findex.md",rel:[k,l,m],target:n},children:[{type:a,value:"source"}]},{type:a,value:av}]},{type:b,tag:r,props:{},children:[{type:a,value:"5,700"}]},{type:b,tag:r,props:{},children:[{type:a,value:"358"}]},{type:b,tag:r,props:{},children:[{type:a,value:"323"}]}]},{type:b,tag:Y,props:{},children:[{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"blog.webplatform.org"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"webplatform.github.io\u002Fblog\u002F*"}]}]},{type:b,tag:r,props:{},children:[{type:b,tag:j,props:{href:bh,rel:[k,l,m],target:n},children:[{type:a,value:"webplatform\u002Fblog"}]}]},{type:b,tag:r,props:{},children:[{type:a,value:"The blog content"}]},{type:b,tag:r,props:{},children:[{type:a,value:"2"}]},{type:b,tag:r,props:{},children:[{type:a,value:"53"}]},{type:b,tag:r,props:{},children:[{type:a,value:"N\u002FA"}]}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:I,props:{id:aS},children:[{type:b,tag:j,props:{href:"#migration",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:aT}]},{type:a,value:c},{type:b,tag:as,props:{style:a_},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"üëÄ During this migration project, I was hoping to find a way to take any web\npage, from any CMS, and get a full copy (including images) of it into Markdown.\nThere was none. In 2017, I‚Äôve created\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Frenoirb\u002Farchivator",rel:[k,l,m],target:n},children:[{type:b,tag:q,props:{},children:[{type:a,value:bi}]}]},{type:a,value:bj},{type:b,tag:j,props:{href:"https:\u002F\u002Fwww.npmjs.com\u002Fpackage\u002Farchivator",rel:[k,l,m],target:n},children:[{type:a,value:"npm"}]},{type:a,value:") to help with such work.\nInstead of using the last step described here, anyone could use "},{type:b,tag:q,props:{},children:[{type:a,value:bi}]},{type:a,value:" to\nretrieve a copy of their web pages."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"While building the solution, a few requirements emerged, they‚Äôre listed in\n"},{type:b,tag:ac,props:{to:"\u002Fblog\u002F2015\u002F07\u002Fmigrating-webplatform-org-mediawiki-into-git-history-and-into-markdown-files#requirements"},children:[{type:a,value:aq}]}]},{type:a,value:c},{type:b,tag:aw,props:{id:ao},children:[{type:b,tag:j,props:{href:"#blog",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:aU}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For migrating the "},{type:b,tag:j,props:{href:bh,rel:[k,l,m],target:n},children:[{type:a,value:ao}]},{type:a,value:", it was made manually, I‚Äôve just\nconverted the HTML into Markdown using Pandoc."}]},{type:a,value:c},{type:b,tag:aw,props:{id:aV},children:[{type:b,tag:j,props:{href:"#mediawiki",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:X}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For migrating MediaWiki, the proces was a bit more complex."}]},{type:a,value:c},{type:b,tag:as,props:{title:"Want to migrate your own MediaWiki?"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"ü§≤üèº If you‚Äôre looking for an HowTo to migrate your own MediaWiki installation,\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fmediawiki-conversion#use",rel:[k,l,m],target:n},children:[{type:a,value:"the procedure is written in ‚û°Ô∏è "},{type:b,tag:Q,props:{},children:[{type:a,value:ax}]},{type:a,value:"‚Äôs README"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"To migrate, we needed an history of each pages, from creation to the last edit."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"With MediaWiki, we have "},{type:b,tag:j,props:{href:"https:\u002F\u002Fwww.mediawiki.org\u002Fwiki\u002FManual:DumpBackup.php",rel:[k,l,m],target:n,title:"dumpBackup.php file creates an XML dump for export or backup. XML dumps contain the content of the wiki"},children:[{type:b,tag:Q,props:{},children:[{type:a,value:"Manual:DumpBackup.php"}]}]},{type:a,value:", that creates\nan XML file (\""},{type:b,tag:q,props:{},children:[{type:a,value:bk}]},{type:a,value:"\") of all history of all pages. One per\n"},{type:b,tag:j,props:{href:bl,rel:[k,l,m],target:n},children:[{type:a,value:"namespace"}]},{type:a,value:", for WebPlatform Docs‚Äô wikis, we had:\n"},{type:b,tag:j,props:{href:be,rel:[k,l,m],target:n,title:bf},children:[{type:b,tag:h,props:{},children:[{type:a,value:"\u002Fwiki\u002FMeta:*"}]}]},{type:a,value:", "},{type:b,tag:j,props:{href:at,rel:[k,l,m],target:n,title:au},children:[{type:b,tag:h,props:{},children:[{type:a,value:bm}]}]},{type:a,value:",\n"},{type:b,tag:j,props:{href:bc,rel:[k,l,m],target:n,title:bd},children:[{type:b,tag:h,props:{},children:[{type:a,value:"\u002Fwiki\u002F*"}]}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"A big part of processing and converting history is about the data model so we\ncould read from one format and use the data model as data-source for conversion."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For this, I‚Äôve created "},{type:b,tag:j,props:{href:bn,rel:[k,l,m],target:n,title:bo},children:[{type:a,value:bp}]},{type:a,value:", an\nabstract library specialized for data manipulation to help \""},{type:b,tag:q,props:{},children:[{type:a,value:"Transform CMS\ncontent from a format into another"}]},{type:a,value:" [format]\". It‚Äôs written in PHP, and might\nstill work even though it hasn‚Äôt been touched since 2015."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:j,props:{href:bn,rel:[k,l,m],target:n,title:bo},children:[{type:a,value:bp}]},{type:a,value:" takes care of manipulating\ndata for:"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Date of contribution and author information"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Content management systems like "},{type:b,tag:q,props:{},children:[{type:a,value:X}]},{type:a,value:" has a way to tell the user and\ndate of an edition."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Take each edit contents as they were"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Do not change any of the contents for each edits, even though they are in a\nformat understood by the original engine, here being "},{type:b,tag:q,props:{},children:[{type:a,value:X}]},{type:a,value:y}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"To convert each page history edit into "},{type:b,tag:Q,props:{},children:[{type:a,value:"Git commits"}]},{type:a,value:", I‚Äôve created\n"},{type:b,tag:j,props:{href:ay,rel:[k,l,m],target:n,title:az},children:[{type:a,value:ax}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"This is the utility that takes care of making the conversion "},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fmediawiki-conversion\u002Fblob\u002Fmaster\u002Fsrc\u002FWebPlatform\u002FImporter\u002FCommands\u002FRunCommand.php#L48",rel:[k,l,m],target:n,title:"Comments describing mediawiki-conversion"},children:[{type:a,value:"see comments made\nhere"}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:aA,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Handle deleted pages"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For each edit create a git revisions commit until the final file delete. At\nthe end of that step, the Git repository should have an history, but no\naparent files. At this step, we can also use the entries and make a redirect\nmap."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Handle pages that weren‚Äôt deleted in history"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Do the same as above. At this step, we should have a repository with text\nfiles where each file has exactly the same content as the source history. So\nwe can add them on top of the deleted pages following the same process as\nabove. We can also use those as a list of current pages we‚Äôll want to be\nconverted into Markdown."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Convert content"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For all pages "},{type:b,tag:q,props:{},children:[{type:a,value:"that weren‚Äôt deleted in history"}]},{type:a,value:". Query "},{type:b,tag:q,props:{},children:[{type:a,value:X}]},{type:a,value:" API to\nretrieve the full HTML, including "},{type:b,tag:j,props:{href:"https:\u002F\u002Fwww.mediawiki.org\u002Fwiki\u002FTransclusion",rel:[k,l,m],target:n},children:[{type:a,value:"Transclusions"}]},{type:a,value:" pass it to\nPandoc, so we get it converted into Markdown. Commit the rewritten file\ncontents with Markdown."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"By design "},{type:b,tag:j,props:{href:ay,rel:[k,l,m],target:n,title:az},children:[{type:a,value:ax}]},{type:a,value:" allows to\nre-run the 3rd step so we could always get all edits until we\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fwww.mediawiki.org\u002Fwiki\u002FManual:Lock_the_database",rel:[k,l,m],target:n},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Lock the database"}]},{type:a,value:" (i.e. cut-off)"}]},{type:a,value:"\nso we could keep the production site active until a cut-off date."}]},{type:a,value:c},{type:a,value:c},{type:b,tag:I,props:{id:aW},children:[{type:b,tag:j,props:{href:"#requirements",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:aq}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Along with what's described in the\n"},{type:b,tag:ac,props:{to:"\u002Fblog\u002F2015\u002F07\u002Fmigrating-webplatform-org-mediawiki-into-git-history-and-into-markdown-files#migration-steps"},children:[{type:a,value:"Migration steps"}]},{type:a,value:",\nwe wanted also to ensure we properly support the following."}]},{type:a,value:c},{type:b,tag:aA,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Keep author attributions but have them anonymized"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"We didn‚Äôt want to leak all contributor‚Äôs accounts email addresses to be\npublished without their consent. So, I‚Äôve setup a "},{type:b,tag:j,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fdocs\u002Fblob\u002Fmanual-edits\u002F.mailmap",rel:[k,l,m],target:n},children:[{type:b,tag:h,props:{},children:[{type:a,value:".mailmap"}]},{type:a,value:" so that\ncontributors could add a PR to advertize publicly on GitHub"}]},{type:a,value:y}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Keep code examples in Markdown so we can colourize them"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Golden standard pages should look the same"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The \"Golden Standard\" pages were ones we were regularly referring to see how\nthey would look and see if things are broken."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Also, since we were removing infrastructure, we should see features that were\nenabled at the time of "},{type:b,tag:q,props:{},children:[{type:a,value:"Web.Archive.org"}]},{type:a,value:" snapshot, but would be omitted in\nthe "},{type:b,tag:q,props:{},children:[{type:a,value:"Static version"}]},{type:a,value:" (i.e. "},{type:b,tag:h,props:{},children:[{type:a,value:ad}]},{type:a,value:av}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Compatibility data"}]},{type:a,value:" was removed"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Contents"}]},{type:a,value:" on the right should be removed"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:"Overview table"}]},{type:a,value:" should look different"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"On "},{type:b,tag:q,props:{},children:[{type:a,value:"static version"}]},{type:a,value:" code blocks should be more colorized differently (it's\nusing a different process)"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Examples:"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fcss\u002Fproperties\u002Fborder-radius"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fcss\u002Fproperties\u002Fdisplay"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fjavascript\u002Ffunctions","web-archive-date":"20140626071828"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fjavascript\u002FArray\u002Ffilter"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fjavascript\u002FDate"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FBeginners\u002Fhtml","web-archive-date":bq},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Ftutorials\u002Fcanvas_notearsgame","web-archive-date":bq},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Ftutorials\u002Fsvg_clipping_and_masking","web-archive-date":"20150905205843"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:Z}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"MediaWiki is pretty relax about what it allows in its URLs."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Since we‚Äôre migrating into a filesystem, we wanted to have only valid\nfilesystem file names and decided to normalize all paths into ASCII\ncharacters."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For example, the "},{type:b,tag:j,props:{href:bl,rel:[k,l,m],target:n},children:[{type:a,value:"Namespaces"}]},{type:a,value:" (e.g. "},{type:b,tag:h,props:{},children:[{type:a,value:bm}]},{type:a,value:") adds a\ncolumn character, that would be URLEncoded into "},{type:b,tag:h,props:{},children:[{type:a,value:"%3A"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"There were many other discrepancies like:"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Case insensitivity ‚Äî Because some URLs in pages were not in the same casing"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Supporting spaces ‚Äî Sometimes with underscore \""},{type:b,tag:h,props:{},children:[{type:a,value:"_"}]},{type:a,value:"\", other times with "},{type:b,tag:h,props:{},children:[{type:a,value:"%20"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Normalize\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FAPI\u002FURL\u002Fpathname",rel:[k,l,m],target:n},children:[{type:a,value:"URL Path"}]},{type:a,value:bj},{type:b,tag:j,props:{href:"https:\u002F\u002Furl.spec.whatwg.org\u002F#concept-url-path",rel:[k,l,m],target:n},children:[{type:a,value:"spec"}]},{type:a,value:") (e.g. anything that\nwould be URLEncoded such as "},{type:b,tag:h,props:{},children:[{type:a,value:"()!@:"}]},{type:a,value:av}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:Z}]},{type:a,value:": A page in another language should\nbe migrated"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FMain_Page\u002Fja","web-archive-date":"20160613060459"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FMain_Page\u002Fko"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:Z}]},{type:a,value:": A Page with "},{type:b,tag:h,props:{},children:[{type:a,value:"()"}]},{type:a,value:" in URL should be\nnormalized"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fcss\u002Ffunctions\u002Ftranslate()"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fsvg\u002Fproperties\u002FanimVal_(SVGAnimatedPreserveAspectRatio)"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fsvg\u002Fproperties\u002Fcx_(SVGRadialGradientElement)"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:Z}]},{type:a,value:": Pages within WPD namespace should\nbe migrated"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FWPD:Infrastructure\u002FMonitoring\u002FMonit"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FWPD:Infrastructure\u002Fanalysis\u002F2013-Migrating_to_a_new_cloud_provider"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The image comes from "},{type:b,tag:h,props:{},children:[{type:a,value:"\u002FWPD\u002Fassets\u002F"}]},{type:a,value:" which means the image is hosted in the\n"},{type:b,tag:j,props:{href:at,rel:[k,l,m],target:n,title:au},children:[{type:a,value:bg}]},{type:a,value:" in the assets\u002F folder."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:q,props:{},children:[{type:a,value:Z}]},{type:a,value:": Pages in Meta namespace should be\nmigrated"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FMeta:HTML\u002FElements\u002Fstyle"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FMeta:web_platform_wednesday"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002FMeta:Editors_Guide"},children:[{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:aw,props:{id:aX},children:[{type:b,tag:j,props:{href:"#requirements-we-couldnt-meet",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:ar}]},{type:a,value:c},{type:a,value:c},{type:b,tag:aA,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Ensure ALL assets uploads are displayed properly"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Before, we would use GlusterFS to store images for MediaWiki. There has been\nwork made to store on "},{type:b,tag:h,props:{},children:[{type:a,value:aB}]},{type:a,value:", all the pages uses the link,\nbut the SysTeam decided not to keep the redirects."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Now that the site is archived, I‚Äôm unsure this can be fixed."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"If you want to see them, add this bookmarklet to your bookmarks bar\n"},{type:b,tag:j,props:{style:"text-decoration:none;display:inline-block;padding: 1px 6px;color: #fff;background: #32a0eb;-webkit-border-radius: 4px;-moz-border-radius: 4px;border-radius: 4px;",href:"javascript:(function()%7B%5B%5D.forEach.call(document.querySelectorAll('img')%2Cfunction(img)%7Bif%20('src'%20in%20img)%20%7Bsrc%20%3D%20img.src%3Bsrc%20%3D%20src.replace('static.webplatform.org'%2C%20'webplatform.github.io%2Fdocs-assets')%3Bimg.src%3Dsrc%3B%7D%7D)%7D)()"},children:[{type:a,value:"WebPlatform.github.io\nShow images"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The project "},{type:b,tag:j,props:{href:br,rel:[k,l,m],target:n},children:[{type:a,value:br}]},{type:a,value:" was meant to be used as\nan origin for "},{type:b,tag:h,props:{},children:[{type:a,value:aB}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:Q,props:{},children:[{type:a,value:"Should we want to fix the issue"}]},{type:a,value:", we could setup an HTTP redirect from\n"},{type:b,tag:h,props:{},children:[{type:a,value:aB}]},{type:a,value:" to "},{type:b,tag:h,props:{},children:[{type:a,value:"webplatform.github.io\u002Fdocs-assets\u002F"}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The following (should be) the same file;"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:j,props:{href:bs,rel:[k,l,m],target:n},children:[{type:a,value:bs}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:j,props:{href:bt,rel:[k,l,m],target:n},children:[{type:a,value:bt}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:j,props:{href:bu,rel:[k,l,m],target:n},children:[{type:a,value:bu}]}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Make sure page links "},{type:b,tag:q,props:{},children:[{type:a,value:"with different casing"}]},{type:a,value:" are redirected properly"}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"For example the page for \""},{type:b,tag:h,props:{},children:[{type:a,value:"Internet_and_Web"}]},{type:a,value:"\" is sometimes linked with\ndifferent casing, e.g. at \""},{type:b,tag:h,props:{},children:[{type:a,value:"Internet_and_Web\u002FThe_History_of_the_Web"}]},{type:a,value:"\" or\n\""},{type:b,tag:h,props:{},children:[{type:a,value:"internet_and_web\u002FThe_History_of_the_Web"}]},{type:a,value:"\", it is migrated once;\n"},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fconcepts\u002FInternet_and_Web\u002FThe_History_of_the_Web"},children:[]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Some page has links to with different casing \""},{type:b,tag:h,props:{},children:[{type:a,value:"internet_and_web"}]},{type:a,value:"\", we can see\nfrom\n"},{type:b,tag:t,props:{slug:"docs.webplatform.org\u002Fwiki\u002Fconcepts"},children:[]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"MediaWiki would redirect, but on GitHub pages, nothing has been put in place\nfor those. If we wanted to support, we could have used the same entries used\nto create "},{type:b,tag:j,props:{href:bv,rel:[k,l,m],target:n},children:[{type:a,value:"NGINX rewrite rules"}]},{type:a,value:", and add empty HTML pages\nlike GitHub pages would. In the case of WebPlatform project, it's been\ndecided to leave as-is."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Enforce all redirects from "},{type:b,tag:h,props:{},children:[{type:a,value:"*.webplatform.org"}]},{type:a,value:" to properly redirect to\n"},{type:b,tag:h,props:{},children:[{type:a,value:ad}]},{type:a,value:y}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"This migration process supported creating "},{type:b,tag:j,props:{href:bv,rel:[k,l,m],target:n},children:[{type:a,value:"NGINX rewrite\nrules"}]},{type:a,value:", I‚Äôm unsure if they‚Äôve been used."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:"hr",props:{},children:[]},{type:a,value:c},{type:b,tag:I,props:{id:aY},children:[{type:b,tag:j,props:{href:"#screenshots",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:aZ}]},{type:a,value:c},{type:b,tag:G,props:{style:"overflow:hidden;clear:both;",className:["thumbnails","gallery"]},children:[{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fmediawiki-history-to-git-conversion.png"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:j,props:{href:ay,rel:[k,l,m],target:n,title:az},children:[{type:a,value:"WebPlatform\u002Fmediawiki-conversion"}]},{type:a,value:" is made to run in 3\nsteps, here we see it running at the 3rd step. Where we would take the latest\nversion, get the HTML version from the MediaWiki API, and pass to Pandoc to get\nMarkdown."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fmediawiki-history-to-git-output.png"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Making sure during development that the conversion was effectively the same"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fdocs-page-history-github.png"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"We can see directly on GitHub.com the converted page's Git history"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fdocs-page-markdown.png"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"We can see directly on GitHub.com the converted Markdown contents."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fdocs-page-view-syntaxhighlight.png"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The final output should support code blocks with"}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fmediawiki-history-to-git-log.png",alt:"MediaWiki history converted into Git Commits"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The end result is that for each "},{type:b,tag:q,props:{},children:[{type:a,value:bk}]},{type:a,value:" can be converted into text\nfiles where each edits are made as Git commits keeping author and date of edit."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:R,props:{figcaption:g,src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F07\u002Fdocs-page-history-onsite.png"},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:b,tag:Q,props:{},children:[{type:a,value:"Not implemented"}]},{type:a,value:" Screenshot of an experiment to display the page's Git\nhistory calling GitHub API. There is no trace of this to my recollection, and It\nwas effectively the first time I used Vue.js."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},dir:"\u002Fblog\u002F2015\u002F07",path:"\u002Fblog\u002F2015\u002F07\u002Fmigrating-webplatform-org-mediawiki-into-git-history-and-into-markdown-files",extension:an,slug:"migrating-webplatform-org-mediawiki-into-git-history-and-into-markdown-files",createdAt:bw,updatedAt:bw,category:ab,prettyfiedTemporalDate:{prettified:"Thursday, July 30, 2015",temporalDate:"2015-07-30"}},{title:"Converting a dynamic site into static HTML documents",locale:ak,created:"2015-05-20T00:00:00.000Z",updated:"2023-02-18T00:00:00.000Z",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F05\u002Fconverting-dynamic-site-static-copy\u002F",status:al,revising:W,caption:S,caracteresBizzares:S,gallery:S,migrateCode:W,migrateImages:S,migrateLinks:S,categories:[aC],tags:[V,"procedure",aN,aC],keywords:["curl",ae,"static site","convert from cms"],coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fwebat25-org-screen-capture.png",alt:"Web 25th anniversary web site screenshot",text:"In March 2014, the W3C and the Web Foundation celebrated the World Wide Web 24th anniversary.\nAs a W3C Team Member, I was asked to help the systems team and host the event‚Äôs web site.\nAfter the event, I was asked to make the web site to become static HTML documents so the systems team wouldn‚Äôt have to maintain the CMS it was using.\n"},excerpt:"The following are the commands I ran on the last successful attempt to replicate the site I was working on. If you want to make a static version of your site, you might find those helpful.",preamble:{disable:W,text:g},toc:[{id:bx,depth:H,text:by},{id:bz,depth:H,text:bA},{id:bB,depth:H,text:bC},{id:bD,depth:H,text:bE}],body:{type:am,children:[{type:b,tag:f,props:{},children:[{type:a,value:"Its been two times now that I've been asked to make a website that was running\non a CMS and make it static."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"This is an useful practice if you want to keep the site content for posterity\nwithout having to maintain the underlying CMS. It makes it easier to migrate\nsites since the sites that you know you won't add content to anymore becomes\nsimply a bunch of HTML files in a folder."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"My end goal was to make an EXACT copy of what the site is like when generated by\nthe CMS, BUT now stored as simple HTML files. When I say EXACT, I mean it, even\nas to keep documents at their original location from the new static files. It\nmeans that each HTML document had to keep their same value BUT that a file will\nexist and the web server will find it. For example, if a link points to "},{type:b,tag:h,props:{},children:[{type:a,value:"\u002Ffoo"}]},{type:a,value:",\nthe link in the page remain as-is, even though its now a static file at\n"},{type:b,tag:h,props:{},children:[{type:a,value:bF}]},{type:a,value:", but the web server will serve "},{type:b,tag:h,props:{},children:[{type:a,value:bF}]},{type:a,value:" anyway."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Here are a few steps I made to achieve just that. Notice that your mileage may\nvary, I've done those steps and they worked for me."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"I've done this procedure a few times with WordPress blogs along with\n"},{type:b,tag:j,props:{href:"https:\u002F\u002Fwww.w3.org\u002Fwebat25\u002F",rel:[k,l,m],target:n},children:[{type:b,tag:Q,props:{},children:[{type:a,value:"webat25.org"}]},{type:a,value:" that is now hosted as "},{type:b,tag:Q,props:{},children:[{type:a,value:"w3.org\u002Fwebat25\u002F"}]}]},{type:a,value:" website that was\nrunning on ExpressionEngine."}]},{type:a,value:c},{type:b,tag:I,props:{id:bx},children:[{type:b,tag:j,props:{href:"#steps",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:by}]},{type:a,value:c},{type:b,tag:I,props:{id:bz},children:[{type:b,tag:j,props:{href:"#1-browse-and-get-all-pages-you-think-could-be-lost-in-scraping",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:bA}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"We want a simple file with one web page per line with its full address. This\nwill help the crawler to not forget pages."}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Use a web browser developer tool Network inspector, keep it open with\n\"preserve log\"."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Once you browsed the site a bit, from the network inspector tool, list all\ndocuments and then export using the \"Save as HAR\" feature."}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Extract urls from har file using "},{type:b,tag:h,props:{},children:[{type:a,value:"underscore-cli"}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"npm install underscore-cli cat site.har | underscore select '.entries .request\n.url' \u003E workfile.txt"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Remove first and last lines (its a JSON array and we want one document per\nline)"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Remove the trailing remove hostname from each line (i.e. start by \u002Fpath), in\nvim you can do "},{type:b,tag:h,props:{},children:[{type:a,value:"%s\u002Fhttp:\\\u002F\\\u002Fwww\\.example.org\u002F\u002Fg"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Remove "},{type:b,tag:h,props:{},children:[{type:a,value:E}]},{type:a,value:" and "},{type:b,tag:h,props:{},children:[{type:a,value:"\","}]},{type:a,value:" from each lines, in vim you can do "},{type:b,tag:h,props:{},children:[{type:a,value:"%s\u002F\",$\u002F\u002Fg"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"At the last line, make sure the "},{type:b,tag:h,props:{},children:[{type:a,value:E}]},{type:a,value:" is removed too because the last regex\nmissed it"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Remove duplicate lines, in vim you can do "},{type:b,tag:h,props:{},children:[{type:a,value:":sort u"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:"Save this file as "},{type:b,tag:h,props:{},children:[{type:a,value:"list.txt"}]},{type:a,value:" for the next step."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:I,props:{id:bB},children:[{type:b,tag:j,props:{href:"#2-lets-scrape-everything",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:bC}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"We'll do two scrapes. First one is to get all assets it can get, then we'll go\nagain with different options."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"The following are the commands I ran on the last successful attempt to replicate\nthe site I was working on. This is not a statement that this method is the most\nefficient technique. Please feel free to improve the document as you see fit."}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"First a quick TL;DR of "},{type:b,tag:h,props:{},children:[{type:a,value:ae}]},{type:a,value:" options"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"-m"}]},{type:a,value:af},{type:b,tag:h,props:{},children:[{type:a,value:aD}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:aE}]},{type:a,value:af},{type:b,tag:h,props:{},children:[{type:a,value:"--convert-links"}]}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:bG}]},{type:a,value:af},{type:b,tag:h,props:{},children:[{type:a,value:"--backup-converted"}]},{type:a,value:" which creates .orig files"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"-p"}]},{type:a,value:af},{type:b,tag:h,props:{},children:[{type:a,value:"--page-requisites"}]},{type:a,value:" makes a page to get ALL requirements"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:bH}]},{type:a,value:" ensures we dont download the same file twice and end up with duplicates\n(e.g. file.html AND file.1.html)"}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:b,tag:h,props:{},children:[{type:a,value:"--cut-dirs"}]},{type:a,value:" would prevent creating directories and mix things around, do not\nuse."}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Notice that we're sending headers as if we were a web browser. Its up to you."}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:[T,O]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:aF}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,_,o]},children:[{type:a,value:"UA"}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'Mozilla\u002F5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F40.0.2214.94 Safari\u002F537.36'"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:aF}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,_,o]},children:[{type:a,value:"ACCEPTL"}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'Accept-Language: fr-FR,fr;q=0.8,fr-CA;q=0.6,en-US;q=0.4,en;q=0.2'"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:aF}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,_,o]},children:[{type:a,value:"ACCEPTT"}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'Accept: text\u002Fhtml,application\u002Fxhtml+xml,application\u002Fxml;q=0.9,image\u002Fwebp,*\u002F*;q=0.8'"}]},{type:a,value:c},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aG}]},{type:a,value:bI},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:bH}]},{type:a,value:" --random-wait "},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aD}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,_,o]},children:[{type:a,value:bJ}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:a,value:bK},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:"\n     --no-cache "},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aE}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:bL}]},{type:a,value:" --page-requisites "},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:bM},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:E},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:bN}]},{type:a,value:E}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aH}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:E},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:bO}]},{type:a,value:E}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:bP}]}]}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Then, another pass"}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:[T,O]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aG}]},{type:a,value:bI},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aD}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,_,o]},children:[{type:a,value:bJ}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:a,value:bK},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aE}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:bG}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:bL}]},{type:a,value:" --no-cache --no-parent "},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:bM},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:E},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:bN}]},{type:a,value:E}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aH}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:E},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:"$ACCEPTL"}]},{type:a,value:E}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:L},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aH}]},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:F}]},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:E},{type:b,tag:d,props:{className:[e,o]},children:[{type:a,value:bO}]},{type:a,value:E}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:a,value:bP}]}]}]},{type:a,value:c},{type:b,tag:I,props:{id:bD},children:[{type:b,tag:j,props:{href:"#3-do-some-cleanup-on-the-fetched-files",ariaHidden:A,tabIndex:B},children:[{type:b,tag:d,props:{className:[C,D]},children:[]}]},{type:a,value:bE}]},{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Here are a few commands I ran to clean the files a bit"}]},{type:a,value:c},{type:b,tag:z,props:{},children:[{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Remove empty lines in every .orig files. They're the ones we'll use in the end\nafter all"}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:[T,O]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:ag}]},{type:a,value:ah},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:"-regextype"}]},{type:a,value:" posix-egrep "},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:"-regex"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'.*\\.orig$'"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:bQ}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'s\u002F\\r\u002F\u002F'"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:bR}]},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:bS}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:bT}]},{type:a,value:c}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Rename the .orig file into html"}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:[T,O]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aj}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'*orig'"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"\"p;s\u002Forig\u002Fhtml\u002F\""}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aI}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aK}]},{type:a,value:"\n\n"},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:ag}]},{type:a,value:ah},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aj}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'*\\.html\\.html'"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"\"p;s\u002F\\.html\u002F\u002F\""}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aI}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aK}]},{type:a,value:c}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Many folders might have only an index.html file in it. Let's just make them a\nfile without directory"}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:[T,O]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:ag}]},{type:a,value:ah},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aj}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'index.html'"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:ai}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:$}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"\"p;s\u002F\\\u002Findex\\.html\u002F.html\u002F\""}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,w]},children:[{type:a,value:U}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aI}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aK}]},{type:a,value:c}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:i,props:{},children:[{type:a,value:c},{type:b,tag:f,props:{},children:[{type:a,value:"Remove files that has a "},{type:b,tag:h,props:{},children:[{type:a,value:".1"}]},{type:a,value:" (or any number in them), they are most likely\nduplicates anyway"}]},{type:a,value:c},{type:b,tag:G,props:{className:[M]},children:[{type:b,tag:N,props:{className:[T,O]},children:[{type:b,tag:h,props:{},children:[{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:aa}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,J,K]},children:[{type:a,value:y}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:ag}]},{type:a,value:ah},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:aj}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,v]},children:[{type:a,value:"'*\\.1\\.*'"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:bQ}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,u]},children:[{type:a,value:"rm"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,p,o]},children:[{type:a,value:"-rf"}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:bR}]},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:bS}]},{type:a,value:g},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:x}]},{type:b,tag:d,props:{className:[e,s]},children:[{type:a,value:bT}]},{type:a,value:c}]}]}]},{type:a,value:c}]},{type:a,value:c}]}]},dir:"\u002Fblog\u002F2015\u002F05",path:"\u002Fblog\u002F2015\u002F05\u002Fconverting-dynamic-site-static-copy",extension:an,slug:"converting-dynamic-site-static-copy",createdAt:bU,updatedAt:bU,category:aC,prettyfiedTemporalDate:{prettified:"Wednesday, May 20, 2015",temporalDate:"2015-05-20"}}],taxonomyKey:V,taxonomy:{key:V}}],fetch:[],mutations:void 0}}("text","element","\n","span","token","p"," ","code","li","a","nofollow","noopener","noreferrer","_blank","variable","parameter","em","td","punctuation","app-link-compare-item","function","string","operator","\\",".","ul","true",-1,"icon","icon-link","\"","=","div",2,"h2","builtin","class-name","\n     ","nuxt-content-highlight","pre","line-numbers","th","strong","app-image",false,"language-bash","|","archiving",true,"MediaWiki","tr","Support MediaWiki special URL patterns","assign-left","-e","find","projects","nuxt-link","webplatform.github.io","wget"," is the same as ","-type"," f ","sed","-name","en-CA","publish","root",".md","blog",3,"Requirements","Requirements we couldn‚Äôt meet","app-alert-box","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fdocs-wpd","What was under \u002Fwiki\u002FWPD:...",")","h3","webplatform\u002Fmediawiki-conversion","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fmediawiki-conversion","Export MediaWiki wiki pages and history into a git repository","ol","static.webplatform.org","techniques","--mirror","-k","export","-i","--header","xargs","-n2","mv","2024-03-03T00:00:00.000Z","2024-10-24T19:43:51.731Z","webplatform","priorities","Priorities","outcome","Outcome","migration","Migration","Blog","mediawiki","requirements","requirements-we-couldnt-meet","screenshots","Screenshots","display:flex","https:\u002F\u002Fwww.w3.org\u002FPeople\u002Ffunctions\u002Fsysteam","https:\u002F\u002Fwebplatform.github.io\u002F","WebPlatform Docs Home Page","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fdocs","What was under \u002Fwiki\u002F...","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fdocs-meta","What was under \u002Fwiki\u002FMeta:...","webplatform\u002Fdocs-wpd","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fblog","Archivator","\n(","MediaWiki XML dump","https:\u002F\u002Fwww.mediawiki.org\u002Fwiki\u002FHelp:Namespaces","\u002Fwiki\u002FWPD:*","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fcontent-converter","Transform CMS content from a format into another","webplatform\u002Fcontent-converter","20150513130014","http:\u002F\u002Fwebplatform.github.io\u002Fdocs-assets\u002F","https:\u002F\u002Fstatic.webplatform.org\u002Ff\u002Ff1\u002Fhtmlstructure1.jpg","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fdocs-assets\u002Fblob\u002Fgh-pages\u002Ff\u002Ff1\u002Fhtmlstructure1.jpg","https:\u002F\u002Fwebplatform.github.io\u002Fdocs-assets\u002Ff\u002Ff1\u002Fhtmlstructure1.jpg","https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fgenerator-docs\u002Fblob\u002Fmaster\u002Fconfig\u002Fnginx\u002Fmaps\u002Fmain.map","2024-10-24T19:43:51.728Z","steps","Steps","1-browse-and-get-all-pages-you-think-could-be-lost-in-scraping","1. Browse and get all pages you think could be lost in scraping","2-lets-scrape-everything","2. Let's scrape everything","3-do-some-cleanup-on-the-fetched-files","3. Do some cleanup on the fetched files","\u002Ffoo.html","-K","-nc"," list.txt ","robots","off ","-E","\n     --user-agent","$UA","$ACCEPTT","\n     http:\u002F\u002Fwww.example.org\u002F\n","-exec","{","}",";","2024-10-24T19:43:51.726Z")));