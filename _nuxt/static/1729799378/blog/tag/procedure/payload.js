__NUXT_JSONP__("/blog/tag/procedure", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,do0,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek,el,em,en,eo,ep,eq,er,es,et,eu,ev,ew,ex,ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI,eJ,eK,eL,eM,eN,eO,eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ,e_,e$,fa,fb,fc,fd,fe,ff,fg,fh,fi,fj,fk,fl,fm,fn,fo,fp,fq,fr,fs,ft,fu,fv,fw,fx,fy,fz,fA,fB,fC,fD,fE,fF,fG,fH,fI,fJ,fK,fL,fM,fN,fO,fP,fQ,fR,fS,fT,fU,fV,fW,fX,fY,fZ,f_,f$,ga,gb,gc,gd,ge,gf,gg,gh,gi,gj,gk,gl,gm,gn,go,gp,gq,gr,gs,gt,gu,gv,gw,gx,gy,gz,gA,gB,gC,gD,gE,gF,gG,gH,gI,gJ,gK,gL,gM,gN,gO,gP,gQ,gR,gS,gT,gU,gV,gW,gX,gY,gZ,g_,g$,ha,hb,hc,hd,he,hf,hg,hh,hi,hj,hk,hl,hm,hn,ho,hp,hq,hr,hs,ht,hu,hv,hw,hx,hy,hz,hA,hB,hC,hD,hE,hF,hG,hH,hI,hJ,hK,hL,hM,hN,hO,hP,hQ,hR,hS,hT,hU,hV,hW,hX,hY,hZ,h_,h$,ia,ib,ic,id,ie,if0,ig,ih,ii,ij,ik,il,im,in0,io,ip,iq,ir,is,it,iu,iv,iw,ix,iy,iz,iA,iB,iC,iD,iE,iF,iG,iH,iI,iJ,iK,iL,iM,iN,iO,iP,iQ){return {data:[{},{},{contents:[{title:"Recover Discourse from a backup, adjust domain name",locale:aZ,created:"2015-11-20T00:00:00.000Z",updated:a_,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F11\u002Frecover-discourse-backup-change-domain-name\u002F",status:aB,revising:ag,migrateLinks:ak,migrateImages:ag,gallery:ag,caption:ag,categories:[a$],tags:[ai,bH,aC,bI],keywords:[dI,"DNS","migration"],coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F11\u002Fdiscourse_migration_list_gravatar_images.png",text:"Side by side comparison while working on migrating Discourse\nwith WICG\n"},preamble:{text:"This was written at the time I was closing loops at the [end of my time with the W3C][leaving-w3c].\nThe intent at the time (before WebPlatform project closed was to host *discuss.webplatform.org* what is now known as [W3C’s Web Platform Incubator Community Group (WICG)][wicg-article] and is available as [discourse.wicg.io][wicg]\n[leaving-w3c]: \u002Fblog\u002F2015\u002F07\u002Fleaving-w3c\u002F \"Leaving W3C\"\n[wicg]: https:\u002F\u002Fdiscourse.wicg.io\u002F\n[wicg-article]: https:\u002F\u002Fwww.w3.org\u002Fblog\u002F2015\u002F07\u002Fwicg\u002F\n"},excerpt:"Here is some preliminary notes on how one can restore a Discourse instance and change the domain name.",toc:[],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"Roughly based on "},{type:b,tag:m,props:{href:dJ,rel:[B,C,D],target:E},children:[{type:a,value:dK}]},{type:a,value:" post.\nBut without using the web UI. Because sysadmins prefers terminal."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:dL}]},{type:a,value:": Make "},{type:b,tag:G,props:{},children:[{type:a,value:"SURE"}]},{type:a,value:" the backup dump was generated from the same\nDiscourse version the one you'll import it into."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Copy from host backup into shared folder. Imagine you uploaded via SSH in your\nhost home directory."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ba}]},{type:a,value:" ~\u002Fsnapshot.tar.gz \u002Fsrv\u002Fwebplatform\u002Fshared\u002Fbackups\u002F\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note that the folder "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fsrv\u002Fwebplatform\u002Fdiscuss\u002Fshared\u002Fstandalone\u002Fbackups\u002F"}]},{type:a,value:" from\nthe docker host would end up to be in "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fshared\u002Fbackups\u002F"}]},{type:a,value:" inside the container."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Enter the VM, make sure enable_restore is run from "},{type:b,tag:i,props:{},children:[{type:a,value:dM}]},{type:a,value:" cli utility"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:a,value:".\u002Flauncher enter app\ndiscourse enable_restore\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Find the mounted backup file from within the container"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"ll \u002Fshared\u002Fbackups\u002Fdefault\u002F\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Make sure "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fshared\u002Fbackups\u002Ffoo.tar.gz"}]},{type:a,value:" is readable by can read"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"chmod"}]},{type:a,value:" o+r \u002Fshared\u002Fbackups\u002Fdefault\u002Ffoo.tar.gz\ndiscourse restore foo.tar.gz\ndiscourse disable_restore\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Remap domain name"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"discourse remap discourse.specifiction.org discuss.webplatform.org\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Then, work on user uploads and regenerate assets. That'll make sure ;"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"rake uploads:clean_up\nrake posts:rebake\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Refer to"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:dN,rel:[B,C,D],target:E},children:[{type:a,value:dN}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Most helpful post"}]},{type:a,value:g},{type:b,tag:m,props:{href:dJ,rel:[B,C,D],target:E},children:[{type:a,value:dK}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:dO,rel:[B,C,D],target:E},children:[{type:a,value:dO}]},{type:a,value:", and\nthe "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fdiscourse\u002Fdiscourse\u002Fblob\u002Fmaster\u002Fconfig\u002Fnginx.sample.conf",rel:[B,C,D],target:E},children:[{type:a,value:"referenced NGINX configuration in Discourse GitHub repo"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:dP,rel:[B,C,D],target:E},children:[{type:a,value:dP}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fops\u002Fissues\u002F152",rel:[B,C,D],target:E},children:[{type:a,value:"Work notes on WebPlatform GitHub issue tracker"}]}]},{type:a,value:e}]},{type:a,value:e}]},dir:"\u002Fblog\u002F2015\u002F11",path:"\u002Fblog\u002F2015\u002F11\u002Frecover-discourse-backup-change-domain-name",extension:aD,slug:"recover-discourse-backup-change-domain-name",createdAt:dQ,updatedAt:dQ,category:a$,prettyfiedTemporalDate:{prettified:"Friday, November 20, 2015",temporalDate:"2015-11-20"}},{title:"Run a NodeJS process through forever from within a Docker container",locale:aZ,created:"2015-05-12T00:00:00.000Z",updated:a_,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F05\u002Frun-nodejs-process-forever-within-docker-container\u002F",status:aB,revising:ak,migrateLinks:ak,categories:[ar],tags:[bs,aC,dR,bH,ai,bI],coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fpublican-spec-rangefinder.png",alt:"Screen capture of the RangeFinder API using Publican",text:"Specification Document for RangeFinder API\n"},excerpt:"I’ve recently been through the steps to make a NodeJS web app to run from inside a Docker container. The objective of this project was to simplify the deployment of a web app that had many moving parts by making it a re-deployable service that is self-contained.",preamble:{disable:ak,text:g},toc:[{id:dS,depth:N,text:"Run publican inside Docker"},{id:bJ,depth:V,text:bK},{id:dT,depth:V,text:dU},{id:bL,depth:V,text:bM}],body:{type:al,children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"One of the components that I worked on "},{type:b,tag:cp,props:{to:"\u002Fblog\u002Ftag\u002Fwebplatform-docs"},children:[{type:a,value:"during my time on the WebPlatform\nproject"}]},{type:a,value:aN},{type:b,tag:m,props:{href:cq,rel:[B,C,D],target:E},children:[{type:a,value:cr}]},{type:a,value:", that I had to manage has many moving parts. The\nend product of that component is basically static HTML documents that ends up on\n"},{type:b,tag:m,props:{href:"https:\u002F\u002Fspecs.webplatform.org\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"specs.webplatform.org"}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Since we need to have many packages installed in very specific version, and\nautomating the installation wouldn't bring any more benefit than being\nself-contained, I thought it would be best to go through the steps of converting\nit into a Docker container."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"The following is a procedure I wrote to teach "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.w3.org\u002Fstaff\u002Falumni\u002F#robin-berjon",rel:[B,C,D],target:E},children:[{type:a,value:"my colleague"}]},{type:a,value:aN},{type:b,tag:m,props:{href:"https:\u002F\u002Fberjon.com\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"Robin\nBerjon"}]},{type:a,value:", how to run his system called "},{type:b,tag:m,props:{href:cq,rel:[B,C,D],target:E},children:[{type:a,value:cr}]},{type:a,value:" from within a Docker\ncontainer. Publican is basically a GitHub hook listener that generates specs\nwritten to be parsed by "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fw3c\u002Frespec",rel:[B,C,D],target:E},children:[{type:a,value:"ReSpec"}]},{type:a,value:cs},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Ftabatkins\u002Fbikeshed",rel:[B,C,D],target:E},children:[{type:a,value:"Bikeshed"}]}]},{type:a,value:e},{type:b,tag:P,props:{id:dS},children:[{type:b,tag:m,props:{href:"#run-publican-inside-docker",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Run "},{type:b,tag:_,props:{},children:[{type:a,value:"publican"}]},{type:a,value:" inside Docker"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"What this'll do is basically build a VM that'll run a Docker container. The\ncontainer will write in files outside of it."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"You'll quickly notice that the paths will look the same, its confusing, sorry\nabout that. Fortunately for us, the paths in the procedure are the ones that\nwill be mounted through Docker Volume (the "},{type:b,tag:i,props:{},children:[{type:a,value:aO}]},{type:a,value:" option when you call "},{type:b,tag:i,props:{},children:[{type:a,value:aC}]},{type:a,value:")\nand will, in the end, be the same files."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Once you have a Docker container running on a VM, it'll replicate how a\nproduction VM will run the tasks. Since we know where the container will write\nfiles, we'll have our frontend servers to forward requests to publican, and\nserve files it generated."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Doing all this removes the need to do any rsync. NGINX within the VM that'll run\nDocker will take care of serving static files, and frontend server will expose\nit to the public."}]},{type:a,value:e},{type:b,tag:Y,props:{id:bJ},children:[{type:b,tag:m,props:{href:dV,ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:bK}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Have "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.vagrantup.com\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"Vagrant"}]},{type:a,value:bt},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.virtualbox.org\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"VirtualBox"}]},{type:a,value:" installed"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Follow what's in "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Frenoirb\u002Fsalt-basesystem",rel:[B,C,D],target:E},children:[{type:a,value:"renoirb\u002Fsalt-basesystem README.md"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Make sure you follow "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Frenoirb\u002Fsalt-basesystem#vagrant-sandbox-utilities",rel:[B,C,D],target:E},children:[{type:a,value:"Vagrant Sandbox utilities"}]},{type:a,value:" part"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:dW},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dX}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:" salt-call state.highstate\n "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:" salt-call state.sls vagrantsandbox.docker\n "},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:cu}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Reboot the VM by doing "},{type:b,tag:i,props:{},children:[{type:a,value:"vagrant reload"}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:" vagrant reload\n"}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"No need"}]},{type:a,value:" to follow what's in "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fwebplatform\u002Fpublican\u002Fblob\u002Ftask-based-docker\u002FDOCKER.md",rel:[B,C,D],target:E},children:[{type:a,value:"webplatform\u002Fpublican DOCKER.md file"}]},{type:a,value:".\nThose are notes to show how to build a container. For this time, we'll "},{type:b,tag:m,props:{href:"https:\u002F\u002Fregistry.hub.docker.com\u002Fu\u002Fwebspecs\u002Fpublican\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"use a\ncontainer I already built and pushed on "},{type:b,tag:G,props:{},children:[{type:a,value:"Docker hub"}]}]},{type:a,value:dY}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Setup what's required to run the container"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:dW},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dX}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Prepare the folders;"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bu}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dZ}]},{type:a,value:" webapps\n "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cv}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"You should see"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:" uid=990(webapps) gid=990(webapps) groups=990(webapps),33(www-data),998(docker)\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Prepare the folders"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:" \u002Fsrv\u002Fwebapps "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:" publican\u002Fdata "},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:" publican\n"}]}]}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If all went well so far; you should be able to do "},{type:b,tag:i,props:{},children:[{type:a,value:"docker ps"}]},{type:a,value:" as the\n"},{type:b,tag:i,props:{},children:[{type:a,value:"webapps"}]},{type:a,value:" user. Otherwise reboot and\u002For run "},{type:b,tag:i,props:{},children:[{type:a,value:"salt-call"}]},{type:a,value:" with both\n"},{type:b,tag:i,props:{},children:[{type:a,value:"state.highstate"}]},{type:a,value:g},{type:b,tag:i,props:{},children:[{type:a,value:"state.sls vagrantsandbox.docker"}]},{type:a,value:" states. There should be\nnothing left to do."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aC}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"ps"}]},{type:a,value:"\n\nCONTAINER ID IMAGE COMMAND CREATED\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:cw}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pull the publican Docker image I built (it'll take about 10 minutes)"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aC}]},{type:a,value:" pull webspecs\u002Fpublican:wip\n"}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Copy the other files in this Gist in your local coputer where you cloned the\n"},{type:b,tag:G,props:{},children:[{type:a,value:"salt-basesystem"}]},{type:a,value:" repository. From that folder you can move them inside the\nVagrant VM where you need."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Copy publican config"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ba}]},{type:a,value:" \u002Fvagrant\u002Fconfig.json data\u002F\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:d_,props:{},children:[{type:a,value:"Download Bikeshed stuff that i didn't figure out yet what's important to\nkeep, extract it in "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fsrv\u002Fwebapps\u002Fpublican\u002Fspec-data\u002F"}]}]},{type:a,value:X}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:cx,props:{className:[cy],variant:d$},children:[{type:a,value:e},{type:b,tag:G,props:{slot:cz},children:[{type:a,value:"Archive mentioned no longer exists"}]},{type:a,value:"\nThe archive used in the initial procedure no longer exists, it was a series of W3C specification Git repository working copies that Publican was expecting.\n"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"You can open up another terminal session and connect to the Vagrant VM\n"},{type:b,tag:i,props:{},children:[{type:a,value:"vagrant ssh"}]},{type:a,value:" (e.g. if you don't use "},{type:b,tag:i,props:{},children:[{type:a,value:"tmux"}]},{type:a,value:cs},{type:b,tag:i,props:{},children:[{type:a,value:"screen"}]},{type:a,value:ah}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:" spec-data\u002Freadonly\u002F\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:" data\u002F"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:"gits,logs,publish,queue,temp"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Run the container"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aC}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cB}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cC}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ah}]}]},{type:a,value:ea}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ah}]}]},{type:a,value:ec}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cD}]},{type:a,value:ee}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you see the following, you're in the Docker container!!"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"webapps@2f33f5c6e183:~$\n"}]}]}]},{type:a,value:e},{type:b,tag:$,props:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fpublican-init.png",alt:"A terminal window with a few commands and a build process status and green lines, no errors",figcaption:g},children:[{type:a,value:"\n  Launching the container\n"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Initiate the empty shell we just created (it'll create stuff in the "},{type:b,tag:i,props:{},children:[{type:a,value:"data\u002F"}]},{type:a,value:"\nfolder "},{type:b,tag:_,props:{},children:[{type:a,value:ef}]},{type:a,value:" of the container)"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"publican.js init\n"}]}]}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:eg},{type:b,tag:_,props:{},children:[{type:a,value:"Launching the container"}]},{type:a,value:eh}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Once done, exit the container. Notice that by doing this, you lose the state\nof the VM and anything that has been written in the container. But, since we\nuse volumes (notice the "},{type:b,tag:i,props:{},children:[{type:a,value:"-v \u002Fhost\u002Fpath:\u002Fcontainer\u002Fpath"}]},{type:a,value:"), we actually wrote\n"},{type:b,tag:_,props:{},children:[{type:a,value:ef}]},{type:a,value:" of the container."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"We can "},{type:b,tag:G,props:{},children:[{type:a,value:"exit the container"}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:cu}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"At this stage, we had publican and bikeshed to generate files (we may call\nthis a \"cache warmup\" of softs). Now, let's prepare the Vagrant VM to serve\nthe static content. Notice that the next commands are there only for the\npurpose of a local workspace, in production this step will also be managed\nautomatically."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Let's get back as the "},{type:b,tag:G,props:{},children:[{type:a,value:al}]},{type:a,value:" user, and create a quick web server;"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:cu}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-yqq"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:"\nnginx "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bQ}]},{type:a,value:" \u002Fvagrant\u002Fdefault.conf \u002Fetc\u002Fnginx\u002Fsites-available\u002Fdefault\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bR}]},{type:a,value:" restart nginx\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Let's return back to "},{type:b,tag:G,props:{},children:[{type:a,value:"as the webapps user and launch the runner"}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dZ}]},{type:a,value:" webapps "},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:" \u002Fsrv\u002Fwebapps\u002Fpublican\u002F\n"}]}]}]},{type:a,value:e},{type:b,tag:$,props:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fpublican-run-hook.png",alt:"A terminal window with a build process status and green lines, no errors",figcaption:g},children:[{type:a,value:"\nStarting a build process\n"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:ei}]},{type:a,value:"; this will also be managed automatically in\nproduction."}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,"language-shell"]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aC}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cB}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cC}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ah}]}]},{type:a,value:ea}]},{type:a,value:eb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ej},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bO}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ah}]}]},{type:a,value:ec}]},{type:a,value:ed},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ej},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cD}]},{type:a,value:ee}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:eg},{type:b,tag:_,props:{},children:[{type:a,value:ei}]},{type:a,value:eh}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"get your Vagrant VM IP address"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"ifconfig"}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Should start by "},{type:b,tag:i,props:{},children:[{type:a,value:"172..."}]},{type:a,value:cs},{type:b,tag:i,props:{},children:[{type:a,value:"192..."}]},{type:a,value:"; visit a browser to that address"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Y,props:{id:dT},children:[{type:b,tag:m,props:{href:"#gists",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:dU}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Here are the files mentioned in this post"}]},{type:a,value:e},{type:a,value:e},{type:b,tag:aE,props:{id:"configjson"},children:[{type:b,tag:m,props:{href:"#configjson",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"config.json"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:m,props:{href:cq,rel:[B,C,D],target:E},children:[{type:a,value:cr}]},{type:a,value:" expects this file as "},{type:b,tag:i,props:{},children:[{type:a,value:"data\u002Fconfig.json"}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,"language-json"]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"bikeshed\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"\u002Fopt\u002Fbikeshed\u002Fbikeshed.py\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"rsyncPath\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"\u002Fsrv\u002Fwebapps\u002Fpublican\u002F\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"python\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"python2\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"logFile\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"logs\u002Fall.log\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"email\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"to\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ek}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"from\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:ek}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"host\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"localhost\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"level\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"error\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"handleExceptions\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:x}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"purgeAllURL\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"https:\u002F\u002Fapi.fastly.com\u002Fservice\u002Ffooo\u002Fpurge_all\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aF}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,as]},children:[{type:a,value:"\"purgeAllKey\""}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"baar\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:aE,props:{id:"defaultconf"},children:[{type:b,tag:m,props:{href:"#defaultconf",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"default.conf"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"A minimal NGINX web server digging for static content that Publican generates."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,"language-nginx"]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# file: \u002Fetc\u002Fnginx\u002Fsites-enabled\u002Fdefault"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"server"}]}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"listen"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"80"}]},{type:a,value:" default_server"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:al}]},{type:a,value:" \u002Fsrv\u002Fwebapps\u002Fpublican\u002Fdata\u002Fpublish"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"index"}]},{type:a,value:" index.html index.htm"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"server_name"}]},{type:a,value:" localhost"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"location"}]},{type:a,value:" \u002F"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,aV]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"try_files"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:el}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:el}]},{type:a,value:"\u002F =404"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:"h5",props:{id:"dockerfile"},children:[{type:b,tag:m,props:{href:"#dockerfile",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Dockerfile"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Here is the project's Dockerfile I created. I think it should be smaller, but\nPublican works with the following script."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Each step in a Dockerfile creates a \"commit\", make sure you have as few of them\nas possible, and also make sure that you clean after yourself. Remember that a\nDocker container is re-deployable and smallest the size of the container, the\nbetter!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Notice a few details;"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"ENV DEBIAN_FRONTEND=noninteractive"}]},{type:a,value:" helps with dialogs"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"USER webapps"}]},{type:a,value:" tells \"where\" the rest of the script will make commands as a\ndifferent user than root. Make sure what's required by root to be done before!"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"COPY ..."}]},{type:a,value:" this is basically how you import content inside the container (i.e.\nmake the container heavier)"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,"language-dockerfile"]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:bS}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Publican Docker runner"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:bS}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# See also:"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"#   * https:\u002F\u002Fgithub.com\u002Fnodesource\u002Fdocker-node\u002Fblob\u002Fmaster\u002Fubuntu\u002Ftrusty\u002Fnode\u002F0.10.36\u002FDockerfile"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"FROM"}]},{type:a,value:" nodesource\u002Ftrusty:0.10.36"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"MAINTAINER"}]},{type:a,value:" Renoir Boulanger \u003Crenoir@w3.org\u003E"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:bb}]},{type:a,value:" DEBIAN_FRONTEND=noninteractive"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Dependencies: Bikeshed, PhantomJS, Bikshed’s lxml"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:cE}]},{type:a,value:" apt-get update && apt-get -y upgrade && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    apt-get install -yqq git python2.7 python-dev python-pip libxslt1-dev libxml2-dev zlib1g-dev && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    apt-get install -yqq libfontconfig1 libfreetype6 curl && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    apt-get autoremove -yqq --purge && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    pip install --upgrade lxml"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Copy everything we have locally into the container"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# REMINDER: Make sure you run `make clone-bikeshed`, we prefer to keep a copy locally outside"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# of the data volume. Otherwise it would make problems saying that bikeshed clone is not in the"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# same filesystem."}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"COPY"}]},{type:a,value:" . \u002Fsrv\u002Fwebapps\u002Fpublican\u002F"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Make sure we have a \"non root\" user and"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# delete any local workbench data\u002F directory"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:cE}]},{type:a,value:" \u002Fusr\u002Fsbin\u002Fgroupadd --system --gid 990 webapps && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    \u002Fusr\u002Fsbin\u002Fuseradd --system --gid 990 --uid 990 -G sudo --home-dir \u002Fsrv\u002Fwebapps --shell \u002Fbin\u002Fbash webapps && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    sed -i "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'\u002F^%sudo\u002Fd'"}]},{type:a,value:" \u002Fetc\u002Fsudoers && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    echo "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'%sudo ALL=NOPASSWD: ALL'"}]},{type:a,value:" \u003E\u003E \u002Fetc\u002Fsudoers && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    mv \u002Fsrv\u002Fwebapps\u002Fpublican\u002Fbikeshed \u002Fopt && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    rm -rf data && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    mkdir -p data\u002Ftemp && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    rm -rf Dockerfile Makefile .git .gitignore DOCKER.md && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    chown -R webapps:webapps \u002Fsrv\u002Fwebapps\u002Fpublican && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    chown -R webapps:webapps \u002Fopt\u002Fbikeshed"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Switch from root to webapps system user"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# It **HAS to be** the SAME uid\u002Fgid as the owner on the host from which we’ll use as volume"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"USER"}]},{type:a,value:" webapps"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Where the session will start from"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"WORKDIR"}]},{type:a,value:" \u002Fsrv\u002Fwebapps\u002Fpublican"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Environment variables"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:bb}]},{type:a,value:" PATH \u002Fsrv\u002Fwebapps\u002Fpublican\u002Fnode_modules\u002F.bin:\u002Fsrv\u002Fwebapps\u002Fpublican\u002Fbin:\u002Fsrv\u002Fwebapps\u002Fpublican\u002F.local\u002Fbin:"},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"$PATH"}]}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:bb}]},{type:a,value:" HOME \u002Fsrv\u002Fwebapps\u002Fpublican"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:bb}]},{type:a,value:" TMPDIR \u002Fsrv\u002Fwebapps\u002Fpublican\u002Fdata\u002Ftemp"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:bb}]},{type:a,value:" NODE_ENV production"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:bb}]},{type:a,value:" GIT_DISCOVERY_ACROSS_FILESYSTEM true"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Run what `make deps` would do"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:cE}]},{type:a,value:" pip install --upgrade --user --editable \u002Fopt\u002Fbikeshed && "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:u}]},{type:a,value:"\n    mkdir -p node_modules && npm install"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Declare which port we expect to expose"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"EXPOSE"}]},{type:a,value:" 7002"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Allow cli entry for debug, but make sure docker-compose.yml uses \"command: bin\u002Frun.sh\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,am]},children:[{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"ENTRYPOINT"}]},{type:a,value:" ["},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"\u002Fbin\u002Fbash\""}]},{type:a,value:Q}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Note leftover: Ideally, it should exclusively run"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"#ENTRYPOINT [\"\u002Fbin\u002Fbash\", \"\u002Fsrv\u002Fwebapps\u002Fpublican\u002Fbin\u002Frun.sh\"]"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Note leftover: What it ends up doing"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"#CMD [\"node_modules\u002Fforever\u002Fbin\u002Fforever\", \"--fifo\", \"logs\", \"0\"]"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:aE,props:{id:"forever-start-script"},children:[{type:b,tag:m,props:{href:"#forever-start-script",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Forever start script"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you notice in the Docker run command, I call a file "},{type:b,tag:i,props:{},children:[{type:a,value:"bin\u002Frun.sh"}]},{type:a,value:", here it is."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aC}]},{type:a,value:cA},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cB}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cC}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:bP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cD}]},{type:a,value:":7002 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n       webspecs\u002Fpublican:latest "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n       bin\u002Frun.sh\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Publican runs its process using "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fforeverjs\u002Fforever",rel:[B,C,D],target:E},children:[{type:a,value:"Forever"}]},{type:a,value:". The objective of forever is to\nkeep a process to run at all times."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"While this isn't ideal for NodeJS services, in the present use-case of a Docker\ncontainer who has the only purpose to run a process; Forever apt for the job!"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,em,cF]},children:[{type:a,value:en}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"RUNDIR"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"\u002Fsrv\u002Fwebapps\u002Fpublican\""}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eo}]},{type:a,value:"\nnode_modules\u002Fforever\u002Fbin\u002Fforever start "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eo}]},{type:a,value:"\u002Fbin\u002Fserver.js\nnode_modules\u002Fforever\u002Fbin\u002Fforever "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"--fifo"}]},{type:a,value:" logs "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ep}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"That’s it, it’s all I had."}]},{type:a,value:e},{type:b,tag:Y,props:{id:bL},children:[{type:b,tag:m,props:{href:eq,ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:bM}]},{type:a,value:e},{type:a,value:e},{type:b,tag:p,props:{style:cG,className:[cH,cI,cJ,cK,cL]},children:[{type:a,value:e},{type:b,tag:$,props:{className:[bc],src:er,alt:"A W3C Specification preview where we can see on the left the specification, and on the right the source highlighting changes in the source",figcaption:g},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"W3C Publican prototype build process helping with specification change tracking during review process"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:$,props:{className:[bc],src:es,figcaption:g},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:et}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{style:cG,className:[cH,cI,cJ,cK,cL]},children:[{type:a,value:e},{type:b,tag:$,props:{className:[bc],src:er,alt:"...",figcaption:g},children:[{type:a,value:"\n...\n"}]},{type:a,value:e},{type:b,tag:$,props:{className:[bc],src:es,figcaption:g},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:et}]},{type:a,value:e}]},{type:a,value:e}]}]},dir:eu,path:"\u002Fblog\u002F2015\u002F05\u002Frun-nodejs-process-forever-within-docker-container",extension:aD,slug:"run-nodejs-process-forever-within-docker-container",createdAt:cM,updatedAt:"2024-10-24T19:43:51.727Z",category:ar,prettyfiedTemporalDate:{prettified:"Tuesday, May 12, 2015",temporalDate:"2015-05-12"}},{title:"Converting a dynamic site into static HTML documents",locale:aZ,created:"2015-05-20T00:00:00.000Z",updated:a_,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F05\u002Fconverting-dynamic-site-static-copy\u002F",status:aB,revising:ak,caption:ag,caracteresBizzares:ag,gallery:ag,migrateCode:ak,migrateImages:ag,migrateLinks:ag,categories:[bv],tags:["archiving",ai,bI,bv],keywords:[ev,aW,"static site","convert from cms"],coverImage:{src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fwebat25-org-screen-capture.png",alt:"Web 25th anniversary web site screenshot",text:"In March 2014, the W3C and the Web Foundation celebrated the World Wide Web 24th anniversary.\nAs a W3C Team Member, I was asked to help the systems team and host the event’s web site.\nAfter the event, I was asked to make the web site to become static HTML documents so the systems team wouldn’t have to maintain the CMS it was using.\n"},excerpt:"The following are the commands I ran on the last successful attempt to replicate the site I was working on. If you want to make a static version of your site, you might find those helpful.",preamble:{disable:ak,text:g},toc:[{id:bJ,depth:N,text:bK},{id:ew,depth:N,text:ex},{id:ey,depth:N,text:ez},{id:eA,depth:N,text:eB}],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"Its been two times now that I've been asked to make a website that was running\non a CMS and make it static."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"This is an useful practice if you want to keep the site content for posterity\nwithout having to maintain the underlying CMS. It makes it easier to migrate\nsites since the sites that you know you won't add content to anymore becomes\nsimply a bunch of HTML files in a folder."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"My end goal was to make an EXACT copy of what the site is like when generated by\nthe CMS, BUT now stored as simple HTML files. When I say EXACT, I mean it, even\nas to keep documents at their original location from the new static files. It\nmeans that each HTML document had to keep their same value BUT that a file will\nexist and the web server will find it. For example, if a link points to "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Ffoo"}]},{type:a,value:",\nthe link in the page remain as-is, even though its now a static file at\n"},{type:b,tag:i,props:{},children:[{type:a,value:eC}]},{type:a,value:", but the web server will serve "},{type:b,tag:i,props:{},children:[{type:a,value:eC}]},{type:a,value:" anyway."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Here are a few steps I made to achieve just that. Notice that your mileage may\nvary, I've done those steps and they worked for me."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"I've done this procedure a few times with WordPress blogs along with\n"},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.w3.org\u002Fwebat25\u002F",rel:[B,C,D],target:E},children:[{type:b,tag:G,props:{},children:[{type:a,value:"webat25.org"}]},{type:a,value:" that is now hosted as "},{type:b,tag:G,props:{},children:[{type:a,value:"w3.org\u002Fwebat25\u002F"}]}]},{type:a,value:" website that was\nrunning on ExpressionEngine."}]},{type:a,value:e},{type:b,tag:P,props:{id:bJ},children:[{type:b,tag:m,props:{href:dV,ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:bK}]},{type:a,value:e},{type:b,tag:P,props:{id:ew},children:[{type:b,tag:m,props:{href:"#1-browse-and-get-all-pages-you-think-could-be-lost-in-scraping",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ex}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"We want a simple file with one web page per line with its full address. This\nwill help the crawler to not forget pages."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Use a web browser developer tool Network inspector, keep it open with\n\"preserve log\"."}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Once you browsed the site a bit, from the network inspector tool, list all\ndocuments and then export using the \"Save as HAR\" feature."}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Extract urls from har file using "},{type:b,tag:i,props:{},children:[{type:a,value:"underscore-cli"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"npm install underscore-cli cat site.har | underscore select '.entries .request\n.url' \u003E workfile.txt"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Remove first and last lines (its a JSON array and we want one document per\nline)"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Remove the trailing remove hostname from each line (i.e. start by \u002Fpath), in\nvim you can do "},{type:b,tag:i,props:{},children:[{type:a,value:"%s\u002Fhttp:\\\u002F\\\u002Fwww\\.example.org\u002F\u002Fg"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Remove "},{type:b,tag:i,props:{},children:[{type:a,value:aa}]},{type:a,value:bt},{type:b,tag:i,props:{},children:[{type:a,value:"\","}]},{type:a,value:" from each lines, in vim you can do "},{type:b,tag:i,props:{},children:[{type:a,value:"%s\u002F\",$\u002F\u002Fg"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"At the last line, make sure the "},{type:b,tag:i,props:{},children:[{type:a,value:aa}]},{type:a,value:" is removed too because the last regex\nmissed it"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Remove duplicate lines, in vim you can do "},{type:b,tag:i,props:{},children:[{type:a,value:":sort u"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Save this file as "},{type:b,tag:i,props:{},children:[{type:a,value:"list.txt"}]},{type:a,value:" for the next step."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:P,props:{id:ey},children:[{type:b,tag:m,props:{href:"#2-lets-scrape-everything",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ez}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"We'll do two scrapes. First one is to get all assets it can get, then we'll go\nagain with different options."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"The following are the commands I ran on the last successful attempt to replicate\nthe site I was working on. This is not a statement that this method is the most\nefficient technique. Please feel free to improve the document as you see fit."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"First a quick TL;DR of "},{type:b,tag:i,props:{},children:[{type:a,value:aW}]},{type:a,value:eD}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:eE}]},{type:a,value:bU},{type:b,tag:i,props:{},children:[{type:a,value:cN}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:cO}]},{type:a,value:bU},{type:b,tag:i,props:{},children:[{type:a,value:"--convert-links"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:eF}]},{type:a,value:bU},{type:b,tag:i,props:{},children:[{type:a,value:"--backup-converted"}]},{type:a,value:" which creates .orig files"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:aJ}]},{type:a,value:bU},{type:b,tag:i,props:{},children:[{type:a,value:"--page-requisites"}]},{type:a,value:" makes a page to get ALL requirements"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:eG}]},{type:a,value:" ensures we dont download the same file twice and end up with duplicates\n(e.g. file.html AND file.1.html)"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"--cut-dirs"}]},{type:a,value:" would prevent creating directories and mix things around, do not\nuse."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Notice that we're sending headers as if we were a web browser. Its up to you."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"UA"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'Mozilla\u002F5.0 (Macintosh; Intel Mac OS X 10_9_5) AppleWebKit\u002F537.36 (KHTML, like Gecko) Chrome\u002F40.0.2214.94 Safari\u002F537.36'"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"ACCEPTL"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'Accept-Language: fr-FR,fr;q=0.8,fr-CA;q=0.6,en-US;q=0.4,en;q=0.2'"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"ACCEPTT"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'Accept: text\u002Fhtml,application\u002Fxhtml+xml,application\u002Fxml;q=0.9,image\u002Fwebp,*\u002F*;q=0.8'"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bV}]},{type:a,value:eH},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eG}]},{type:a,value:" --random-wait "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bw}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:eI}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:eJ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n     --no-cache "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eK}]},{type:a,value:" --page-requisites "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:eL},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eM}]},{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eN}]},{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:eO}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Then, another pass"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bV}]},{type:a,value:eH},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cN}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bw}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:eI}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:eJ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eF}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eK}]},{type:a,value:" --no-cache --no-parent "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:eL},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eM}]},{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"$ACCEPTL"}]},{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aP},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cP}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:eN}]},{type:a,value:aa}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:eO}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:eA},children:[{type:b,tag:m,props:{href:"#3-do-some-cleanup-on-the-fetched-files",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:eB}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Here are a few commands I ran to clean the files a bit"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Remove empty lines in every .orig files. They're the ones we'll use in the end\nafter all"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bx}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-regextype"}]},{type:a,value:" posix-egrep "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-regex"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'.*\\.orig$'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'s\u002F\\r\u002F\u002F'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Rename the .orig file into html"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'*orig'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bw}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"p;s\u002Forig\u002Fhtml\u002F\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bQ}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bx}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'*\\.html\\.html'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bw}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"p;s\u002F\\.html\u002F\u002F\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bQ}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Many folders might have only an index.html file in it. Let's just make them a\nfile without directory"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bx}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'index.html'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bW}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bw}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"p;s\u002F\\\u002Findex\\.html\u002F.html\u002F\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cR}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bQ}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Remove files that has a "},{type:b,tag:i,props:{},children:[{type:a,value:".1"}]},{type:a,value:" (or any number in them), they are most likely\nduplicates anyway"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bx}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'*\\.1\\.*'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e}]}]},dir:eu,path:"\u002Fblog\u002F2015\u002F05\u002Fconverting-dynamic-site-static-copy",extension:aD,slug:"converting-dynamic-site-static-copy",createdAt:cM,updatedAt:cM,category:bv,prettyfiedTemporalDate:{prettified:"Wednesday, May 20, 2015",temporalDate:"2015-05-20"}},{title:"Upgrade to Python 2.7.9 on Ubuntu 14.04 LTS and make your own .deb package for deployment",locale:aZ,created:"2015-04-05T00:00:00.000Z",updated:a_,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F04\u002Fupgrade-python-2-7-9-ubuntu-14-04-lts-making-deb-package\u002F",status:aB,revising:ak,caption:ag,caracteresBizzares:ag,gallery:ag,migrateCode:ak,migrateImages:ag,migrateLinks:ag,categories:[ar],tags:[bI,ai,bH,eR],keywords:["Python",eS],excerpt:"Need to run your web app with Python 2.7.9, but server environment uses Ubuntu Long Term Support? Don’t replace Python, leverage VirtualEnv instead!",toc:[{id:eT,depth:N,text:eU},{id:ai,depth:N,text:bX},{id:eV,depth:N,text:eW},{id:eX,depth:V,text:eY},{id:eZ,depth:N,text:e_}],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"I had this post hanging in my drafts on how I attempted to install a valid\nPython 2.7.9 runtime environment on Ubuntu 14.04 and make my own .deb package\nfor easy re-deployment."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:dL}]},{type:a,value:" This procedure isn't complete as I had to shift focus elsewhere. I\nmight rework this article to adjust what's missing."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"While I understand that Ubuntu 14.04 "},{type:b,tag:m,props:{href:"https:\u002F\u002Faskubuntu.com\u002Fquestions\u002F559036\u002Fwhen-will-the-python-2-7-9-upgrades-be-available-from-apt-get-for-14-04lts#answer-560159",rel:[B,C,D],target:E},children:[{type:a,value:"will"}]},{type:a,value:g},{type:b,tag:m,props:{href:"https:\u002F\u002Fserverfault.com\u002Fquestions\u002F669859\u002Fhow-can-i-upgrade-python-to-2-7-9-on-ubuntu-14-4",rel:[B,C,D],target:E},children:[{type:a,value:"remain"}]},{type:a,value:" using "},{type:b,tag:_,props:{},children:[{type:a,value:"Python 2.7.6"}]},{type:a,value:"\ninternally, applications we run can be configured to use another python\nenvironment. Its what virtualenv is all about after all, isn't it."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"This post attempts to install, and make an installable "},{type:b,tag:_,props:{},children:[{type:a,value:cT}]},{type:a,value:" package of\n"},{type:b,tag:G,props:{},children:[{type:a,value:"Python 2.7.9"}]},{type:a,value:" and is meant to be used by web applications without touching\nthe system's python runtime."}]},{type:a,value:e},{type:b,tag:P,props:{id:eT},children:[{type:b,tag:m,props:{href:"#why-not-replacing-internal-python-version",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:eU}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"The reason is simple. If you replace internal Python version, other softwares\nwithin the OS will have broken dependencies."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"I realized this while I wanted to upgrade the version and breaking an hard\ndependency I have on Salt Stack. Since many components within a given Ubuntu\nversion relies on Python, it could break anything else. This is why I stopped\nworking on the idea of replacing internally, but instead to configure VirtualEnv\nto use another version instead."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you see procedures that shows you to replace telling you to use\n"},{type:b,tag:i,props:{},children:[{type:a,value:"update-alternatives"}]},{type:a,value:" to replace python, don't do it! Go instead learn how to\nrun your own Python version in VirtualEnv."}]},{type:a,value:e},{type:b,tag:P,props:{id:ai},children:[{type:b,tag:m,props:{href:e$,ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:bX}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Install build dependencies"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Those were the ones I ran last before a successful build on "},{type:b,tag:G,props:{},children:[{type:a,value:"Ubuntu 14.04\nLTS"}]},{type:a,value:", if you aren't using the same distribution, you might get a different\nlist."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        autotools-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        blt-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"bzip2"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        dpkg-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        g++-multilib "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        gcc-multilib "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fa},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fa},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fc},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fc},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libffi-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libffi6 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libffi6-dbg "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libgdbm-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libgpm2 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libncursesw5-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libreadline-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libsqlite3-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fd},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:fd},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        libtinfo-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        mime-support "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        net-tools "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        netbase "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        python-crypto "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        python-mox3 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        python-pil "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        python-ply "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        quilt "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        tk-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        zlib1g-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        zlib1g-dev\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:N},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Get Python sources and compile"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aW}]},{type:a,value:" https:\u002F\u002Fwww.python.org\u002Fftp\u002Fpython\u002F2.7.9\u002FPython-2.7.9.tgz\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fe}]},{type:a,value:" xfz Python-2.7.9.tgz\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:" Python-2.7.9\u002F\n.\u002Fconfigure "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"--prefix"}]},{type:a,value:" \u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9 --enable-ipv6\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ff}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ff}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:V},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Test if the version works"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9\u002Fbin\u002Fpython "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-V"}]},{type:a,value:"\n\nPython "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2.7"}]},{type:a,value:".9\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:cV},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Then prepare package through FPM"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        ruby-dev "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n        gcc\n\ngem "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:fg}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Its basically about creating a .deb based on your new runtime setup. You can do\nthat by using "},{type:b,tag:m,props:{href:cW,rel:[B,C,D],target:E},children:[{type:a,value:cX}]},{type:a,value:" (\"Fabulous Package Manager\"), I am "},{type:b,tag:m,props:{href:fh,rel:[B,C,D],target:E},children:[{type:a,value:"using this technique\nin a post I published recently about installing a PHP library"}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:P,props:{id:eV},children:[{type:b,tag:m,props:{href:"#incomplete-scratchpad",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:eW}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"But that's as far as my notes goes for now. Sorry about that."}]},{type:a,value:e},{type:b,tag:Y,props:{id:eX},children:[{type:b,tag:m,props:{href:"#setuptools",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:eY}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"As per recommended in "},{type:b,tag:m,props:{href:"https:\u002F\u002Fpypi.python.org\u002Fpypi\u002Fsetuptools#unix-wget",rel:[B,C,D],target:E},children:[{type:a,value:"Setuptools instructions"}]},{type:a,value:", we can run "},{type:b,tag:i,props:{},children:[{type:a,value:"easy_install"}]},{type:a,value:"\nthrough a "},{type:b,tag:i,props:{},children:[{type:a,value:aW}]},{type:a,value:", like so;"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aW}]},{type:a,value:" https:\u002F\u002Fbootstrap.pypa.io\u002Fez_setup.py "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-O"}]},{type:a,value:" - "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:" \u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9\u002Fbin\u002Fpython\n\n  \u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9\u002Fbin\u002Feasy_install pip\n  \u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9\u002Fbin\u002Fpip "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:" virtualenv\n\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Then, create symbolic links"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fi}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bu}]},{type:a,value:" \u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9\u002Fbin\u002Feasy_install \u002Fusr\u002Fbin\u002Feasy_install\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fi}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bu}]},{type:a,value:" \u002Fusr\u002Flocal\u002Flib\u002Fpython2.7.9\u002Fbin\u002Fpip \u002Fusr\u002Fbin\u002Fpip\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"You can try if it worked"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[v,s]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"pip list\n\n  pip "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"6.0"}]},{type:a,value:".8"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:"\n  setuptools "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"14.3"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:"\n  virtualenv "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"12.0"}]},{type:a,value:".7"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:eZ},children:[{type:b,tag:m,props:{href:"#resources",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:e_}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fj,rel:[B,C,D],target:E},children:[{type:a,value:fj}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fk,rel:[B,C,D],target:E},children:[{type:a,value:fk}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fl,rel:[B,C,D],target:E},children:[{type:a,value:fl}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fm,rel:[B,C,D],target:E},children:[{type:a,value:fm}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fn,rel:[B,C,D],target:E},children:[{type:a,value:fn}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fo,rel:[B,C,D],target:E},children:[{type:a,value:fo}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:fp,rel:[B,C,D],target:E},children:[{type:a,value:fp}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:"http:\u002F\u002Fwww.stylesen.org\u002Fpython%5C_27%5C_debian%5C_squeeze%5C_60",rel:[B,C,D],target:E},children:[{type:a,value:"http:\u002F\u002Fwww.stylesen.org\u002Fpython\\_27\\_debian\\_squeeze\\_60"}]}]},{type:a,value:e}]}]},dir:fq,path:"\u002Fblog\u002F2015\u002F04\u002Fupgrade-python-2-7-9-ubuntu-14-04-lts-making-deb-package",extension:aD,slug:"upgrade-python-2-7-9-ubuntu-14-04-lts-making-deb-package",createdAt:fr,updatedAt:fr,category:ar,prettyfiedTemporalDate:{prettified:"Sunday, April 5, 2015",temporalDate:"2015-04-05"}},{title:"Install Discourse and Docker on Ubuntu 14.04 with aufs enabled",locale:aZ,created:"2015-04-02T00:00:00.000Z",updated:a_,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F04\u002Finstall-discourse-docker-ubuntu-14-04-aufs-enabled\u002F",status:aB,revising:ak,categories:[ar],tags:["standardization","salt-stack",ai],keywords:[aC,dM,cY,eS,"makefile"],excerpt:"I needed to install a set of VMs to run apps within Docker containers. In the case of Discourse, docker requires you to use aufs instead of devicemapper.",toc:[{id:ai,depth:N,text:bX}],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"While working to run "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.discourse.org\u002F",rel:[B,C,D],target:E},children:[{type:a,value:dI}]},{type:a,value:" on "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.docker.com\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"Docker"}]},{type:a,value:" I was getting numerous errors\nabout a mount problem related to device mapper."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you are using Ubuntu 14.04 LTS, want to solve the problem with aufs, and use\nSalt Stack to control your VMs, here's how I did it."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"After digging "},{type:b,tag:m,props:{href:"https:\u002F\u002Fmeta.discourse.org\u002Ft\u002Fdocker-error-on-bootstrap\u002F13657\u002F9",rel:[B,C,D],target:E},children:[{type:a,value:aQ}]},{type:a,value:g},{type:b,tag:m,props:{href:"https:\u002F\u002Fmeta.discourse.org\u002Ft\u002Fubuntu-updates-intefere-with-docker-and-aufs\u002F25039",rel:[B,C,D],target:E},children:[{type:a,value:"some"}]},{type:a,value:" time, I found others who had also problems to\nrun Discourse in Docker, and that we had to use \"aufs\"."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"I had no idea that we could use different mount subsystems in Docker."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"So I had to read some more on we can find out if we have "},{type:b,tag:i,props:{},children:[{type:a,value:cY}]},{type:a,value:" (whatever this\nis), and that we can tell whether or not Docker is configured to use it."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"The "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fdocker\u002Fdocker\u002Fissues\u002F10161",rel:[B,C,D],target:E},children:[{type:a,value:"issue docker\u002Fdocker#10161"}]},{type:a,value:" had proven very helpful to figure out what\nwas my problem. I never thought I could tell Docker to use another device mapper\nengine anyway. In the end, all you can do is to add a "},{type:b,tag:i,props:{},children:[{type:a,value:"-s foo"}]},{type:a,value:" and it can change\nthe Storage engine."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Turns out that "},{type:b,tag:i,props:{},children:[{type:a,value:cY}]},{type:a,value:" is a Kernel module, and that latest Ubuntu 14.04 has it\n"},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fdocker\u002Fdocker\u002Fpull\u002F10860",rel:[B,C,D],target:E},children:[{type:a,value:"but not in the default kernel package"}]},{type:a,value:". You have to make sure that\n"},{type:b,tag:i,props:{},children:[{type:a,value:"linux-image-extra-virtual"}]},{type:a,value:bt},{type:b,tag:i,props:{},children:[{type:a,value:"aufs-tools"}]},{type:a,value:" are installed."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Documentation and notes recommends to download and "},{type:b,tag:m,props:{href:"https:\u002F\u002Fget.docker.com\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"run a shell script"}]},{type:a,value:" to\ninstall Docker instead of using the distribution packages. But I refuse to\nfollow this advice because I already manage via Salt stack every components of\nthe infrastructure. I just needed to put the right pieces together."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Since those changes are specific to Discourse I didn't wanted to make a pull\nrequest to "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fsaltstack-formulas\u002Fdocker-formula",rel:[B,C,D],target:E},children:[{type:b,tag:G,props:{},children:[{type:a,value:"saltstack-formulas\u002Fdocker-formula"}]}]},{type:a,value:" right away, i'd need to\n"},{type:b,tag:m,props:{href:"https:\u002F\u002Fdocs.saltstack.com\u002Fen\u002Flatest\u002Ftopics\u002Fdevelopment\u002Fconventions\u002Fformulas.html",rel:[B,C,D],target:E},children:[{type:a,value:"follow Salt formula conventions"}]},{type:a,value:" and add more logic for my PR to be usable\nby other server runtime too. Not something I had in my plans today."}]},{type:a,value:e},{type:b,tag:P,props:{id:ai},children:[{type:b,tag:m,props:{href:e$,ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:bX}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"On the salt master, make sure you have the following:"}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Add "},{type:b,tag:i,props:{},children:[{type:a,value:"saltstack-formulas\u002Fdocker-forumla"}]},{type:a,value:" in your gitfs entries"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,cZ]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# \u002Fetc\u002Fsalt\u002Fmaster.d\u002Fgitfs.conf"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"fileserver_backend"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" roots\n  "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" git\n\n"},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"gitfs_remotes"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:"\u002F\u002Fgithub.com\u002Fsaltstack"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"formulas\u002Fdocker"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"formula.git\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:N},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Ensure you have "},{type:b,tag:i,props:{},children:[{type:a,value:aC}]},{type:a,value:" in your base top file"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,cZ]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# \u002Fsrv\u002Fsalt\u002Ftop.sls"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"base"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"'backend-discourse*'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" discourse\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:V},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Create add those lines in "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fsrv\u002Fsalt\u002Fdiscourse\u002Finit.sls"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,cZ]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# https:\u002F\u002Fgithub.com\u002Fsaltstack-formulas\u002Fdocker-formula"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:"% set kernelrelease = salt"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'grains.get'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"('kernelrelease') "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" set dir = '\u002Fsrv\u002Fwebplatform\u002Fdiscourse' "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:c_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"include"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" docker\n\n"},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"\u002Fetc\u002Fdefault\u002Fdocker"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"file.managed"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"contents"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aG}]},{type:b,tag:c,props:{className:[d,"scalar",F]},children:[{type:a,value:"\n        # Docker Upstart and SysVinit configuration file\n        #\n        # Managed by Salt Stack, at {{ source }}. Do NOT edit manually!\n        # Docker dependencies: Refer to the script at https:\u002F\u002Fget.docker.com\u002F\n        # Available cli options: http:\u002F\u002Fdocs.docker.com\u002Freference\u002Fcommandline\u002Fcli\u002F\n        DOCKER_OPTS=\"--dns 8.8.8.8 -s aufs\""}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"watch_in"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bR}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:" docker"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"service\n    "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:ft}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:" lxc"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"docker\n      "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:fu},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"kernel"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"deps\n\n"},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"linux-kernel-deps"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:fv}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"pkgs"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:fu},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"image"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"extra"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:" kernelrelease "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" aufs"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"tools\n  "},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"cmd.run"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:" modprobe aufs\n    "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:fw}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:" modinfo aufs "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:a,value:" \u002Fdev\u002Fnull 2"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,cF]},children:[{type:a,value:"&1"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"clone-discourse"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:fv}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:fx},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"git.latest"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:fs},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:"\u002F\u002Fgithub.com\u002Fdiscourse\u002Fdiscourse_docker.git\n    "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:da},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"target"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:fw}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:" test "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"f "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:"\u002Fcontainers\u002Fapp.yml\n    "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:ft}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"file"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:c$}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:fx},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"file.directory"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bY}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:a,value:b_},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:da},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"group"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:da},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,M,R]},children:[{type:a,value:"recurse"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:H}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" user\n      "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:" group\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:cV},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Restart your salt master service, sync everything and run highstate"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bR}]},{type:a,value:" salt-master restart\nsalt "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"* saltutil.sync_all\nsalt "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"* service.restart salt-minion\nsalt discourse-backend"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"* state.highstate\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:fy},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Go to the VM and run the installer"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note that as long as there is no "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fsrv\u002Fwebplatform\u002Fdiscourse\u002Fcontainers\u002Fapp.yml"}]},{type:a,value:"\nthe states will update the git "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fdiscourse\u002Fdiscourse_docker",rel:[B,C,D],target:E},children:[{type:a,value:"repository to the latest version"}]},{type:a,value:". In my\nprojects, I make sure that salt also generates a configuration file with my\ncurrent environment details (e.g. DNS, Salt master, Redis, SMTP relay, Postgres'\nprivate IP addresses)."}]}]},dir:fq,path:"\u002Fblog\u002F2015\u002F04\u002Finstall-discourse-docker-ubuntu-14-04-aufs-enabled",extension:aD,slug:"install-discourse-docker-ubuntu-14-04-aufs-enabled",createdAt:fz,updatedAt:fz,category:ar,prettyfiedTemporalDate:{prettified:"Thursday, April 2, 2015",temporalDate:"2015-04-02"}},{title:"Install PHP5 Memcached PECL extension and have it support igbinary",locale:aZ,created:"2015-02-18T00:00:00.000Z",updated:a_,canonical:fh,status:aB,revising:ag,migrateLinks:ak,migrateImages:ag,gallery:ag,caption:ag,categories:[ar],tags:[bs,"cloud-computing",ai],keywords:["Memcached","PECL","Ubuntu","dpkg","PHP5","php-fpm"],coverImage:{src:"~\u002Fassets\u002Fimages\u002Flogos\u002Fphp-igbinary.png",text:"[Igbinary][igbinary-github] is a drop in replacement for the standard *PHP serializer*.\nInstead of the time and space consuming textual representation used by PHP’s serialize, *igbinary* stores PHP data structures in a compact binary form.\n[igbinary-github]: https:\u002F\u002Fgithub.com\u002Figbinary\u002Figbinary\n"},excerpt:"Main part of my job is to make sure that its easy to reinstall a VM. Sometimes you need to build a package from source. How do you distribute it? Here’s one way",toc:[{id:fA,depth:N,text:fB},{id:fC,depth:N,text:fD},{id:fE,depth:N,text:fF},{id:bL,depth:N,text:bM}],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"I was trying to figure out why my PHP setup would never have both "},{type:b,tag:i,props:{},children:[{type:a,value:fG}]},{type:a,value:" to\nbe used to serialize sessions in Memcached using current Memcached PECL\nextension."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"After some research I found a procedure in an answer on StackOverflow."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"But it didn't solve my main requirement: "},{type:b,tag:G,props:{},children:[{type:a,value:"Since I do automated deployment, I\nMUST be able to move packages around"}]},{type:a,value:". Since all my VMs are using the same\ndistribution and that I already have my own "},{type:b,tag:_,props:{},children:[{type:a,value:"apt"}]},{type:a,value:" repo, I could just add "},{type:b,tag:_,props:{},children:[{type:a,value:"one\nmore"}]},{type:a,value:" deb file."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"My objective was then now to package it for deployment. To do this, I discovered\n"},{type:b,tag:m,props:{href:cW,rel:[B,C,D],target:E},children:[{type:a,value:"Jordan Sissel's project called "},{type:b,tag:G,props:{},children:[{type:a,value:cX}]}]},{type:a,value:" which stands for \""},{type:b,tag:_,props:{},children:[{type:a,value:"Freaking Package\nManager"}]},{type:a,value:"\" (sic)"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"My target deployment runs on Ubuntu 14.04 LTS and I want it to replace upstream\n"},{type:b,tag:i,props:{},children:[{type:a,value:"php5-memcached"}]},{type:a,value:" package as a simple "},{type:b,tag:_,props:{},children:[{type:a,value:cT}]},{type:a,value:" file."}]},{type:a,value:e},{type:b,tag:P,props:{id:fA},children:[{type:b,tag:m,props:{href:"#build-from-pecl-source",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fB}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:_,props:{},children:[{type:a,value:"NOTE"}]},{type:a,value:" The following was run on an Ubuntu 14.04 VM with "},{type:b,tag:m,props:{href:fH,rel:[B,C,D],target:E},children:[{type:a,value:"@rynop's procedure"}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Setting the machine up to make a package."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:fI},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:fI},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bA}]},{type:a,value:" php5-dev pkg-config php-pear\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:N},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Follow steps from the procedure. Those were taken from the "},{type:b,tag:_,props:{},children:[{type:b,tag:m,props:{href:fH,rel:[B,C,D],target:E},children:[{type:a,value:"Original procedure"}]}]},{type:a,value:", just before issuing "},{type:b,tag:i,props:{},children:[{type:a,value:".\u002Fconfigure"}]},{type:a,value:X}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"pecl_memcached_ver"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"2.2.0\""}]},{type:a,value:"\npecl download memcached-"},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:db}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:fe}]},{type:a,value:" xzvf memcached-"},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:db}]},{type:a,value:".tgz\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:" memcached-"},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:db}]},{type:a,value:"\u002F\nphpize\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:V},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"I realized that under Ubuntu 14.04 we also needed to "},{type:b,tag:_,props:{},children:[{type:a,value:"disable Memcached SASL"}]},{type:a,value:"\nso I had to do it differently"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:".\u002Fconfigure "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n    --enable-memcached-igbinary "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n    --disable-memcached-sasl\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:fC},children:[{type:b,tag:m,props:{href:"#make-a-deb-package",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fD}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Install "},{type:b,tag:m,props:{href:cW,rel:[B,C,D],target:E},children:[{type:a,value:"jordansissel\u002Ffpm"}]},{type:a,value:". Ideally this should be done on a machine or VM\nimage you're OK building things on and you can re-use."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bA}]},{type:a,value:" ruby-dev gcc\n\n"},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Install fpm gem globally."}]},{type:a,value:"\ngem "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:fg}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:N},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Check the package contents you want to replace and let's replicate for our\nown purposes."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:fJ},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"--list"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"grep"}]},{type:a,value:" php5-memcached\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:" \u002Fvar\u002Fcache\u002Fapt "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bx}]},{type:a,value:by},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bz}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'*php5-memcached*'"}]},{type:a,value:"\ndpkg "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-c"}]},{type:a,value:" \u002Fvar\u002Fcache\u002Fapt\u002Farchives\u002Fphp5-memcached_2.1.0-6build1_amd64.deb\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:V},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"I figured out in the output that I only needed a few folders,\n"},{type:b,tag:i,props:{},children:[{type:a,value:"etc\u002Fphp5\u002Fmods-available\u002F"}]},{type:a,value:bt},{type:b,tag:i,props:{},children:[{type:a,value:"usr\u002Flib\u002Fphp5\u002Ffoo"}]},{type:a,value:", so I created them\nmanually."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:" etc\u002Fphp5\u002Fmods-available\u002F\n\n"},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Adjust memcached.ini to suit your tastes, then prepare it for packaging"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ba}]},{type:a,value:" memcached.ini etc\u002Fphp5\u002Fmods-available\u002F\n\n"},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# Make sure the usr\u002Flib\u002Fphp5\u002Ffoo path matches in"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,U]},children:[{type:a,value:"# the result of `dpkg -c` you issued"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:" usr\u002Flib\u002Fphp5\u002F20121212\u002F\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ba}]},{type:a,value:" modules\u002Fmemcached.so usr\u002Flib\u002Fphp5\u002F20121212\u002F\n"}]}]}]},{type:a,value:e},{type:b,tag:Z,props:{start:cV},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Magic will happen"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"fpm "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bu}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"dir"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-t"}]},{type:a,value:" deb "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-n"}]},{type:a,value:" php5-memcached "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2.2"}]},{type:a,value:".0-wpd "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eE}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'\u003Cyour@email.org\u003E'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"--description"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'PHP 5.5 PECL igbinary + memcached support'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-d"}]},{type:a,value:" libmemcached10 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"\n    etc\u002F usr\u002F\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"I could have used "},{type:b,tag:i,props:{},children:[{type:a,value:"--replaces REPLACES"}]},{type:a,value:" in "},{type:b,tag:m,props:{href:"https:\u002F\u002Fgithub.com\u002Fjordansissel\u002Ffpm\u002Fwiki",rel:[B,C,D],target:E},children:[{type:b,tag:i,props:{},children:[{type:a,value:cX}]},{type:a,value:eD}]},{type:a,value:", but when I did\nthis package, I didn't know which syntax to use. Its an optional argument\nanyway."}]},{type:a,value:e},{type:b,tag:Z,props:{start:fy},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Test if the package works"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:fJ},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bV}]},{type:a,value:" \u002Fsrv\u002Fwebplatform\u002Fapt\u002Fphp5-memcached_2.2.0-wpd_amd64.deb\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"The output ..."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"  (Reading database ... 118781 files and directories currently installed.)\n  Preparing to unpack ...\u002Fphp5-memcached_2.2.0-wpd_amd64.deb ...\n  Unpacking php5-memcached (2.2.0-wpd) over (2.1.0-6build1) ...\n  Setting up php5-memcached (2.2.0-wpd) ...\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Success!"}]},{type:a,value:e},{type:b,tag:Z,props:{start:6},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Look at the "},{type:b,tag:i,props:{},children:[{type:a,value:"phpinfo"}]},{type:a,value:" output"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:$,props:{style:"float:unset;",src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F02\u002Fsessions_memcached_after.png",alt:dc},children:[{type:a,value:"\nAter: registered session handlers\n"}]},{type:a,value:e},{type:b,tag:P,props:{id:fE},children:[{type:b,tag:m,props:{href:"#update-your-private-apt-repository-or-create-one",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fF}]},{type:a,value:e},{type:b,tag:Z,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Then, in your own apt repository (if you do have one) here's how I rebuild\nthe index. If you only have a handful of packages, it can simply be a folder\nwith a bunch of deb files."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aU}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aJ}]},{type:a,value:" \u002Fsrv\u002Fapt\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ba}]},{type:a,value:" php5-memcached_2.2.0-wpd_amd64.deb \u002Fsrv\u002Fapt\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:"  \u002Fsrv\u002Fapt\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bA}]},{type:a,value:" dpkg-dev\ndpkg-scanpackages "},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:" \u002Fdev\u002Fnull "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aG}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"gzip"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-9c"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:" Packages.gz\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:dd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'deb file:\u002Fsrv\u002Fapt .\u002F'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:" \u002Fetc\u002Fapt\u002Fsources.list.d\u002Ffoo.list\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you want something more scalable than a directory with a bunch of "},{type:b,tag:i,props:{},children:[{type:a,value:cT}]},{type:a,value:" and\na "},{type:b,tag:i,props:{},children:[{type:a,value:"Package.gz"}]},{type:a,value:" that you rsync around, there are other procedures available\nonline."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Done!"}]},{type:a,value:e},{type:b,tag:P,props:{id:bL},children:[{type:b,tag:m,props:{href:eq,ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:bM}]},{type:a,value:e},{type:b,tag:p,props:{style:cG,className:[cH,cI,cJ,cK,cL]},children:[{type:a,value:e},{type:b,tag:$,props:{className:[bc],src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F02\u002Fsessions_memcached_before2.png",alt:dc},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Session handlers shows memcached"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:$,props:{className:[bc],src:"~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F02\u002Fsessions_memcached_before.png",alt:dc},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:_,props:{},children:[{type:a,value:fG}]},{type:a,value:" support no?"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},dir:"\u002Fblog\u002F2015\u002F02",path:"\u002Fblog\u002F2015\u002F02\u002Finstall-php5-memcached-pecl-extension-support-igbinary",extension:aD,slug:"install-php5-memcached-pecl-extension-support-igbinary",createdAt:fK,updatedAt:fK,category:ar,prettyfiedTemporalDate:{prettified:"Wednesday, February 18, 2015",temporalDate:"2015-02-18"}},{title:"Tester le fonctionnement d'un serveur SMTP",locale:b$,created:"2008-04-19T00:00:00.000Z",updated:"2014-02-19T00:00:00.000Z",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2008\u002F04\u002Ftester-le-fonctionnement-dun-serveur-smtp\u002F",status:aB,revising:ak,categories:[ar],tags:[bs,ai,bH,bv,fL],excerpt:"Envoyer et recevoir des courriels implique une combinaison de systèmes qui interagissent d'une façon assez complexe et un problème de réception ou de classement peut être causé par plusieurs raisons. Étant donné que tout est très intrinsèque sur un serveur, voici une procédure pour s'assurer que tout est en ordre.",toc:[{id:fM,depth:V,text:fN},{id:fO,depth:N,text:fP},{id:fQ,depth:V,text:fR},{id:fS,depth:V,text:fT},{id:fU,depth:V,text:fV},{id:fW,depth:V,text:fX},{id:fY,depth:V,text:fZ},{id:f_,depth:V,text:f$},{id:ga,depth:V,text:gb},{id:gc,depth:V,text:gd},{id:ge,depth:V,text:gf},{id:gg,depth:N,text:gh},{id:gi,depth:V,text:gj},{id:gk,depth:V,text:gl},{id:gm,depth:N,text:gn},{id:go,depth:N,text:gp},{id:gq,depth:N,text:gr},{id:gs,depth:N,text:gt},{id:gu,depth:V,text:gv},{id:gw,depth:N,text:gx}],body:{type:al,children:[{type:b,tag:Y,props:{id:fM},children:[{type:b,tag:m,props:{href:"#v%C3%A9rifier-si-le-firewall-bloque-certains-services",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fN}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Idéalement il faut faire ces tests d'un autre ordinateur que celui qu'on veut\nvérifier."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ainsi on voit si les services sont fonctionnels en tant que tel, et si le\nfirewall ne les bloquent pas."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Quelques ports à tester, qui donnent une réponse"}]},{type:a,value:"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"},{type:b,tag:"table",props:{},children:[{type:b,tag:"thead",props:{},children:[{type:b,tag:bB,props:{},children:[{type:b,tag:gy,props:{},children:[{type:a,value:"Nom du service"}]},{type:b,tag:gy,props:{},children:[{type:a,value:"Port TCP"}]}]}]},{type:b,tag:"tbody",props:{},children:[{type:b,tag:bB,props:{},children:[{type:b,tag:aR,props:{},children:[{type:a,value:"POP"}]},{type:b,tag:aR,props:{},children:[{type:a,value:"101"}]}]},{type:b,tag:bB,props:{},children:[{type:b,tag:aR,props:{},children:[{type:a,value:gz}]},{type:b,tag:aR,props:{},children:[{type:a,value:gA}]}]},{type:b,tag:bB,props:{},children:[{type:b,tag:aR,props:{},children:[{type:a,value:"SMTP"}]},{type:b,tag:aR,props:{},children:[{type:a,value:av}]}]},{type:b,tag:bB,props:{},children:[{type:b,tag:aR,props:{},children:[{type:a,value:"FTP"}]},{type:b,tag:aR,props:{},children:[{type:a,value:gB}]}]}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:a,value:" web1.renoirboulanger.com\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gC}]},{type:a,value:" +OK POP3 Welcome to vm-pop3d "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gD}]},{type:a,value:".7f-DA-2\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gA}]},{type:a,value:"\n* OK "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:"CAPABILITY IMAP4REV1 LITERAL+ SASL-IR LOGIN-REFERRALS "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"AUTH"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"LOGIN"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\nweb1.renoirboulanger.com IMAP4rev1 "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2004.357"}]},{type:a,value:" at Tue, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:":08:17 "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:be}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:"EST"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cc}]},{type:a,value:gE},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:df}]},{type:a,value:" Tue, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:":11:10 "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:be}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ca}]},{type:a,value:de},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gB}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cc}]},{type:a,value:" ProFTPD "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"1.3"}]},{type:a,value:".1rc2 Server ready.\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:cb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note: la note [^c] implique qu'on peut faire "},{type:b,tag:aw,props:{},children:[{type:a,value:"Ctrl"}]},{type:a,value:" + "},{type:b,tag:aw,props:{},children:[{type:a,value:"c"}]},{type:a,value:"\npour quitter plus rapidement de l'attente"}]},{type:a,value:e},{type:b,tag:P,props:{id:fO},children:[{type:b,tag:m,props:{href:"#tester-le-serveur-courriel",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fP}]},{type:a,value:e},{type:b,tag:Y,props:{id:fQ},children:[{type:b,tag:m,props:{href:"#cr%C3%A9er-un-compte-de-test",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fR}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Permet d'éviter de remplir le compte courriel d'un client."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Créer un compte dans "},{type:b,tag:G,props:{},children:[{type:a,value:"DirectAdmin"}]},{type:a,value:gF},{type:b,tag:G,props:{},children:[{type:a,value:"Show all Users"}]},{type:a,value:"\", "},{type:b,tag:_,props:{},children:[{type:a,value:"username"}]},{type:a,value:gF},{type:b,tag:G,props:{},children:[{type:a,value:"E-Mail Accounts"}]},{type:a,value:aa}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Y,props:{id:fS},children:[{type:b,tag:m,props:{href:"#test-envoi-local-vers-virtual_local-avec-exim",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fT}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Avant de tester avec une application (remote en shell, ou GMail par exemple) On\ndevrait tester en local"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite... via une application locale à Gmail "},{type:b,tag:G,props:{},children:[{type:a,value:"Cas de nos courriels\nrenoirboulanger"}]},{type:a,value:", voir \"Test envoi local vers une machine remote avec exim\"\nci-haut."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Le serveur de mon exemple possède Exim comme serveur de transport de courrier\n(SMTP)."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"L'avantage d'utiliser "},{type:b,tag:i,props:{},children:[{type:a,value:"exim -v -odf"}]},{type:a,value:" c'est qu'on sait en shell le output et on\nsait les messages directement"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:gG},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:gH}]},{type:a,value:" test@renoirboulanger.com         "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:gI},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dg}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bf}]},{type:a,value:" a virtuallocal "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\nMessage body                                  "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:"                                             "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:gJ},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:a,value:gK},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gL},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gM}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:gN}]},{type:a,value:"\ndelivering 1JSZkp-0001JH-8H\nLOG: MAIN\n  "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:" support "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:"support@renoirboulanger.com"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gO},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gP},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"571"}]},{type:a,value:gQ}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note: La ligne \""},{type:b,tag:G,props:{},children:[{type:a,value:dm}]},{type:a,value:"\" je note généralement un titre explicatif du genre\n\"Test lundi am 5 local a virtuallocal\" qui donne une idée de quels tests qui\npassent."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Le output des 7 dernières lignes est une réponse expectée si tout va bien."}]},{type:a,value:e},{type:b,tag:aE,props:{id:"les-commandes-via-exim"},children:[{type:b,tag:m,props:{href:"#les-commandes-via-exim",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Les commandes via exim"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"exim -v -odf john.doe@example.org"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"C'est les options qui permettent d'utiliser une instance de Exim pour tester\n("},{type:b,tag:G,props:{},children:[{type:a,value:"odf"}]},{type:a,value:") puis de permettre la (v)erbosité"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:gR}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Il faut entrer "},{type:b,tag:i,props:{},children:[{type:a,value:dm}]},{type:a,value:" Pour annoncer qu'on ajoute au header le sujet, on\npourrait meme ajouter un header comme on veut."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Écrire le message"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Le prompt condidere que si on commence pas par une commande qui termine par \":\",\nest considéré comme du "},{type:b,tag:G,props:{},children:[{type:a,value:gS}]},{type:a,value:" pour le courriel en tant que tel (aka. Le )."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Terminer par \".\""}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:gT}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Y,props:{id:fU},children:[{type:b,tag:m,props:{href:"#v%C3%A9rifier-le-log-denvoi-smtp",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fV}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Utile pour chaque tentative... voir où le message và!"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cf}]},{type:a,value:" \u002Fvar\u002Flog\u002Fexim\u002Fmainlog\n "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:dn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:gU},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:a,value:gK},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gL},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"356"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:gN}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:" test@renoirboulanger.com\n "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:dn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:gU},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:gV}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:"test@renoirboulanger.com"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gO},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gP},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gM}]},{type:a,value:ct},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:dn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:":02:16 1JSZkp-0001JH-8H Completed\n"}]}]}]},{type:a,value:e},{type:b,tag:Y,props:{id:fW},children:[{type:b,tag:m,props:{href:"#tester-r%C3%A9ception-imap",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fX}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Généralement dans *le client "},{type:b,tag:an,props:{},children:[{type:a,value:gz}]},{type:a,value:" (vérifie le\nprocessus IMAP) on peut aller accéder au compte créé dans \"Créer un compte de\ntest courriel\"."}]},{type:a,value:e},{type:b,tag:Y,props:{id:fY},children:[{type:b,tag:m,props:{href:"#v%C3%A9rifier-le-log-impad",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:fZ}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cf}]},{type:a,value:gW},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": imap "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:bR}]},{type:a,value:" init from "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bE}]},{type:a,value:".0.1\n   Feb "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": Login "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gX},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dr}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bE}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:gZ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:dp},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dq}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": Logout "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bZ}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gX},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dr}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:gY},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bE}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:dt},{type:b,tag:i,props:{},children:[{type:a,value:du}]},{type:a,value:dv}]},{type:a,value:e},{type:b,tag:Y,props:{id:f_},children:[{type:b,tag:m,props:{href:"#v%C3%A9rifier-pop-en-telnet",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:f$}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"On peut lancer le test à partir de n'importe quel type de client telnet."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour s'assurer que le mail server répond sur le bon, on peut aussi lancer la\nrequete telnet sur le domaine du mail exchange (MX) du client."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"telnet mail.renoirboulanger.com "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gC}]},{type:a,value:"                 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\nTrying "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cg}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:".\nConnected to mail.renoirboulanger.com "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cg}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:".\nEscape character is "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:g_}]},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:"\n+OK POP3 Welcome to vm-pop3d "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:gD}]},{type:a,value:".7f-DA-2\nuser test@renoirboulanger.com                         "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:g$},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"user (username)\""}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\n+OK\npass GMkRZaKQ                                         "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:g$},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"pass (mot de passe)\""}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\n+OK opened mailbox "},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:gV}]},{type:a,value:"\nlist                                                  "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:"Pour lister les messages "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"list\""}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\n+OK\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bi}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"780"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ci}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"488"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bj}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ha}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:"\nretr "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bj}]},{type:a,value:"                                                "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:"Pour obtenir un message, "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"retr (numero du message)\""}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\n+OK "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ha}]},{type:a,value:" octets\nReturn-path: "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:"\nEnvelope-to: test@renoirboulanger.com\nDelivery-date: Mon, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:be}]},{type:a,value:"\nReceived: from renoirb by web1.renoirboulanger.com with "},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bf}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:"Exim "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:df}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:"envelope-from "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:cU},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cv}]},{type:a,value:" 1JTgiM-00057L-SW\n        "},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:" test@renoirboulanger.com"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:" Mon, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:be}]},{type:a,value:gI},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dg}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bf}]},{type:a,value:" a virtuallocal\nMessage-Id: "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:"1JSZkp-0001JH-8H@web1.renoirboulanger.com"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:"\nFrom: renoirb@web1.renoirboulanger.com\nDate: Mon, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:dw},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:be}]},{type:a,value:"\n\nMessage body\n\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:"\nquit                                                  "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:a,value:"Finalement, "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"quit\""}]},{type:a,value:bF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\n+OK\nConnection closed by foreign host.\n"}]}]}]},{type:a,value:e},{type:b,tag:Y,props:{id:ga},children:[{type:b,tag:m,props:{href:"#v%C3%A9rifier-le-log-pop3d",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gb}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Si tout va bien en telnet, pourquoi ne pas tester pour être sûr!?"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cf}]},{type:a,value:gW},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:":13:18 web1 vm-pop3d"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": User "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:hb}]},{type:a,value:" logged "},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:hc}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cj}]},{type:a,value:hd},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:he}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bj}]},{type:a,value:gZ},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:":13:22 web1 vm-pop3d"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": bytes: domain renoirboulanger.com "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"491"}]},{type:a,value:" bytes\n   Feb "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ax}]},{type:a,value:":13:23 web1 vm-pop3d"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dx}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": Session ended "},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:" user: "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:hb}]},{type:a,value:do0},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cj}]},{type:a,value:hd},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:he}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bj}]},{type:a,value:aN},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"ndel"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ep}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:dt},{type:b,tag:i,props:{},children:[{type:a,value:du}]},{type:a,value:dv}]},{type:a,value:e},{type:b,tag:Y,props:{id:gc},children:[{type:b,tag:m,props:{href:"#test-envoi-remote-vers-virtual_local-avec-telnet",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gd}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Au lieu d'avoir un programme comme mail installé sur une station Linux, on peut\nsimplement utiliser telnet avec ces commandes"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"telnet web1.renoirboulanger.com "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:av}]},{type:a,value:"\n   Trying "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cg}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:".\n   Connected to web1.renoirboulanger.com.\n   Escape character is "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:g_}]},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:hf},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cc}]},{type:a,value:gE},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:df}]},{type:a,value:" Fri, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"22"}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hg}]},{type:a,value:":42:44 "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:be}]},{type:a,value:"\nhelo renoirboulanger.com\n   "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:" web1.renoirboulanger.com Hello mtrlpq02-1168108314.sdsl.bell.ca "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cj}]},{type:a,value:".235.26"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:"\nmail from: lunique@renoirboulanger.com\n   "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:" OK\nrcpt to: renoir.boulanger@renoirboulanger.com\n   "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:" Accepted\n   data\n   "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dy}]},{type:a,value:" Enter message, ending with "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:hh}]},{type:a,value:" on a line by itself\nSubject: Test courriel "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hi}]},{type:a,value:"\nVia tsc-webmestre-dev dans le bureau de renoirboulanger vers web1 qui va rediriger à gmail directement"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:dY}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:hf},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:" OK "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:cv}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"1JSa3U-0003TM-Tv\nquit\n   "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"221"}]},{type:a,value:" web1.renoirboulanger.com closing connection\n   Connection closed by foreign host.\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note: les codes 250, 354, 220 sont des numeros de messages voir:\n"},{type:b,tag:m,props:{href:hj,rel:[B,C,D],target:E},children:[{type:a,value:hj}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"J'ai mis trois espaces devant la réponse reçue."}]},{type:a,value:e},{type:b,tag:aE,props:{id:"les-commandes-telnet-envoi-smtp"},children:[{type:b,tag:m,props:{href:"#les-commandes-telnet-envoi-smtp",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Les commandes telnet envoi smtp"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"telnet "},{type:b,tag:i,props:{},children:[{type:a,value:"web1.renoirboulanger.com"}]}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"... Trying et connected signifient qu'il a essayé et réussi"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"220 web1.renoirboulanger.com ESMTP Exim 4.66 Fri, 22 Feb 2008 10:42:44 -0500\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Signifie 220 (c'est le code du message) que web1 utilise Exim 4.66.... et qu'on\nest le 22 Feb... C'est ok!"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"helo domaine.du.helo.renoirboulanger.com"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:dz},{type:b,tag:i,props:{},children:[{type:a,value:hk}]},{type:a,value:"\" puis le domaine de l'envoyant"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:hk}]},{type:a,value:" (et "},{type:b,tag:i,props:{},children:[{type:a,value:"ehlo"}]},{type:a,value:") sont des conventions pour savoir quel est le hostname qui envoit le courriel"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"mail from: john.doe@example.org"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:dz},{type:b,tag:i,props:{},children:[{type:a,value:"mail from:"}]},{type:a,value:"\" puis l'adresse de l'envoyant"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ce qui permet de dire le From: field"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"rcpt to: john.doe@example.org"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:dz},{type:b,tag:i,props:{},children:[{type:a,value:"rcpt to:"}]},{type:a,value:"\" puis l'adresse du recipient"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"C'est le recipient."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:gS}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Annonce au MTA (le serveur SMTP) qu'il va envoyer des données textes"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:gR}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Faut au minimum entrer \""},{type:b,tag:i,props:{},children:[{type:a,value:dm}]},{type:a,value:"\" car c'est ce que le serveur attend."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Écrire le message, tout simplement"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Terminer"}]},{type:a,value:" par un dernier [procedures:"},{type:b,tag:G,props:{},children:[{type:a,value:"Enter"}]},{type:a,value:"] et laisser un poin\n\""},{type:b,tag:G,props:{},children:[{type:a,value:X}]},{type:a,value:aa}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite, le message SMTP #"},{type:b,tag:i,props:{},children:[{type:a,value:dy}]},{type:a,value:" annonce que l'on peut écrire notre courriel a\nvolonté... jusqu'a ce qu'on ajoute une ligne vide avec uniquement un \".\" (qui\nannonce la fin du message)"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:gT}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:Y,props:{id:ge},children:[{type:b,tag:m,props:{href:"#test-envoi-local-vers-une-machine-remote-avec-exim",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gf}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Permet de savoir si l'envoi local vers un remote fonctionne bien"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Il s'agit de l'exemple typique d'un email local envoyé vers Gmail par exemple."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:gG},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:aO}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:gH}]},{type:a,value:" sysadmin@renoirboulanger.com\nSubject: Test lundi am "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hl}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bf}]},{type:a,value:" to remote\nMessage correct pour voir de l'usager joe sur web1 vers sysadmin hsu at renoirboulanger\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:gJ},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:a,value:" joe@web1.renoirboulanger.com "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"joe "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:di}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:dj},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"437"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"Test lundi am 4 local to remote\""}]},{type:a,value:"\ndelivering 1JSZmM-0001LR-S8\nConnecting to ASPMX.L.GOOGLE.COM "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hm}]},{type:a,value:hn},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:":25 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:". connected\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cc}]},{type:a,value:" mx.google.com ESMTP z21si1091485qbc.21\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:" EHLO web1.renoirboulanger.com\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:"-mx.google.com at your service, "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cg}]},{type:a,value:ch},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:ho},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:"-SIZE "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"28311552"}]},{type:a,value:ho},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:"-8BITMIME\n         "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:" ENHANCEDSTATUSCODES\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:" MAIL FROM:"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:hp},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"SIZE"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"1470"}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hq}]},{type:a,value:".0 OK\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:" RCPT TO:"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:"a@test.com"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hq}]},{type:a,value:".5 OK\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:" DATA\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dy}]},{type:a,value:" Go ahead\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:" writing message and terminating "},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:hh}]},{type:a,value:dA},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bk}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aA}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2.0"}]},{type:a,value:".0 OK "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"1203693994"}]},{type:a,value:" z21si1091485qbc.21\n  SMTP"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:" QUIT\nLOG: MAIN\n  "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:" sysadmin@renoirboulanger.com "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dk}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:hp},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:dl}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"lookuphost "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bh}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"remote_smtp "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:bg}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"450"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"H"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"ASPMX.L.GOOGLE.COM "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hm}]},{type:a,value:hn},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"C"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"250 2.0.0 OK 1203693994 z21si1091485qbc.21\""}]},{type:a,value:gQ}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note: C'est quoi EHLO ou HELO? voir \"Description du HELO\""}]},{type:a,value:e},{type:b,tag:P,props:{id:gg},children:[{type:b,tag:m,props:{href:"#tester-mail-remote-vers-mailserver-pour-voir-le-bon-fonctionnement-de-spamassassin",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gh}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Le but de ce test est de s'assurer que le service de spam antivirus est lancé,\nil faut s'assurer que le service \"SpamAssassin\" est activé dans la config du\nclient dans le pannel, et qu'on envoie le test en remote."}]},{type:a,value:e},{type:b,tag:Y,props:{id:gi},children:[{type:b,tag:m,props:{href:"#envoi-courriel-via-une-machine-remote-via-mail",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gj}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Sert a s'assurer que l'envoi d'un courriel remote (application ou en shell)\nfonctionne bien de l'extérieur."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"mail test@test.com\nSubject: Test lundi am "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ck}]},{type:a,value:" remote to virtuallocal\nMessage body, with random content\n"},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:X}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:Y,props:{id:gk},children:[{type:b,tag:m,props:{href:"#regarder-le-log-spamd",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gl}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Permet de savoir si le message envoyé dans le test \"Envoi courriel via une\nmachine remote via mail\" à bien passé"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ce}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cf}]},{type:a,value:" \u002Fvar\u002Flog\u002Fmaillog\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:cw},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bi}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:":31:54 web1 spamd"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"3160"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": prefork: child states: II\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ci}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:dB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": spamd: connection from web1 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bE}]},{type:a,value:ds},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:" at port "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hr}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bj}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:dB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": spamd: setuid to renoirb succeeded\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hl}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:dB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": spamd: processing message "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:hs},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ht}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:hu}]},{type:a,value:hv},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:" renoirb:501\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:dg}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:hw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": spamd: identified spam "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"7.0"}]},{type:a,value:"\u002F5.0"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:" renoirb:501 "},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:hc}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hx}]},{type:a,value:" seconds, "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hy}]},{type:a,value:" bytes.\n"},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ck}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aS}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:hw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:S}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bG}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Q}]},{type:a,value:": spamd: result: Y "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ck}]},{type:a,value:" - HTML_MESSAGE,RAZOR2_CF_RANGE_51_100,RAZOR2_CF_RANGE_E4_51_100,RAZOR2_CF_RANGE_E8_51_100,RAZOR2_CHECK,RDNS_NONE,URIBL_JP_SURBL "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"scantime"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hx}]},{type:a,value:",size"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hy}]},{type:a,value:",user"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"renoirb,uid"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"501"}]},{type:a,value:",required_score"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"5.0"}]},{type:a,value:",rhost"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"web1,raddr"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bE}]},{type:a,value:".0.1,rport"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hr}]},{type:a,value:",mid"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ap}]},{type:a,value:hs},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:ht}]},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:hu}]},{type:a,value:hv},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:",autolearn"},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"no\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:cw}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Voici ce que le spamscanner a fait..."}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Ligne 4: Il process le message pour le user"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Ligne 5: Donne le resultat, (soit "},{type:b,tag:G,props:{},children:[{type:a,value:"identified spam"}]},{type:a,value:" ou "},{type:b,tag:G,props:{},children:[{type:a,value:"clean message"}]},{type:a,value:")\navec la note entre parenthèses (note reçue \u002F note maximale)"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Ligne 6: Le résultat Y=C'est un spam... N=Le message est propre... puis la\nvaleur des tests coulés (HTML_MESSAGE,RAZOR2_CF_RANGE_51_100,...)"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:dt},{type:b,tag:i,props:{},children:[{type:a,value:du}]},{type:a,value:dv}]},{type:a,value:e},{type:b,tag:P,props:{id:gm},children:[{type:b,tag:m,props:{href:"#tester-spamassassin",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gn}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour savoir comment SpamAssassin (aka. SA) traite le spam, on peut lancer\nquelques commandes comme celles ci."}]},{type:a,value:e},{type:b,tag:aE,props:{id:"sa-avec-tests-razor2-sur-un-sample-spam"},children:[{type:b,tag:m,props:{href:"#sa-avec-tests-razor2-sur-un-sample-spam",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"SA avec tests Razor2 sur un sample spam"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"spamassassin -t -D razor2 \u003C \u002Fusr\u002Fshare\u002Fsample-nonspam.txt\n\n... plusieurs lignes ...\n\n[19464] dbg: razor2: razor2 is available, version 2.82\n Razor-Log: read_file: 16 items read from \u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\u002Frazor-agent.conf\n Razor-Log: Found razorhome: \u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\nFeb 28 10:48:38.385733 check[19464]: [ 2] [bootup] Logging initiated LogDebugLevel=9 to stdout\nFeb 28 10:48:38.386209 check[19464]: [ 5] computed razorhome=\u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor, conf=\u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\u002Frazor-agent.conf, ident=\u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\u002Fidentity-ruKDx1iKgh\nFeb 28 10:48:38.386500 check[19464]: [ 8] Client supported_engines: 4 8\nFeb 28 10:48:38.386960 check[19464]: [ 8]  prep_mail done: mail 1 headers=293, mime0=616\nFeb 28 10:48:38.387312 check[19464]: [ 5] read_file: 1 items read from \u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\u002Fservers.discovery.lst\n\n... inclusions des config modulaires ...\n\nFeb 28 10:48:38.405171 check[19464]: [ 5] read_file: 23 items read from \u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\u002Fserver.joy.cloudmark.com.conf\nFeb 28 10:48:38.405460 check[19464]: [ 5] 162877 seconds before closest server discovery\nFeb 28 10:48:38.405729 check[19464]: [ 6] c301.cloudmark.com is a Catalogue Server srl 5382; computed min_cf=21, Server se: 3BC8\nFeb 28 10:48:38.405995 check[19464]: [ 8] Computed supported_engines: 4 8\nFeb 28 10:48:38.406217 check[19464]: [ 8] Using next closest server c301.cloudmark.com:2703, cached info srl 5382\nFeb 28 10:48:38.406432 check[19464]: [ 8] mail 1 has no subject\nFeb 28 10:48:38.406840 check[19464]: [ 6] preproc: mail 1.0 went from 616 bytes to 503\nFeb 28 10:48:38.407064 check[19464]: [ 6] computing sigs for mail 1.0, len 503\nFeb 28 10:48:38.408529 check[19464]: [ 6] Engine (8) didn't produce a signature for mail 1.0\nFeb 28 10:48:38.408827 check[19464]: [ 6] skipping whitelist file (empty?): \u002Fetc\u002Fmail\u002Fspamassassin\u002F.razor\u002Frazor-whitelist\nFeb 28 10:48:38.409055 check[19464]: [ 5] Connecting to c301.cloudmark.com ...\nFeb 28 10:48:38.440917 check[19464]: [ 8] Connection established\nFeb 28 10:48:38.441071 check[19464]: [ 4] c301.cloudmark.com \u003E\u003E 36 server greeting: sn=C&srl=5403&a=1&a=cg&ep4=7542-10\nFeb 28 10:48:38.441476 check[19464]: [ 4] c301.cloudmark.com \u003C\u003C 25\nFeb 28 10:48:38.441548 check[19464]: [ 6] cn=razor-agents&cv=2.82\nFeb 28 10:48:38.441813 check[19464]: [ 4] c301.cloudmark.com \u003C\u003C 14\nFeb 28 10:48:38.441873 check[19464]: [ 6] a=g&pm=state\nFeb 28 10:48:38.463790 check[19464]: [ 4] c301.cloudmark.com \u003E\u003E 264\nFeb 28 10:48:38.463875 check[19464]: [ 6] response to sent.2\n...\n[19464] dbg: razor2: part=0 engine=4 contested=0 confidence=100\n[19464] dbg: razor2: results: spam? 1\n[19464] dbg: razor2: results: engine 8, highest cf score: 0\n[19464] dbg: razor2: results: engine 4, highest cf score: 100\n[19464] info: rules: meta test HS_PHARMA_1 has dependency 'HS_SUBJ_ONLINE_PHARMACEUTICAL' with a zero score\nReceived: from localhost by web1.renoirboulanger.com\n        with SpamAssassin (version 3.2.0);\n        Thu, 28 Feb 2008 10:48:41 -0500\nFrom: Sender \u003Csender@example.net\u003E\nTo: Recipient \u003Crecipient@example.net\u003E\nSubject: *****SPAM***** Test spam mail (GTUBE)\nDate: Wed, 23 Jul 2003 23:30:00 +0200\nMessage-Id: \u003CGTUBE1.1010101@example.net\u003E\nX-Spam-Flag: YES\nX-Spam-Checker-Version: SpamAssassin 3.2.0 (2007-05-01) on web1.renoirboulanger.com\nX-Spam-Level: **************************************************\nX-Spam-Status: Yes, score=1002.6 required=5.0 tests=AWL,GTUBE,NO_RECEIVED,\n        NO_RELAYS,RAZOR2_CF_RANGE_51_100,RAZOR2_CF_RANGE_E4_51_100,RAZOR2_CHECK\n        autolearn=no version=3.2.0\nMIME-Version: 1.0\nContent-Type: multipart\u002Fmixed; boundary=\"----------=_47C6D7D9.CD6EF8C3\"\n\nThis is a multi-part message in MIME format.\n\n------------=_47C6D7D9.CD6EF8C3\n...Le courriel en tant que tel\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Note: Il existe trois fichiers de tests: "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fusr\u002Fshare\u002Fsample-spam.txt"}]},{type:a,value:" (test\nemail sample spam), "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fusr\u002Fshare\u002Fsample-nonspam.txt"}]},{type:a,value:" (sample email correct), et\n"},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fusr\u002Fshare\u002Fsample-virus.txt"}]},{type:a,value:" (pour voir si l'antivirus est ok)"}]},{type:a,value:e},{type:b,tag:P,props:{id:go},children:[{type:b,tag:m,props:{href:"#tester-les-relais-smtp",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gp}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Notez que j'ai pas sous la main d'adresse courriel ou serveur connu comme\nspammeur sur notre réseau ce qui est très bien."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Alors si votre test donne pas un résultat similaire... on a un problème de spam!"}]},{type:a,value:e},{type:b,tag:aE,props:{id:"avec-exim--bh"},children:[{type:b,tag:m,props:{href:"#avec-exim--bh",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"avec exim -bh"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Avec la commande "},{type:b,tag:i,props:{},children:[{type:a,value:"exim -bh IP-ADDRESS EMAIL-ADDRESS"}]},{type:a,value:" on peut savoir comment le\ncourriel passe, s'il est accepté."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"exim -bh 69.159.235.26 renoirb@gmail.com\n\n**** SMTP testing session as if from host 69.159.235.26\n**** but without any ident (RFC 1413) callback.\n**** This is not for real!\n\n\u003E\u003E\u003E host in hosts_connection_nolog? no (option unset)\n\u003E\u003E\u003E host in host_lookup? yes (matched \"*\")\n\u003E\u003E\u003E looking up host name for 69.159.235.26\n\u003E\u003E\u003E IP address lookup yielded mtrlpq02-1168108314.sdsl.bell.ca\n\u003E\u003E\u003E gethostbyname looked up these IP addresses:\n\u003E\u003E\u003E   name=mtrlpq02-1168108314.sdsl.bell.ca address=69.159.235.26\n\u003E\u003E\u003E checking addresses for mtrlpq02-1168108314.sdsl.bell.ca\n\u003E\u003E\u003E   69.159.235.26 OK\n\u003E\u003E\u003E host in host_reject_connection? no (option unset)\n\u003E\u003E\u003E host in sender_unqualified_hosts? no (option unset)\n\u003E\u003E\u003E host in recipient_unqualified_hosts? no (option unset)\n\u003E\u003E\u003E host in helo_verify_hosts? no (option unset)\n\u003E\u003E\u003E host in helo_try_verify_hosts? no (option unset)\n\u003E\u003E\u003E host in helo_accept_junk_hosts? no (option unset)\n220 web1.renoirboulanger.com ESMTP Exim 4.66 Thu, 28 Feb 2008 11:02:19 -0500\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Exemple de test fonctionnel (On remarque le message "},{type:b,tag:i,props:{},children:[{type:a,value:"220 hostname ESMTP..."}]},{type:a,value:".\nFaire [^c] pour sortir."}]},{type:a,value:e},{type:b,tag:aE,props:{id:"avec-exim_checkaccess"},children:[{type:b,tag:m,props:{href:"#avec-exim_checkaccess",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"Avec exim_checkaccess"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Une autre version existe qui sort moins de output"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"exim_checkaccess "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:cj}]},{type:a,value:".235.26 contribs@renoirboulanger.com\nAccepted\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:gq},children:[{type:b,tag:m,props:{href:"#statistiques",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gr}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Il existe, a ma mémoire, actuellement, un outil qui permet de savoir l'Activité\ndu serveur. Il est dans un crontab. Voici la commande."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"eximstats \u002Fvar\u002Flog\u002Fexim\u002Fmainlog\n\nExim statistics from "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:"-02-24 04:02:35 to "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:az}]},{type:a,value:"-02-28 "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:aL}]},{type:a,value:":11:24\n\nGrand total summary\n-------------------\n                                                                  At least one address\n  TOTAL               Volume   Messages Addresses     Hosts      Delayed       Failed\n  Received             100MB       "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"6049"}]},{type:a,value:"                "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2029"}]},{type:a,value:"       "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ci}]},{type:a,value:hz},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"0.0"}]},{type:a,value:"%     "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"37"}]},{type:a,value:hz},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"0.6"}]},{type:a,value:"%\n  Delivered            101MB       "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"6174"}]},{type:a,value:"      "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"6336"}]},{type:a,value:"        "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"17"}]},{type:a,value:"\n  Rejects                         "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"45232"}]},{type:a,value:"               "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"21772"}]},{type:a,value:"\n\nDeliveries by transport\n-----------------------\n                      Volume    Messages\n  :blackhole:           12MB        "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2232"}]},{type:a,value:"\n  address_file         660KB          "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"64"}]},{type:a,value:"\n  remote_smtp          600KB          "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"89"}]},{type:a,value:"\n  spamcheck             46MB        "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"2966"}]},{type:a,value:"\n  virtual_localdelivery    42MB         "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:"823"}]},{type:a,value:"\n\nMessages received per hour "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:"each dot is "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hi}]},{type:a,value:" messages"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:"\n---------------------------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:". un tableau par points "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:X},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:" qui donne une idée de grandeur de la quantité de courriel "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:".\n\nTime spent on the queue: all messages\n-------------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:".\n\nTime spent on the queue: messages with at least one remote delivery\n-------------------------------------------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:".\n\nRelayed messages\n----------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:" mail rejection reasons by message count\n----------------------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:" sending hosts by message count\n-------------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:" sending hosts by volume\n------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bf}]},{type:a,value:" senders by message count\n-------------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:bf}]},{type:a,value:" senders by volume\n------------------------------\n\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bo}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:dr}]},{type:a,value:" destinations by message count\n-----------------------------------------\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aj}]},{type:a,value:".\n\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Très utile!"}]},{type:a,value:e},{type:b,tag:P,props:{id:gs},children:[{type:b,tag:m,props:{href:"#vulgarisation",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gt}]},{type:a,value:e},{type:b,tag:Y,props:{id:gu},children:[{type:b,tag:m,props:{href:"#description-du-helo",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gv}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Source: "},{type:b,tag:m,props:{href:dC,rel:[B,C,D],target:E},children:[{type:a,value:dC}]},{type:a,value:" (modifié)"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Une discussion SMTP commence soit par "},{type:b,tag:G,props:{},children:[{type:a,value:"EHLO"}]},{type:a,value:" (ou "},{type:b,tag:G,props:{},children:[{type:a,value:"HELO"}]},{type:a,value:"). Qui, en gros,\nannonce que le serveur de courrier possède quelques features améliorés comparé\naux premières générations de serveur smtp."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cl}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"...But to use later additions to SMTP that have brought about two flavors of the\nlater HELO command (SMTP command generally consist of four characters)."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cl}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"EHLO, being the more recent one makes the server advertise all the additional\nfeatures (such as delivery status notification or the ability to transport\nmessages that contain other than the safe ASCII characters) it supports."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cl}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Not every server will allow this greeting, but it is required to accept a plain\nHELO which naturally assumes that no additional features are present."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:cl}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Both HELO (et EHLO) commands do require the client to specify its domain"}]},{type:a,value:"\nafter the **LO, however."}]},{type:a,value:e},{type:b,tag:P,props:{id:gw},children:[{type:b,tag:m,props:{href:"#r%C3%A9f%C3%A9rences",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:gx}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:m,props:{href:"http:\u002F\u002Fwww.netadmintools.com\u002Fpart276.html",rel:[B,C,D],target:E},children:[{type:a,value:"Tester avec telnet"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:m,props:{href:dC,rel:[B,C,D],target:E},children:[{type:a,value:"Réferences du protocole SMTP"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:m,props:{href:"http:\u002F\u002Femail.about.com\u002Fcs\u002Fstandards\u002Fa\u002Fsmtp_error_code.htm",rel:[B,C,D],target:E},children:[{type:a,value:"Definition messages d'erreur SMTP"}]}]},{type:a,value:e}]},{type:a,value:e}]}]},dir:hA,path:"\u002Fblog\u002F2008\u002F04\u002Ftester-le-fonctionnement-dun-serveur-smtp",extension:aD,slug:"tester-le-fonctionnement-dun-serveur-smtp",createdAt:hB,updatedAt:hB,category:ar,prettyfiedTemporalDate:{prettified:"samedi 19 avril 2008",temporalDate:"2008-04-19"}},{title:"Effacer complètement un disque dur de façon sécuritaire",locale:b$,created:"2008-04-16T00:00:00.000Z",updated:hC,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2008\u002F04\u002Feffacer-un-disque-dur\u002F",status:aB,revising:ak,categories:[ar],tags:[bv,fL,ai,eR,"security"],keywords:["disque dur","disques",bs,"script"],excerpt:"Une procédure qui explique comment complètement effacer un disque dur en écrivant plusieurs fois des données aléatoires pour rendre beaucoup plus difficile de recouvrer les données.",preamble:{disable:ak},toc:[{id:hD,depth:V,text:hE},{id:hF,depth:V,text:hG},{id:hH,depth:V,text:hI},{id:hJ,depth:V,text:hK},{id:hL,depth:V,text:hM},{id:hN,depth:V,text:hO}],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"Lorsqu’on se préocupe de ses informations personnelles et qu’on veut se\ndébarrasser d’un ordinateur ou d’un vieux disque dur il faut, idéalement, le\nvider. J’ai une petite méthode pour le faire pas trop compliqué et totalement\nsécuritaire pour les données."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ma méthode implique"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Un disque dur qu’on veut wiper (effacer)"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Un LiveCD de Linux"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Du temps"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Une tour d’ordinateur pour le processus, idéalement inutilisée... sinon où\nchercher ou quoi utiliser pour se «dé-s’emmerder»\n"},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Un lecteur CD-Rom"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Attention, un peu technique... mais tellement conseillé :)"}]},{type:a,value:e},{type:b,tag:Y,props:{id:hD},children:[{type:b,tag:m,props:{href:"#%C3%A9tape-un-backups",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:hE}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"C’est un peu stupide de le préciser... mais assurez-vous qu’il est vraiment vide\nde vos données avant de faire quoi que ce soit!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Je vous recommande DE NE PAS AVOIR D’AUTRES DISQUES D’INSTALLÉ lors de\nl’exécution de ce script"}]},{type:a,value:" Tant que vous exécutez pas le script a l’"},{type:b,tag:cp,props:{to:hP},children:[{type:a,value:"étape\nsix"}]},{type:a,value:" vous ne risquez rien (!)."}]},{type:a,value:e},{type:b,tag:Y,props:{id:hF},children:[{type:b,tag:m,props:{href:"#%C3%A9tape-deux-graver-le-livecd",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:hG}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour faire la chose facile, vous pouvez prendre le LiveCD de Debian, ma\ndistribution préférée:"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"http:\u002F\u002Flive.debian.net\u002Fcdimage\u002Frelease\u002Fcurrent\u002Fi386\u002Fiso-cd\u002F"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Une version\n\""},{type:b,tag:c,props:{lang:aM,title:"ISO de l’Image d’installation de Debian Linux"},children:[{type:b,tag:i,props:{},children:[{type:a,value:"debian-live-(.*)-i386-rescue.iso"}]}]},{type:a,value:"\"\nfera l’affaire."}]},{type:a,value:e},{type:b,tag:aE,props:{id:"où-trouver-linux"},children:[{type:b,tag:m,props:{href:"#o%C3%B9-trouver-linux",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"OÙ TROUVER LINUX"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Vous pouvez regarder "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwiki.debian.org\u002FLiveCD",rel:[B,C,D],target:E},children:[{type:a,value:"ici"}]},{type:a,value:" pour d’autres versions de Debian."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour remplacer Windows, ce que je recommande c’est d’utiliser "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.ubuntu.com\u002F",rel:[B,C,D],target:E},children:[{type:a,value:"Ubuntu Linux"}]},{type:a,value:"\n(ce que j’utilise pour mon environnement de Bureau)."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Mais ce n’est pas le but de cet article."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Juste une dernière note comme ça: Debian, pour moi, sert pour les serveurs... et\nUbuntu est basé sur Debian."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour ce qui concerne Linux et notre utilisation actuelle, n’importe quelle\nversion fera l’affaire."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Les commandes nécessaires seront celles de base pour n’importe quel Linux depuis\nses débuts :"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fdev\u002Furandom"}]},{type:a,value:", ou"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fdev\u002Fzero"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:an,props:{lang:aM,title:"Device to Device command"},children:[{type:b,tag:i,props:{},children:[{type:a,value:hQ}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Je ne me rappelle pas quand Linux en général a inclus ces trucs mais c’est ce\nqu’il faut."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"En gros les deux premiers sont des "},{type:b,tag:c,props:{lang:aM},children:[{type:a,value:"device files"}]},{type:a,value:" qui\nfournissent du "},{type:b,tag:c,props:{lang:aM},children:[{type:a,value:"junk"}]},{type:a,value:" aléatoire... et l’autre. Que des\nzéros!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Tandis que \"dd\" est un utilitaire pour écrire en "},{type:b,tag:c,props:{lang:aM},children:[{type:a,value:"device to\ndevice"}]},{type:a,value:". En d’autres mots: un périphérique vers l’autre."}]},{type:a,value:e},{type:b,tag:Y,props:{id:hH},children:[{type:b,tag:m,props:{href:"#%C3%A9tape-trois-on-vide",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:hI}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"En fait, on enlève tout les autres disques durs question de ne pas se tromper!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite, il est bien de remarquer que le processus peut prendre du temps. Ce\nserait idéal d’avoir une tour qui sert a rien... sinon on tombe a devoir\nattendre après."}]},{type:a,value:e},{type:b,tag:Y,props:{id:hJ},children:[{type:b,tag:m,props:{href:"#%C3%A9tape-quatre-on-d%C3%A9marre-le-livecd",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:hK}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"On attend le command prompt. C’est comme du "},{type:b,tag:an,props:{},children:[{type:a,value:"DOS"}]},{type:a,value:" à l’époque, sauf\nque c’est vraiment plus puissant!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour reconnaitre un prompt linux, on voit quelque chose du genre:"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"user@debian:~ $\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"ou encore... si on voit le dièze ("},{type:b,tag:i,props:{},children:[{type:a,value:bS}]},{type:a,value:")... c’est qu’on est un super utilisateur\n(root). Un LiveCD nous envoit généralement en root alors on devrait voir quelque\nchose de similaire à:"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"root@debian: ~ #\n"}]}]}]},{type:a,value:e},{type:b,tag:Y,props:{id:hL},children:[{type:b,tag:m,props:{href:"#%C3%A9tape-cinq-on-script-un-peu",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:hM}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"On peut le faire de plusieurs façon la même chose. En gros, on se doit, pour\ns’assurer d’effacer complètement le disque de le remplir au moins huit fois au\nminimum de données random. Alors je propose le petit script qui se copie bien à\nla main."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Si vous avez vidé vos disques durs le disque dur a vider devraît être \u002Fdev\u002Fhda"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour vous en assurer, faites"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"file \u002Fdev\u002Fhda\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Un output similaire ceci devrait sortir..."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fdev\u002Fhda: block special (3\u002F0)\n"}]}]}]},{type:a,value:e},{type:b,tag:aE,props:{id:"«crash-course»-sur-les-partitions-et-linux"},children:[{type:b,tag:m,props:{href:"#%C2%ABcrash-course%C2%BB-sur-les-partitions-et-linux",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:"«CRASH COURSE» SUR LES PARTITIONS ET LINUX"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour vous assurer de ne pas effacer un bon disque dur, je vous "},{type:b,tag:G,props:{},children:[{type:a,value:"re-recommande\nDE NE PAS AVOIR D’AUTRES DISQUES D’INSTALLÉ lors de l’exécution de ce script"}]},{type:a,value:"\n("},{type:b,tag:cp,props:{to:hP},children:[{type:a,value:"étape six"}]},{type:a,value:")!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Parceque si c’est pas le disque \u002Fdev\u002Fhda, c’est peut être \u002Fdev\u002Fsda ou même un\nautre nom."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Petit cours rapide de partitionnement sous Linux."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Les disques durs n’ont pas de lettres... tout dépend où dans le système on\n\"monte\" la partition."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"En fait les noms vont ainsi"}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:an,props:{},children:[{type:a,value:"hda"}]},{type:a,value:aN},{type:b,tag:an,props:{},children:[{type:a,value:"hdb"}]},{type:a,value:aN},{type:b,tag:an,props:{},children:[{type:a,value:"hdc"}]},{type:a,value:"... pour les disques durs\n"},{type:b,tag:an,props:{},children:[{type:a,value:"IDE"}]}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:an,props:{},children:[{type:a,value:"sda"}]},{type:a,value:aN},{type:b,tag:an,props:{},children:[{type:a,value:"sdb"}]},{type:a,value:aN},{type:b,tag:an,props:{},children:[{type:a,value:"sdc."}]},{type:a,value:"... pour les disques\n"},{type:b,tag:an,props:{},children:[{type:a,value:"SATA"}]},{type:a,value:hR},{type:b,tag:an,props:{},children:[{type:a,value:"SCSI"}]},{type:a,value:hR},{type:b,tag:an,props:{},children:[{type:a,value:"USB"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Vous imaginez que le ’a’ (b,c,d...) représente l’ordre selon la nappe de\nconnecteurs."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"La première partition du premier disque sera donc: "},{type:b,tag:an,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fdev\u002Fsda1"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Si tout est beau... on continue."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"vi wipedisk.sh\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"En "},{type:b,tag:_,props:{title:"Vim Editor",lang:aM},children:[{type:a,value:hS}]},{type:a,value:", il faut faire '"},{type:b,tag:i,props:{},children:[{type:a,value:dD}]},{type:a,value:"’ (lettre\n"},{type:b,tag:aw,props:{},children:[{type:a,value:dD}]},{type:a,value:" minuscule, pour entrer en mode \""},{type:b,tag:_,props:{},children:[{type:a,value:"insert"}]},{type:a,value:"\") avant de commencer\nd’écrire..."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:"wipedisk.sh"}]},{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,em,cF]},children:[{type:a,value:en}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:aQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,k]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"(("}]},{type:a,value:dE},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bi}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:dE},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:cd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:hg}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:dE},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"+="}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bi}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"))"}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"do"}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:dd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"Passe "},{type:b,tag:c,props:{className:[d,k]},children:[{type:a,value:"$i"}]},{type:a,value:aa}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:hQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"if"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"\u002Fdev\u002Furandom "},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"of"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:a,value:"\u002Fdev\u002Fhda\n  "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"sleep"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:bi}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,T]},children:[{type:a,value:"done"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite on quitte "},{type:b,tag:G,props:{},children:[{type:a,value:"en faisant"}]},{type:a,value:g},{type:b,tag:aw,props:{title:"Escape"},children:[{type:a,value:hT}]},{type:a,value:hU},{type:b,tag:i,props:{},children:[{type:a,value:hV}]},{type:a,value:"\" (deux\npoints, la lettres minuscules \""},{type:b,tag:i,props:{},children:[{type:a,value:hW}]},{type:a,value:"\" et \""},{type:b,tag:i,props:{},children:[{type:a,value:hX}]},{type:a,value:"\" qui signifient\n"},{type:b,tag:c,props:{lang:aM},children:[{type:b,tag:_,props:{},children:[{type:a,value:"write"}]},{type:a,value:bt},{type:b,tag:_,props:{},children:[{type:a,value:"quit"}]}]},{type:a,value:ah}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"chmod 755 wipedisk.sh\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Qui va rendre le fichier exécutable."}]},{type:a,value:e},{type:b,tag:Y,props:{id:hN},children:[{type:b,tag:m,props:{href:"#%C3%A9tape-six-on-ex%C3%A9cute",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:hO}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:".\u002Fwipedisk.sh\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"En général, ça peut prendre du temps. Le disque devrait être totalement rempli\nd’ordures aléatoire."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Au plaisir!"}]}]},dir:hA,path:"\u002Fblog\u002F2008\u002F04\u002Feffacer-un-disque-dur",extension:aD,slug:"effacer-un-disque-dur",createdAt:hY,updatedAt:hY,category:ar,prettyfiedTemporalDate:{prettified:"mercredi 16 avril 2008",temporalDate:"2008-04-16"}},{title:"Une machine virtuelle Gentoo",locale:b$,created:"2007-02-10T00:00:00.000Z",updated:hC,canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2007\u002F02\u002Fune-machine-virtuelle-gentoo\u002F",status:aB,revising:ak,migrateCode:ak,categories:[a$],tags:[ai,"logiciel-libre",ai],toc:[{id:hZ,depth:N,text:h_},{id:h$,depth:N,text:ia},{id:ib,depth:N,text:ic},{id:id,depth:N,text:ie},{id:if0,depth:N,text:ig},{id:ih,depth:N,text:ii},{id:ij,depth:N,text:ik},{id:il,depth:N,text:im},{id:in0,depth:N,text:io},{id:ip,depth:N,text:iq},{id:ir,depth:N,text:is},{id:it,depth:N,text:iu}],body:{type:al,children:[{type:b,tag:P,props:{id:hZ},children:[{type:b,tag:m,props:{href:"#introduction",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:h_}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Pour monter une machine virtuelle, il faut VMWare player ("},{type:b,tag:m,props:{href:iv,rel:[B,C,D],target:E},children:[{type:a,value:"www.vmware.com"}]},{type:a,value:") J'ai\nchoisi d'utiliser Gentoo pour l'exemple car c'est un linux souple a la ligne de\ncommande et hyper customisable bare-bone. Bref, pas de fla-fla, juste ce que\nl'on a besoin!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Voici les commandes que j'ai fait, je vulgariserai plus tard. La Gentoo VM a\nobtenir"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Voici un snip de la page ou j'ai été chercher la GentooVM pré-configurée"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"SOURCE: "},{type:b,tag:m,props:{href:"http:\u002F\u002Fgentoovm.com\u002Fwiki\u002Findex.php\u002FMain_Page",rel:[B,C,D],target:E},children:[{type:a,value:"gentoovm.com\u002F...\u002FMain_Page"}]},{type:a,value:aN},{type:b,tag:m,props:{href:"https:\u002F\u002Fweb.archive.org\u002Fweb\u002F20070212083334\u002Fhttp:\u002F\u002Fgentoovm.com\u002Fwiki\u002Findex.php\u002FMain_Page",rel:[B,C,D],target:E,title:"Internet Archive version of gentoovm.com Wiki du 14 février 2007"},children:[{type:a,value:"en date du le 14 février\n2007"}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,iw]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"This is a relatively bare bones install of gentoo. Xorg and WM not included. So you still have to build all the stuff.\n\nGentoo 2006.1 (Barebones) VMWare Appliance:\nMD5 Source Comments\nMirror 1 gentoovm.com\nMirror 2 http:\u002F\u002Fgentoo.chem.wisc.edu UW-Madison Dept. of Chemistry official Gentoo source mirror\nMirror 3 gentoovm.intarweb.net This mirror generously provided by Phaerus\n\n* Created: September 23rd, 2006\n* Filesize\n  * Compressed: 409 MB (429,163,861 bytes)\n  * Extracted: 1.16 GB (1,249,512,994 bytes)\n  * Root Password: gentoo\n  * Virtual Drive: 10.7 GB, 10737418240 bytes\n* Partitions\n  * \u002Fdev\u002Fhda1 boot ext2 32MB\n  * \u002Fdev\u002Fhda2 swap 512MB\n  * \u002Fdev\u002Fhda3 reiserfs 10GB\n* Timezone: US\u002FPacific\n* Hostname: gentoo-vm\n* Kernel: gentoo-sources-2.6.17-r8\n* Boot Loader: grub-0.97-r8\n* Network Interface(s): DHCP\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:h$},children:[{type:b,tag:m,props:{href:"#commencer",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ia}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"La prise en main de la Gentoo VM"}]}]},{type:a,value:e},{type:a,value:e},{type:b,tag:"app-alert-box",props:{title:"Dans le terminal"},children:[{type:a,value:"\nChaque ligne de commande peux être faite soit en tant que root, ou avec la commande `sudo`\n"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Changer le mot de passe root"}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"passwd"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Toujours utile de changer son mot de passe root, oubliez pas de faire les ajouts\ndes usagers... plus tard."}]},{type:a,value:e},{type:b,tag:P,props:{id:ib},children:[{type:b,tag:m,props:{href:"#configuration-clavier",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ic}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Changer le keymap"}]},{type:a,value:" (configuration du input local (clavier))"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cn}]},{type:a,value:" \u002Fetc\u002Fconf.d\u002Fkeymaps\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Changer la variable "},{type:b,tag:i,props:{},children:[{type:a,value:"KEYMAP=\"us\""}]},{type:a,value:" pour "},{type:b,tag:i,props:{},children:[{type:a,value:"KEYMAP=\"cf\""}]},{type:a,value:hU},{type:b,tag:i,props:{},children:[{type:a,value:ix}]},{type:a,value:"\" est le clavier\n"},{type:b,tag:_,props:{},children:[{type:a,value:"Canadien Français"}]},{type:a,value:" avec le "},{type:b,tag:aw,props:{},children:[{type:a,value:"SHIFT"}]},{type:a,value:"+"},{type:b,tag:aw,props:{},children:[{type:a,value:bj}]},{type:a,value:" pour \""},{type:b,tag:i,props:{},children:[{type:a,value:"\u002F"}]},{type:a,value:"\" et dièse\n\""},{type:b,tag:i,props:{},children:[{type:a,value:bS}]},{type:a,value:"\" a coté du chiffre \""},{type:b,tag:i,props:{},children:[{type:a,value:bi}]},{type:a,value:"\" au clavier. Mon keymap favori quoi!"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:"\u002Fetc\u002Fconf.d\u002Fkeymaps"}]},{type:b,tag:r,props:{className:[s,iy]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,M,bp]},children:[{type:a,value:"KEYMAP"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,bq,br]},children:[{type:a,value:aa},{type:b,tag:c,props:{className:[d,"inner-value"]},children:[{type:a,value:ix}]},{type:a,value:aa}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Appliquer les changements"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"env-update "},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"&&"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:"source"}]},{type:a,value:" \u002Fetc\u002Fprofile\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:id},children:[{type:b,tag:m,props:{href:"#configuration-r%C3%A9seau",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ie}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Changer le HOSTNAME de la machine, si désiré"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cn}]},{type:a,value:" \u002Fetc\u002Fconf.d\u002Fhostname\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Mettre la valeur que vous voulez, dans l'exemple; simplement remplacer le \"tux\""}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:"\u002Fetc\u002Fconf.d\u002Fhostname"}]},{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,I,k]},children:[{type:b,tag:c,props:{className:[d,"environment","constant"]},children:[{type:a,value:"HOSTNAME"}]}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"tux\""}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Statique-ifier son adresse IP"}]},{type:a,value:" au réseau"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cn}]},{type:a,value:" \u002Fetc\u002Fconf.d\u002Fnet\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Inscrire dans le fichier la configuration IP statique désirée"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:"\u002Fetc\u002Fconf.d\u002Fnet"}]},{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"config_eth0"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"192.168.1.83 netmask 255.255.255.0 brd 192.168.1.255\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,I,k]},children:[{type:a,value:"routes_eth0"}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:au}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"\"default gw 192.168.1.1\""}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ah}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:if0},children:[{type:b,tag:m,props:{href:"#d%C3%A9marer-le-r%C3%A9seau-par-d%C3%A9faut",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ig}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Cette commande ajuste la configuration interne pour s’assurer que l’interface\nréseau "},{type:b,tag:i,props:{},children:[{type:a,value:"eth0"}]},{type:a,value:" est active durant le processus de démarrage."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:dF},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:co}]},{type:a,value:" net.eth0 default\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:ih},children:[{type:b,tag:m,props:{href:"#mapper-le-r%C3%A9seau",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ii}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:cm}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cn}]},{type:a,value:" \u002Fetc\u002Fhosts\n"}]}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:"\u002Fetc\u002Fhosts"}]},{type:b,tag:r,props:{className:[s,iw]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"192.168.1.83 gentoo-vm\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ce peut être une bonne idée d’utiliser le fichier selon l’adressage IP du bureau"}]},{type:a,value:e},{type:b,tag:P,props:{id:ij},children:[{type:b,tag:m,props:{href:"#installer-vim-mon-%C3%A9diteur-favori",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:ik}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"emerge "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:"vim"}]},{type:a,value:" vim-core\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:il},children:[{type:b,tag:m,props:{href:"#sassurer-que-sshd-de-openssh-est-au-d%C3%A9marrage",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:im}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:dF},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:co}]},{type:a,value:" sshd default\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:in0},children:[{type:b,tag:m,props:{href:"#installer-apache2",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:io}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:dd}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'net-www\u002Fapache -mpm-worker mpm-prefork'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ad}]},{type:a,value:" \u002Fetc\u002Fportage\u002Fpackage.use\nemerge "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-aDNtuv"}]},{type:a,value:" apache\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Répondre '"},{type:b,tag:c,props:{lang:aM},children:[{type:a,value:"yes"}]},{type:a,value:"' et attendre..."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Effacer les fichiers de config"}]},{type:a,value:", surtout si l'install est neuve"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aX}]},{type:a,value:" \u002Fetc "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-iname"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,F]},children:[{type:a,value:"'._cfg????_*'"}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:cQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:eP}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:eQ}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ae}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:af}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:at}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Effacer TOUT les fichiers trouvés portant la mention ._cfgTRUC (fichiers\nsauvegardés de config) safe a effacer si machine neuve, ca sert a rien de\n\"gosser\" avec ça! Ajouter Apache2 au default runlevel"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:dF},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:co}]},{type:a,value:" apache2 default\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:ip},children:[{type:b,tag:m,props:{href:"#installer-le-serveur-ftpd",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:iq}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"emerge vsftpd net-ftp\u002Fftp\nrc-update "},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:co}]},{type:a,value:" vsftpd default\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Quick-and-dirty pour installer le FTPd... Copier le fichier config, puis\nconfigurer le serveur FTP"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ba}]},{type:a,value:" \u002Fetc\u002Fvsftpd\u002Fvsftpd.conf.example \u002Fetc\u002Fvsftpd\u002Fvsftpd.conf\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:G,props:{},children:[{type:a,value:"Éditer puis ensuite le démarrer"}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:"\u002Fetc\u002Fvsftpd\u002Fvsftpd.conf"}]},{type:b,tag:r,props:{className:[s,iy]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,M,bp]},children:[{type:a,value:"ascii_upload_enable"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,bq,br]},children:[{type:a,value:dG}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M,bp]},children:[{type:a,value:"ascii_download_enable"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,bq,br]},children:[{type:a,value:dG}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M,bp]},children:[{type:a,value:"local_umask"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,bq,br]},children:[{type:a,value:"022"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M,bp]},children:[{type:a,value:"anonymous_enable"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,bq,br]},children:[{type:a,value:"NO"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,M,bp]},children:[{type:a,value:"local_enable"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:w}]},{type:b,tag:c,props:{className:[d,bq,br]},children:[{type:a,value:dG}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fetc\u002Finit.d\u002Fvsftpd start\n"}]}]}]},{type:a,value:e},{type:b,tag:P,props:{id:ir},children:[{type:b,tag:m,props:{href:"#rappels-de-base",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:is}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Nano et Pico son des éditeurs de base en UNIX, pour quiter après une\nmodification, simplement faire "},{type:b,tag:aw,props:{},children:[{type:a,value:"CTRL"}]},{type:a,value:"+X (pour exit) et répondre aux\nquestions"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Vi ou ViM (Vi-improved) est mon éditeur préféré! pour éditer, faire\n'"},{type:b,tag:aw,props:{style:dH},children:[{type:a,value:dD}]},{type:a,value:"' (insert). Écrire.... puis,\npour terminer; faire "},{type:b,tag:aw,props:{},children:[{type:a,value:hT}]},{type:a,value:" ET\n"},{type:b,tag:aw,props:{},children:[{type:a,value:H}]},{type:b,tag:aw,props:{style:dH},children:[{type:a,value:hW}]},{type:b,tag:aw,props:{style:dH},children:[{type:a,value:hX}]},{type:a,value:"'\n("},{type:b,tag:i,props:{},children:[{type:a,value:hV}]},{type:a,value:" = "},{type:b,tag:c,props:{lang:aM},children:[{type:a,value:"command write and quit"}]},{type:a,value:ah}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:P,props:{id:it},children:[{type:b,tag:m,props:{href:"#ressources",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:iu}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:iz,rel:[B,C,D],target:E},children:[{type:a,value:iz}]},{type:a,value:" Un blog sur le sujet des VM "},{type:b,tag:m,props:{href:iA,rel:[B,C,D],target:E},children:[{type:a,value:iA}]},{type:a,value:"\nQui offre un bon howto et une image bare-bone de Gentoo en VM"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:iB,rel:[B,C,D],target:E},children:[{type:a,value:iB}]},{type:a,value:" LE Handbook pour Gentoo linux"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:iC,rel:[B,C,D],target:E},children:[{type:a,value:iC}]},{type:a,value:" Notes sur\nl'installation de SVN"}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:b,tag:m,props:{href:iD,rel:[B,C,D],target:E},children:[{type:a,value:iD}]},{type:a,value:" Howto\npour DAV et svn... (le sharing à -la-samba)"}]},{type:a,value:e}]}]},dir:"\u002Fblog\u002F2007\u002F02",path:"\u002Fblog\u002F2007\u002F02\u002Fune-machine-virtuelle-gentoo",extension:aD,slug:"une-machine-virtuelle-gentoo",createdAt:iE,updatedAt:iE,category:a$,prettyfiedTemporalDate:{prettified:"samedi 10 février 2007",temporalDate:"2007-02-10"}},{title:"Installer VMWare sur Ubuntu server avec le repositoire de Canonical",locale:b$,created:"2006-12-21T00:00:00.000Z",updated:"2006-12-25T00:00:00.000Z",canonical:"https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2006\u002F12\u002Finstaller-vmware-sur-ubuntu-server-avec-le-repositoire-de-canonical\u002F",status:aB,revising:ag,categories:[a$],tags:[bs,dR,ai],keywords:["VMWare Server","Ubuntu 7.04","Fiesty Fawn","Canonical Repository"],excerpt:"",description:"Procedure pour installer Ubuntu 7.04 Fiesty Fawn pour faire rouler VMWare Server",preamble:{text:"Dans le temps où le «cloud computing» n’était pas très fréquent, ni\nl’automatisation avec Puppet, SaltStack, Ansible. Aussi, les images qui\nétaient originalement incluses dans cet article ne sont plus disponibles, ce\nqui rend cet article peu utilisable. J’ai décidé de conserver quand-même,\ncomme preuve qu’avant d’avoir pris l’habitude de tout automatiser, les\nprocédures avec captures d’écran sont éphémères et perdent tout leur sens sans\nimages.\nD’ailleurs, pour que les services soient résilients, comme par exemple\nles relais SMTP ou DNS qui sont faits pour s’entraîder, ces services sont\npensés pour être composé de plusieurs «nodes» qui ont la même responsabilité\net qu’il est possible de rapidement appliquer la même configuration rapidement.\n"},toc:[{id:iF,depth:N,text:iG},{id:iH,depth:N,text:iI},{id:iJ,depth:N,text:iK}],body:{type:al,children:[{type:b,tag:h,props:{},children:[{type:a,value:"L’idée c’est de d’avoir un serveur rack-mount minimal fait pour héberger les VM\nd’infrastructure du réseau. Actuellement plusieurs de nos serveurs "},{type:b,tag:_,props:{},children:[{type:a,value:"physiques"}]},{type:a,value:"\nont déjà X-Windows sur leur hôtes (SuSE v10, RHEL 4 U5, Gentoo 2007.0, Ubuntu,\netc.) Mais ce sont des installations qui ont été faites avec tout ce qu’il\nsortait sans réfléchir ou se pencher sur l’économie de ressources. Ce serveur\nsera minimal coté installation, et maximisé sur VMWare... voici les étapes que\nj’ai fait."}]},{type:a,value:e},{type:b,tag:P,props:{id:iF},children:[{type:b,tag:m,props:{href:"#t%C3%A9l%C3%A9charger-ubuntu",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:iG}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"L'idée c'est d'installer le serveur en minimal... donc une visite sur\n"},{type:b,tag:m,props:{href:iL,rel:[B,C,D],target:E},children:[{type:a,value:iL}]},{type:a,value:" s'impose."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"La dernière mouture en version server suffit."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Actuellement, celle utilisée a été la Ubuntu server 7.04 Feisty Fawn de son nom."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Il ne reste qu'a brûler le "},{type:b,tag:an,props:{},children:[{type:a,value:"ISO"}]},{type:a,value:" sur un "},{type:b,tag:an,props:{},children:[{type:a,value:"CD"}]},{type:a,value:X}]},{type:a,value:e},{type:b,tag:P,props:{id:iH},children:[{type:b,tag:m,props:{href:"#booter-le-m%C3%A9dium-dinstallation",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:iI}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Une fois le démarrage fait, un écran de la sorte apparaît."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Sélectionner le premier choix, on fait une installation."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Choisir la langue d'installation, personnellement je suis anglophone pour ce qui\ntouche a mon OS, c'est à votre choix."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"On choisit \"Canada\" (contrairement a l'image), choisir son pays... ça aide :)"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite on demande le clavier. Ma combinaison de clavier préféré c'est \"Canadien\nFrançais\" (cf) ou Canadien tout court... c'est pas toujours clair mais le\nlogiciel nous permet de faire nos propres choix et de le tester."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Setter un nom c’t’important. Fiez vous aux normes de votre data-center."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Setter son username habituel, car ensuite faire on peut copier sa clé SSH\npublique direct dans le nouveau serveur"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:iM}]},{type:a,value:" ~\u002F.ssh\u002Fid_dsa.pub ubuntu:~\u002F.ssh\u002Fauthorized_keys\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"et pouvoir vivre sans entrer son password a chaque fois :) (hors du sujet mais\nj'ai mis la commande au cas où)"}]},{type:a,value:e},{type:b,tag:cx,props:{variant:d$,className:[cy],dataDate:iN},children:[{type:a,value:W},{type:b,tag:G,props:{slot:cz},children:[{type:a,value:"Méthode alternative"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Plutôt que d’utiliser "},{type:b,tag:i,props:{},children:[{type:a,value:iM}]},{type:a,value:", nous pouvons aussi utiliser la commande\n"},{type:b,tag:i,props:{},children:[{type:a,value:"ssh-copy-id"}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Personnellement je ne sélectionne rien ici, à moins de m'en servir... mais je\nn'aime pas ça que le serveur LAMP soit installable et upgradable\nautomatiquement... Les applications web ne \"s'upgradent\" pas automatiquement,\nelles."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Installation complétée!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Installation des services Voici les étapes faites pour installer le reste."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Se logguer après le redémarrage avec les crédentiels fournis lors de\nl'installation."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Utiliser "},{type:b,tag:i,props:{},children:[{type:a,value:"sudo su --"}]},{type:a,value:" (ou \""},{type:b,tag:i,props:{},children:[{type:a,value:"sudo -s"}]},{type:a,value:"\") pour s'élever au commandes d'un shell\nroot."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,iO]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aT}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:bu}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:hS}]},{type:a,value:" \u002Fetc\u002Fapt\u002Fsources.list\n"}]}]}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ajoutez la ligne suivante:"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:r,props:{className:[s,ao]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"deb http:\u002F\u002Farchive.canonical.com\u002Fubuntu feisty\u002Fcommercial main\n"}]}]}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite un update et un upgrade s'impose... question de garder à jour le\nserveur."}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:al}]},{type:b,tag:r,props:{className:[s,iO]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:" update\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:" upgrade\n"}]}]}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Puis, installer les kernel-modules"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:al}]},{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:aK}]},{type:a,value:g},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ay}]},{type:a,value:" vmware-server vmware-tools-kernel-modules\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Répondre oui a toutes les questions et entrer le numéro de série VMWare sur le\nsite "},{type:b,tag:m,props:{href:"https:\u002F\u002Fwww.vmware.com\u002F",rel:[B,C,D],target:E},children:[{type:a,value:iv}]},{type:a,value:", obligatoire."}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"La console VMWare Vù qu'on a pas de XWindows pour gérer, on utilise une console\nvmware-server à partir d'une autre machine sur notre LAN."}]},{type:a,value:e},{type:a,value:e},{type:b,tag:cx,props:{variant:"error",className:[cy],dataDate:iN},children:[{type:a,value:W},{type:b,tag:G,props:{slot:cz},children:[{type:a,value:"Après re-lecture (et 18 ans plus tard(!!))"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Je réalise à me relire que cette procédure recommande de télécharger un binaire\n("},{type:b,tag:i,props:{},children:[{type:a,value:iP}]},{type:a,value:") d’un autre blogue. Ne faites pas ça!"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ne suivez pas aveuglément ce type de conseil! Assurez-vous de seulement\ninstaller des binaires de sources que vous faites confiance, comme celles\nprovenant du vendeur. Pas d’un blogue au hasard! A moins que vous puissiez lire\nle code, et compiler vous-même."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:al}]},{type:b,tag:r,props:{className:[s,v],dataLine:ci},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,J,K]},children:[{type:a,value:aI}]},{type:a,value:" \u002Flib\u002Fsecurity\n"},{type:b,tag:c,props:{className:[d,o]},children:[{type:a,value:ev}]},{type:a,value:" https:\u002F\u002Fwww.matthewbrowne.com\u002Fblog\u002Fwp-content\u002Fuploads\u002Fpam_unix_vm.so "},{type:b,tag:c,props:{className:[d,t,k]},children:[{type:a,value:"-o"}]},{type:a,value:" pam_unix_vm.so\n"}]}]}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Le blogeur de qui je prend mes sources avait fait une librairie "},{type:b,tag:i,props:{},children:[{type:a,value:iP}]},{type:a,value:"\npour remplacer "},{type:b,tag:i,props:{},children:[{type:a,value:"pam_unix2.so"}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"De toute façon il lorsque j'éditait le fichier "},{type:b,tag:i,props:{},children:[{type:a,value:"\u002Fetc\u002Fpam.d\u002Fvmware-authd"}]},{type:a,value:" (celui\nauto-généré par notre installation) Sortait avec des liens absolus qui\nsemblaient bogus."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Alors j'ai suivi, récrit le fichier comme suit"}]},{type:a,value:e},{type:b,tag:$,props:{src:aq},children:[{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Ensuite on redémarre la machine"}]},{type:a,value:e},{type:b,tag:p,props:{className:[q]},children:[{type:b,tag:c,props:{className:[aH]},children:[{type:a,value:al}]},{type:b,tag:r,props:{className:[s,v]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"init "},{type:b,tag:c,props:{className:[d,j]},children:[{type:a,value:ck}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Généralement, sur la console, tu pourrait te connecter sur \"Remote host\" avec\ntes crédentiels et ton host et gérer tes VM :)"}]},{type:a,value:e},{type:b,tag:P,props:{id:iJ},children:[{type:b,tag:m,props:{href:"#references",ariaHidden:x,tabIndex:y},children:[{type:b,tag:c,props:{className:[z,A]},children:[]}]},{type:a,value:iK}]},{type:a,value:e},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Les notes très utiles et les screenshots de "},{type:b,tag:d_,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"matthewbrowne.com"}]}]},{type:a,value:" est non\ndisponible et l’Internet Archive n’a rien. Je n'ai plus les images localement\nalors ce post est là pour des raisons historiques."}]},{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Mon expérience, car en fait j'ai traduit son blog-post. Mais je conaissait\npourtant déja les étapes, son post m'a principalement donné une structure pour\nla traduction."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:O,props:{},children:[{type:a,value:e},{type:b,tag:n,props:{},children:[{type:a,value:"Last.fm et la musique et le café :PpP"}]},{type:a,value:e}]},{type:a,value:e}]},dir:"\u002Fblog\u002F2006\u002F12",path:"\u002Fblog\u002F2006\u002F12\u002Finstaller-vmware-sur-ubuntu-server-avec-le-repositoire-de-canonical",extension:aD,slug:"installer-vmware-sur-ubuntu-server-avec-le-repositoire-de-canonical",createdAt:iQ,updatedAt:iQ,category:a$,prettyfiedTemporalDate:{prettified:"jeudi 21 décembre 2006",temporalDate:"2006-12-21"}}],taxonomyKey:ai,taxonomy:{key:ai,human:{key:ai,text:"Procédure",description:"Essais écrits pour expliquer étape par étape comment mettre\nquelque chose en place\n"}}}],fetch:[],mutations:void 0}}("text","element","span","token","\n","punctuation"," ","p","code","number","variable","operator","a","li","function","div","nuxt-content-highlight","pre","line-numbers","parameter","\\","language-bash","=","true",-1,"icon","icon-link","nofollow","noopener","noreferrer","_blank","string","strong",":","assign-left","builtin","class-name","-","key",2,"ul","h2","]","atrule","[","keyword","comment",3,"\n  ",".","h3","ol","em","app-image","\"","\n    ","\n\n","\u003E","{","}",false,")","procedure","..",true,"root","instruction","abbr","language-text","\u003C","lost-image","projects","property",";","(","25","kbd","12","install","2008","250","publish","docker",".md","h4",",","|","filename","cd","-p","apt-get","11","en",", ","-v","\n     ","for","td","26","sudo","mkdir","directive","wget","find","\n      ","en-CA","2023-02-18T00:00:00.000Z","experiments","cp","ENV","w-1\u002F3"," Feb ","-0500","local","S","T","1","3","\u003C\u003C","\u003E\u003E",".   Feb ",".\n\nTop ","50","attr-name","value","attr-value","linux"," and ","-s","techniques","-e","-type"," f ","-name","-y","tr","enter","renoirb@web1.renoirboulanger.com","127.0",", enter","817","operations","webplatform","steps","Steps","screenshots","Screenshots","$(","pwd","\n       ","mv","service","#","export"," is the same as ","-i","sed","Procedure","name","user"," dir ","fr-CA","nc","^c","220","\u003C=","tail","-f","66.46",".177.182","2","69.159","6","(...)","nano","-w","add","nuxt-link","https:\u002F\u002Fgithub.com\u002Fwebspecs\u002Fpublican","Publican"," or ","\n ","exit","id",".\n","rb-notice-box","my-5","header"," run ","-it","--rm","7002","RUN","important","overflow:hidden;clear:both;","thumbnails","gallery","flex","flex-row","flex-wrap","2024-10-24T19:43:51.726Z","--mirror","-k","--header","-exec","xargs","-n2",".deb","\n        ",4,"https:\u002F\u002Fgithub.com\u002Fjordansissel\u002Ffpm","fpm","aufs","language-yaml","%","pkg"," ubuntu\n    ","${pecl_memcached_ver}","OpenStack Cloud-Init dialog","echo"," web1.renoirboulanger.com ","4.66","5","U","P","local ","F","R","Subject:","-02-25 "," from ",":01:14 web1 imapd","19532","host",".0.1","Note: Rappel le ","\u002Fvar\u002Flog\u002Fmaillog"," donne le output des login IMAP(imapd), POP\n(vm-pop3d) et SpamAssasin (spamd)",":02:16 ","20764","354","Faut entrer \"","\n  SMTP",":32:15 web1 spamd","http:\u002F\u002Femail.about.com\u002Fcs\u002Fstandards\u002Fa\u002Fsmtp.htm","i"," i ","rc-update ","YES","text-transform:lowercase;","Discourse","https:\u002F\u002Fmeta.discourse.org\u002Ft\u002Fmove-your-discourse-instance-to-a-different-server\u002F15721","Move your Discourse instance to a different server","IMPORTANT","discourse","https:\u002F\u002Fmeta.discourse.org\u002Ft\u002Fchange-the-domain-name-or-rename-my-discourse\u002F16098","https:\u002F\u002Fmeta.discourse.org\u002Ft\u002Fmultisite-configuration-with-docker\u002F14084\u002F32","https:\u002F\u002Fmeta.discourse.org\u002Ft\u002Fmultisite-configuration-with-docker\u002F14084\u002F8","2024-10-24T19:43:51.729Z","open-source","run-publican-inside-docker","gists","Gists","#steps"," vagrant ","ssh","!","su","del","info","\u002Fdata\"",":\u002Fsrv\u002Fwebapps\u002Fpublican\u002Fdata ","\u002Fspec-data\"",":\u002Fopt\u002Fbikeshed\u002Fbikeshed\u002Fspec-data ",":7002 webspecs\u002Fpublican:wip\n","outside","It should look like the screenshot with caption \"","\".","Starting a build process","\n           ","\"jdoe@example.org\"","$uri","shebang","#!\u002Fbin\u002Fbash","$RUNDIR","0","#screenshots","~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fpublican-preview.png","~\u002Fassets\u002Fcontent\u002Fblog\u002F2015\u002F05\u002Fpublican-deleted-spec-regeneration-question.png","Annotated screenshot, when changing a file a hook is called and regenerates the specification","\u002Fblog\u002F2015\u002F05","curl","1-browse-and-get-all-pages-you-think-could-be-lost-in-scraping","1. Browse and get all pages you think could be lost in scraping","2-lets-scrape-everything","2. Let's scrape everything","3-do-some-cleanup-on-the-fetched-files","3. Do some cleanup on the fetched files","\u002Ffoo.html"," options","-m","-K","-nc"," list.txt ","robots","off ","-E","\n     --user-agent","$UA","$ACCEPTT","\n     http:\u002F\u002Fwww.example.org\u002F\n","rm","-rf","best-practices","ubuntu","why-not-replacing-internal-python-version","Why not replacing internal Python version?","incomplete-scratchpad","Incomplete scratchpad","setuptools","Setuptools","resources","Resources","#procedure","\n        libbluetooth-dev ","\n        libbz2-dev ","\n        libexpat1-dev ","\n        libssl-dev ","tar","make"," fpm\n","https:\u002F\u002Frenoirboulanger.com\u002Fblog\u002F2015\u002F02\u002Finstall-php5-memcached-pecl-extension-support-igbinary\u002F","ln","http:\u002F\u002Fdavebehnke.com\u002Fpython-pyenv-ubuntu.html","https:\u002F\u002Fgithub.com\u002Fyyuu\u002Fpyenv","https:\u002F\u002Fwww.python.org\u002Fdownloads\u002Frelease\u002Fpython-279\u002F","http:\u002F\u002Faboutsimon.com\u002F2012\u002F04\u002F16\u002Fbuilding-a-python-deb-in-a-bootstrapped-ubuntu-chroot-with-fpm\u002F","http:\u002F\u002Fserverfault.com\u002Fquestions\u002F669859\u002Fhow-can-i-upgrade-python-to-2-7-9-on-ubuntu-14-4","http:\u002F\u002Faskubuntu.com\u002Fquestions\u002F101591\u002Fhow-do-i-install-python-2-7-2-on-ubuntu","https:\u002F\u002Fwiki.debian.org\u002FDebootstrap","\u002Fblog\u002F2015\u002F04","2024-10-24T19:43:51.725Z"," https","require"," linux","pkg.installed","unless"," git\n  ",5,"2024-10-24T19:43:51.724Z","build-from-pecl-source","Build from PECL source","make-a-deb-package","Make a .deb package","update-your-private-apt-repository-or-create-one","Update your private apt repository (or create one)","igbinary","https:\u002F\u002Fstackoverflow.com\u002Fquestions\u002F24407095\u002Ferror-when-installing-pecl-memcached\u002F28597188#answer-24892703"," \u002Ftmp\u002Fphp5-memcached\n","dpkg ","2024-10-24T19:43:51.723Z","tutoriels","vérifier-si-le-firewall-bloque-certains-services","Vérifier si le Firewall bloque certains services","tester-le-serveur-courriel","Tester le serveur courriel","créer-un-compte-de-test","Créer un compte de test","test-envoi-local-vers-virtual_local-avec-exim","Test envoi local vers virtual_local avec exim","vérifier-le-log-denvoi-smtp","Vérifier le log d'envoi SMTP","tester-réception-imap","Tester réception IMAP","vérifier-le-log-impad","Vérifier le log impad","vérifier-pop-en-telnet","Vérifier POP en telnet","vérifier-le-log-pop3d","Vérifier le log pop3d","test-envoi-remote-vers-virtual_local-avec-telnet","Test envoi remote vers virtual_local avec telnet","test-envoi-local-vers-une-machine-remote-avec-exim","Test envoi local vers une machine remote avec exim","tester-mail-remote-vers-mailserver-pour-voir-le-bon-fonctionnement-de-spamassassin","Tester mail remote vers mailserver pour voir le bon fonctionnement de SpamAssassin","envoi-courriel-via-une-machine-remote-via-mail","Envoi courriel via une machine remote via mail","regarder-le-log-spamd","Regarder le log spamd","tester-spamassassin","Tester SpamAssassin","tester-les-relais-smtp","Tester les relais SMTP","statistiques","Statistiques","vulgarisation","Vulgarisation","description-du-helo","Description du HELO","références","Références","th","IMAP","143","21","110","1.1"," web1.renoirboulanger.com ESMTP Exim ",", \"","exim ","-odf","\nSubject: Test lundi am ","\nLOG: MAIN\n  "," renoirb@web1.renoirboulanger.com ","renoirb ","390","\"Test lundi am 5 local a virtuallocal\"","virtual_user ","virtual_localdelivery ","\nLOG: MAIN\n  Completed\n","Subject: LE SUJET","data","Voilà!",":02:16 1JSZkp-0001JH-8H ","test"," \u002Fvar\u002Flog\u002Fmaillog\n   Feb ","test@renoirboulanger.com ","web1 ","\n   Feb ","'^]'","Entrer ","494","'test@renoirboulanger.com'","in",".235.26, ","nmsgs","\n   ","10","\".\"","7","http:\u002F\u002Femail.about.com\u002Fcs\u002Fstandards\u002Fa\u002Fsmtp_error_code_2.htm","helo","4","72.14",".205.27","\n         ","joe@web1.renoirboulanger.com","2.1","56256","000801c87894","$66546900","$c07bcf52","@adminhotel",":32:19 web1 spamd","4.1","1602","  ","\u002Fblog\u002F2008\u002F04","2024-10-24T19:43:51.677Z","2013-03-27T00:00:00.000Z","étape-un-backups","ÉTAPE UN... backups?!","étape-deux-graver-le-livecd","ÉTAPE DEUX... Graver le LiveCD","étape-trois-on-vide","ÉTAPE TROIS, on vide","étape-quatre-on-démarre-le-livecd","ÉTAPE QUATRE, On démarre le LiveCD","étape-cinq-on-script-un-peu","ÉTAPE CINQ, on script un peu","étape-six-on-exécute","ÉTAPE SIX... on exécute.","\u002Fblog\u002F2008\u002F04\u002Feffacer-un-disque-dur\u002F#six","dd"," et ","vi","ESC"," \"",":wq","w","q","2024-10-24T19:43:51.675Z","introduction","Introduction","commencer","Commencer","configuration-clavier","Configuration clavier","configuration-réseau","Configuration réseau","démarer-le-réseau-par-défaut","Démarer le réseau par défaut","mapper-le-réseau","Mapper le réseau","installer-vim-mon-éditeur-favori","Installer VIM, mon éditeur favori","sassurer-que-sshd-de-openssh-est-au-démarrage","S'assurer que SSHd de OpenSSH est au démarrage","installer-apache2","Installer Apache2","installer-le-serveur-ftpd","Installer le serveur FTPd","rappels-de-base","Rappels de base","ressources","Ressources","http:\u002F\u002Fwww.vmware.com","language-txt","cf","language-ini","http:\u002F\u002Fwww.vmwhere.net\u002F","http:\u002F\u002Fgentoovm.com\u002F","http:\u002F\u002Fwww.gentoo.org\u002Fdoc\u002Fen\u002Fhandbook\u002F","http:\u002F\u002Fgentoo-wiki.com\u002FHOWTO_Subversion\u002F#Installation","http:\u002F\u002Fgentoo-wiki.com\u002FHOWTO_Apache2_with_subversion_SVN_and_DAV","2024-10-24T19:43:51.667Z","télécharger-ubuntu","Télécharger Ubuntu","booter-le-médium-dinstallation","Booter le médium d'installation","references","References","http:\u002F\u002Fwww.ubuntu.com\u002Fgetubuntu\u002Fdownload\u002F","scp","2024-09-30","language-sh","pam_unix_vm.so","2024-10-24T19:43:51.666Z")));